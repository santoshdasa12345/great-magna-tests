@Great_Magna_Tests @lessons-page @allure.suite:Great_Magna_Lessons
Feature: GreatMagna - Lessons Page

  Background:  

  @allure.link:XOT-124 @Great-Magna-Lessons-progress-bar-test_1
  Scenario: User should be able to view Lesson page "Move from accidental exporting to strategic exporting" and click Yes and back to check the progress bar on lessons and module and lesson categories section 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Learn to export"
    Then "Robert" decides to click on section "Identify opportunities" on page "LearnToExport - Learn Categories"
    And "Robert" decides to click on section "Move from accidental exporting to strategic exporting" on page "LearnToExport - Identify opportunities"
    And "Robert" decides to click checkbox Yes on "LearnToExport - Move from accidental exporting to strategic exporting"
    And "Robert" decides to click on section "Bottom Back" on page "LearnToExport - Move from accidental exporting to strategic exporting"
    And "Robert" should be able to see progress bar for section "Identify opportunities" on "LearnToExport - Identify opportunities" page
    And "Robert" decides to click on section "Top Back" on page "LearnToExport - Identify opportunities"
    And "Robert" should be able to see progress bar for section "Identify opportunities" on "LearnToExport - Learn Categories" page

@functional @fas_1 @allure.suite:FAS
Feature: Contact a Supplier

  @allure.link:ED-2011 @contact @captcha @dev-only @fake-sso-email-verification
  Scenario: Buyers should be able to contact selected Supplier via FAS 
    Given "Annette Geissinger" is a buyer
    And "Peter Alder" is an unauthenticated supplier
    And "Peter Alder" created a "published LTD, PLC or Royal Charter" profile for a random company "Y"
    And "Annette Geissinger" has found a company "Y" on Find a Supplier site
    When "Annette Geissinger" sends a message to company "Y"
    Then "Annette Geissinger" should be told that the message has been sent to company "Y"
    And "Peter Alder" should receive an email message from "Annette Geissinger"

@atlas @landing-page @allure.suite:Atlas
Feature: Invest Atlas - landing page

  Background:  

  @allure.link:CMS-157
  Scenario: Visitors should be able to view "Invest - Landing" page 
    Given test authentication is done
    Given "Robert" visits the "Atlas - landing" page
    Then "Robert" should see following sections
      | Sections    |
      | Header      |
      | Hero        |
      | Benefits    |
      | Sectors     |
      | How we help |
      | Contact us  |
      | Footer      |

@functional @fas_search_1 @allure.suite:FAS
Feature: Find a Supplier

  Background:  

  @bug @allure.issue:TT-1438 @fixed @allure.link:ED-1746 @case-study @profile @verified @published @two-actors @bug @allure.issue:ED-1968 @fixed @bug @allure.issue:ED-3031 @fixed @captcha @dev-only @found-with-automated-tests @fake-sso-email-verification
  Scenario: Buyers should be able to find Supplier by uniquely identifying words present on Supplier's case study 
    Given test authentication is done
    Given "Annette Geissinger" is a buyer
    And "Peter Alder" is an unauthenticated supplier
    And "Peter Alder" created a "published LTD, PLC or Royal Charter" profile for a random company "Y"
    When "Peter Alder" adds a complete case study called "no 1"
    And "Peter Alder" gets the slug for case study "no 1"
    Then "Annette Geissinger" should be able to find company "Y" on FAS using words from case study "no 1"
      | search using case study's |
      | title                     |
      | summary                   |
      | description               |
      | caption 1                 |
      | caption 2                 |
      | caption 3                 |
      | source company            |
      | website                   |

  @allure.link:ED-1746 @case-study @profile @verified @published @bug @allure.issue:ED-3031 @fixed @captcha @dev-only @found-with-automated-tests @fake-sso-email-verification
  Scenario: Buyers should be able to find Supplier by uniquely identifying words present on any of Supplier's case studies 
    Given test authentication is done
    Given "Annette Geissinger" is a buyer
    And "Peter Alder" is an unauthenticated supplier
    And "Peter Alder" created a "published LTD, PLC or Royal Charter" profile for a random company "Y"
    When "Peter Alder" adds a complete case study called "no 1"
    And "Peter Alder" adds a complete case study called "no 2"
    And "Peter Alder" adds a complete case study called "no 3"
    And "Peter Alder" gets the slug for case study "no 1"
    And "Peter Alder" gets the slug for case study "no 2"
    And "Peter Alder" gets the slug for case study "no 3"
    Then "Annette Geissinger" should be able to find company "Y" on FAS using any part of case study "no 1"
    And "Annette Geissinger" should be able to find company "Y" on FAS using any part of case study "no 2"
    And "Annette Geissinger" should be able to find company "Y" on FAS using any part of case study "no 3"

  @allure.link:ED-1746 @case-study @profile @unverified @unpublished @bug @allure.issue:ED-3031 @fixed @bug @allure.issue:TT-727 @fixed @captcha @dev-only @found-with-automated-tests @no-sso-email-verification-required
  Scenario: Buyers should NOT be able to find unverified Supplier by uniquely identifying words present on Supplier's case study 
    Given test authentication is done
    Given "Annette Geissinger" is a buyer
    And "Peter Alder" is an unauthenticated supplier
    And "Peter Alder" created an "unpublished unverified LTD, PLC or Royal Charter" profile for a random company "Y"
    When "Peter Alder" adds a complete case study called "no 1"
    Then "Annette Geissinger" should NOT be able to find company "Y" on FAS by using any part of case study "no 1"

  @allure.link:ED-1967 @bug @allure.issue:TT-1256 @fixed @search @profile @verified @published @captcha @dev-only @fake-sso-email-verification
  Scenario: Buyers should be able to find Supplier by uniquely identifying words present on Supplier's profile 
    Given test authentication is done
    Given "Annette Geissinger" is a buyer
    And "Peter Alder" is an unauthenticated supplier
    And "Peter Alder" created a "published LTD, PLC or Royal Charter" profile for a random company "Y"
    And "Peter Alder" updates company's details
      | detail              |
      | other keywords      |
      | number of employees |
      | sector of interest  |
    And "Peter Alder" gets the slug for company "Y"
    When "Annette Geissinger" searches for company "Y" on FAS using selected company's details
      | company detail |
      | title          |
      | summary        |
      | description    |
      | slug           |
    Then "Annette Geissinger" should be able to find company "Y" on FAS using selected company's details
      | company detail |
      | title          |
      | summary        |
      | description    |
      | slug           |

  @allure.link:ED-2000 @search @no-sso-email-verification-required
  Scenario: Empty search query should return no results 
    Given test authentication is done
    Given "Annette Geissinger" is a buyer
    When "Annette Geissinger" searches for FAS companies with empty search query
    Then "Annette Geissinger" should be told to enter a search term or use the filters

  @dev-only @allure.link:ED-2020 @search @no-sso-email-verification-required
  Scenario: Buyers should be able to find Suppliers by product, service or keyword (Dev) 
    Given test authentication is done
    Given "Annette Geissinger" is a buyer
    When "Annette Geissinger" searches for Suppliers using product name, service name and a keyword
      | product                  | service                 | keyword           | company                 |
      | meaningful relationships | Strategy & Planning     | NationalJigsawDay | AGENCY UK               |
      | logo animations          | content for broadcast   | 3dCG              | LIGHTRHYTHM VISUALS LTD |
      | CANbus displays          | CAN bus Instrumentation | NMEA2000          | CANTRONIK LTD           |
    Then "Annette Geissinger" should be able to find all sought companies

  @stage-only @allure.link:ED-2020 @search @no-sso-email-verification-required
  Scenario: Buyers should be able to find Suppliers by product, service or keyword (Staging) 
    Given test authentication is done
    Given "Annette Geissinger" is a buyer
    When "Annette Geissinger" searches for Suppliers using product name, service name and a keyword
      | product                  | service                 | keyword           | company                 |
      | meaningful relationships | Strategy & Planning     | NationalJigsawDay | AGENCY UK               |
      | logo animations          | content for broadcast   | 3dCG              | LIGHTRHYTHM VISUALS LTD |
      | CANbus displays          | CAN bus Instrumentation | NMEA2000          | CANTRONIK LTD           |
    Then "Annette Geissinger" should be able to find all sought companies

  @uat-only @allure.link:ED-2020 @search @no-sso-email-verification-required
  Scenario: Buyers should be able to find Suppliers by product, service or keyword (UAT) 
    Given test authentication is done
    Given "Annette Geissinger" is a buyer
    When "Annette Geissinger" searches for Suppliers using product name, service name and a keyword
      | product         | service                 | keyword  | company                 |
      | pokers          | construction equipment  | screeds  | MULTIQUIP (UK) LIMITED  |
      | logo animations | content for broadcast   | 3dCG     | LIGHTRHYTHM VISUALS LTD |
      | CANbus displays | CAN bus Instrumentation | NMEA2000 | CANTRONIK LTD           |
    Then "Annette Geissinger" should be able to find all sought companies

  @allure.link:ED-2017 @filter @sector @search @no-sso-email-verification-required
  Scenario: Buyers should be able to browse UK Suppliers by any of available sectors 
    Given test authentication is done
    Given "Annette Geissinger" is a buyer
    When "Annette Geissinger" browse Suppliers by every available sector filter
    Then "Annette Geissinger" should see search results filtered by appropriate sector

  @allure.link:ED-2018 @filter @sector @search @no-sso-email-verification-required
  Scenario: Buyers should be able to browse UK Suppliers by multiple sectors at once 
    Given test authentication is done
    Given "Annette Geissinger" is a buyer
    When "Annette Geissinger" browse Suppliers by multiple sector filters
    Then "Annette Geissinger" should see search results filtered by appropriate sectors

  @allure.link:ED-2018 @filter @sector @search @invalid @no-sso-email-verification-required
  Scenario: Buyers should NOT be able to browse UK Suppliers by invalid sectors 
    Given test authentication is done
    Given "Annette Geissinger" is a buyer
    When "Annette Geissinger" attempts to browse Suppliers by invalid sector filter
    Then "Annette Geissinger" should be told that the search did not match any UK trade profiles

  @allure.link:ED-2019 @filter @sector @search @no-sso-email-verification-required
  Scenario: Buyers should be able to clear search results filters 
    Given test authentication is done
    Given "Annette Geissinger" is a buyer
    When "Annette Geissinger" browse Suppliers by multiple sector filters
    And "Annette Geissinger" clears the search filters
    Then "Annette Geissinger" should be told to enter a search term or use the filters
    And "Annette Geissinger" should see that FAS search results are not filtered by any sector

  @allure.link:ED-1824 @filter @sector @search @no-sso-email-verification-required
  Scenario: Buyers should not see the same company multiple times in the search results even if all associated sector filters are used 
    Given test authentication is done
    Given "Annette Geissinger" is a buyer
    And "Annette Geissinger" finds a Supplier "Y" with a published profile associated with at least "4" different sectors
    When "Annette Geissinger" browse first "10" pages of Suppliers filtered by all sectors associated with company "Y"
    Then "Annette Geissinger" should see company "Y" only once on browsed search result pages

  @allure.link:ED-1983 @search @contextual @no-sso-email-verification-required
  Scenario Outline: Buyers should see highlighted search term "sweets" in the FAS search results - contextual results -- @1.1 terms 
    Given test authentication is done
    Given "Annette Geissinger" is a buyer
    When "Annette Geissinger" searches for Suppliers using "sweets" term
    Then "Annette Geissinger" should see that some of the results have the "sweets" search terms highlighted

  @allure.link:ED-1983 @search @contextual @no-sso-email-verification-required
  Scenario Outline: Buyers should see highlighted search term "metal" in the FAS search results - contextual results -- @1.2 terms 
    Given test authentication is done
    Given "Annette Geissinger" is a buyer
    When "Annette Geissinger" searches for Suppliers using "metal" term
    Then "Annette Geissinger" should see that some of the results have the "metal" search terms highlighted

  @allure.link:TT-1258 @profile @verified @unpublished @captcha @dev-only @found-with-automated-tests
  Scenario: Unpublished business profiles (for any or ISD company) shouldn't appear in FAS search results 
    Given test authentication is done
    Given "Peter Alder" created an "unpublished verified LTD, PLC or Royal Charter" profile for a random company "Y"
    And "Peter Alder" updates company's details
      | detail   |
      | keywords |
    When "Peter Alder" searches for company "Y" on FAS using selected company's details
      | company detail |
      | title          |
      | number         |
      | website        |
      | summary        |
      | description    |
      | slug           |
      | keywords       |
    Then "Peter Alder" should NOT be able to find company "Y" on FAS using selected company's details
      | company detail |
      | title          |
      | number         |
      | website        |
      | summary        |
      | description    |
      | slug           |
      | keywords       |

@Great_Magna_Tests @about-your-business-page @Great_Magna_Export_Plan @allure.suite:Great_Magna_Export_Plan_A_Y_B_P
Feature: GreatMagna - About your Business Page

  Background:  

  @allure.link:XOT-1011 @Great_Magna_Export_Plan_A_Y_B_P_1 @Great_Magna_Export_Plan
  Scenario: User should be able to view "How you started" section and enter text and validate 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "About Your Business" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on element "How you started example" on page "Build An Export Plan - About Your Business"
    And "Robert" decides to click on element "How you started educational" on page "Build An Export Plan - About Your Business"
    And "Robert" decides to enter text at "How you started" on page "Build An Export Plan - About Your Business"
    And "Robert" decides to validate entered text at "How you started" on page "Build An Export Plan - About Your Business"

  @allure.link:XOT-1012 @Great_Magna_Export_Plan_A_Y_B_P @Great_Magna_Export_Plan
  Scenario: User should be able to view  "Where you're based" section and enter text and validate 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "About Your Business" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on element "Where you're based example" on page "Build An Export Plan - About Your Business"
    And "Robert" decides to enter text at "Where you're based" on page "Build An Export Plan - About Your Business"
    And "Robert" decides to validate entered text at "Where you're based" on page "Build An Export Plan - About Your Business"

  @allure.link:XOT-1013 @Great_Magna_Export_Plan_A_Y_B_P @Great_Magna_Export_Plan
  Scenario: User should be able to enter "How you make your products" section and enter text and validate 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "About Your Business" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on element "How you make your products example" on page "Build An Export Plan - About Your Business"
    And "Robert" decides to enter text at "How you make your products" on page "Build An Export Plan - About Your Business"
    And "Robert" decides to validate entered text at "How you make your products" on page "Build An Export Plan - About Your Business"

  @allure.link:XOT-1014 @Great_Magna_Export_Plan_A_Y_B_P @Great_Magna_Export_Plan
  Scenario: User should be able to enter "Your product packaging" section and enter text and validate 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "About your Business" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on element "Your product packaging example" on page "Build An Export Plan - About Your Business"
    And "Robert" decides to enter text at "Your product packaging" on page "Build An Export Plan - About Your Business"
    And "Robert" decides to validate entered text at "Your product packaging" on page "Build An Export Plan - About Your Business"

  @allure.link:XOT-1015 @Great_Magna_Export_Plan_A_Y_B_P @Great_Magna_Export_Plan
  Scenario: User should be able to click on section complete and  "Business objective link" at the bottom of the page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "About Your Business" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click section complete on "Build An Export Plan - About Your Business"
    And "Robert" decides to click on section "Business Objectives" on page "Build An Export Plan - About Your Business"
    And "Robert" should be on the "Build An Export Plan - Business Objectives" page

  @allure.link:XOT-1016 @Great_Magna_Export_Plan_A_Y_B_P @Great_Magna_Export_Plan
  Scenario: User should be able to click on Export plan home and should be on Export plan Home page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "About Your Business" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on section "Export Plan Home" on page "Build An Export Plan - About Your Business"
    And "Robert" should be on the "Build An Export Plan - Export Plan Dashboard" page

  @allure.link:XOT-1017 @Great_Magna_Export_Plan_A_Y_B_P @Great_Magna_Export_Plan
  Scenario: User should be able to click on "Business performance" section and select random turnover 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "About Your Business" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to select random item for "Your business performance dropdown" on page "Build An Export Plan - About Your business"

  @allure.link:XOT-1018 @Great_Magna_Export_Plan_A_Y_B_P @Great_Magna_Export_Plan
  Scenario: User should be able to click on navigation bar and navigate to "Business Objectives" page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "About Your Business" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on element "Open Navigation" on page "Build An Export Plan - About Your Business"
    And "Robert" decides to click on element "Nav Business Objectives" on page "Build An Export Plan - About Your Business"
    And "Robert" should be on the "Build An Export Plan - Business Objectives" Page

  @allure.link:XOT-1019 @Great_Magna_Export_Plan_A_Y_B_P @Great-Magna-Export_Plan-progress-bar-test @Great_Magna_Export_Plan
  Scenario: User should be able to click section complete on "About Your Business" page  and back to export plan dashboard 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    Then "Robert" decides to click on section "About Your Business" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click section complete on "Build An Export Plan - About Your Business"
    And "Robert" decides to click on "Build an export plan"

  @allure.link:XOT-1020 @Great_Magna_Export_Plan_aybp
  Scenario: User should be able to click on Top Export plan home in "About your business" and should be on Export plan dashboard page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "About Your Business" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on section "Top Export Plan Home" on page "Build An Export Plan - About Your Business"
    And "Robert" should be on the "Build An Export Plan - Export Plan Dashboard" page

  @allure.link:XOT-1021 @Great_Magna_Export_Plan_B_O_Last_1 @Great_Magna_Export_Plan_A_Y_B_P @Great_Magna_Export_Plan
  Scenario: User should be able to click on "Drop down" on About your business page and click on dashboard should see "About your business page" as last visited page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "About Your Business" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" should be on the "Build An Export Plan - About Your Business" Page
    And "Robert" decides to click on element "Your product packaging example" on page "Build An Export Plan - About Your Business"
    And "Robert" decides to click on element "Dashboard" on page "Build An Export Plan - About Your Business"

@Great_Magna_Tests @adaptation-for-your-target-market-page @Great_Magna_Export_Plan @allure.suite:Great_Magna_Export_Plan_A_F_Y_T_M
Feature: GreatMagna - Adapting Your Product Page

  Background:  

  @allure.link:XOT-1031 @Great_Magna_Export_Plan
  Scenario: User should be able to click on "Open DataSnapshot" and check whether atleast one language is present 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Adapting Your Product" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on element "Open Data Snapshot" on page "Build An Export Plan - Adapting Your Product"

  @allure.link:XOT-1032 @Great_Magna_Export_Plan
  Scenario: User should be able to click lesson link "Adapting your product or service" and click link back to "Adapting your product" 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Adapting Your Product" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on element "lesson" on page "Build An Export Plan - Adapting Your Product"
    And "Robert" decides to click on section "Adapting your product or service" on page "Build An Export Plan - Adapting Your Product"
    And "Robert" should be on the "LearnToExport - Adapting your product or service" page
    And "Robert" decides to click on section "Adapting Your Product" on page "LearnToExport - Adapting your product or service"

  @allure.link:XOT-1033 @Great_Magna_Export_Plan_changing
  Scenario: User should be able to view tool tip and enter relevant text in "Changing your product to adapt to your target market" 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Adapting Your Product" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on element "Labelling educational" on page "Build An Export Plan - Adapting Your Product"
    And "Robert" decides to enter text at "Labelling" on page "Build An Export Plan - Adapting Your Product"
    And "Robert" decides to validate entered text at "Labelling" on page "Build An Export Plan - Adapting Your Product"
    And "Robert" decides to click on element "Packaging educational" on page "Build An Export Plan - Adapting Your Product"
    And "Robert" decides to enter text at "Packaging" on page "Build An Export Plan - Adapting Your Product"
    And "Robert" decides to validate entered text at "Packaging" on page "Build An Export Plan - Adapting Your Product"
    And "Robert" decides to click on element "Size educational" on page "Build An Export Plan - Adapting Your Product"
    And "Robert" decides to enter text at "Size" on page "Build An Export Plan - Adapting Your Product"
    And "Robert" decides to validate entered text at "Size" on page "Build An Export Plan - Adapting Your Product"
    And "Robert" decides to click on element "Product changes to comply educational" on page "Build An Export Plan - Adapting Your Product"
    And "Robert" decides to enter text at "Product changes to comply" on page "Build An Export Plan - Adapting Your Product"
    And "Robert" decides to validate entered text at "Product changes to comply" on page "Build An Export Plan - Adapting Your Product"
    And "Robert" decides to click on element "Translations educational" on page "Build An Export Plan - Adapting Your Product"
    And "Robert" decides to enter text at "Translations" on page "Build An Export Plan - Adapting Your Product"
    And "Robert" decides to validate entered text at "Translations" on page "Build An Export Plan - Adapting Your Product"
    And "Robert" decides to enter text at "Other changes" on page "Build An Export Plan - Adapting Your Product"
    And "Robert" decides to validate entered text at "Other changes" on page "Build An Export Plan - Adapting Your Product"

  @allure.link:XOT-1034 @Great_Magna_Export_Plan
  Scenario: User should be able to view educational tool tip and enter relevant text in "Documents you need to provide to meet the requirements for your target market" 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Adapting Your Product" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on element "Certificate of origin educational" on page "Build An Export Plan - Adapting Your Product"
    And "Robert" decides to enter text at "Certificate of origin" on page "Build An Export Plan - Adapting Your Product"
    And "Robert" decides to validate entered text at "Certificate of origin" on page "Build An Export Plan - Adapting Your Product"
    And "Robert" decides to click on element "Insurance certificate educational" on page "Build An Export Plan - Adapting Your Product"
    And "Robert" decides to enter text at "Insurance certificate" on page "Build An Export Plan - Adapting Your Product"
    And "Robert" decides to validate entered text at "Insurance certificate" on page "Build An Export Plan - Adapting Your Product"
    And "Robert" decides to click on element "Commercial invoice educational" on page "Build An Export Plan - Adapting Your Product"
    And "Robert" decides to enter text at "Commercial invoice" on page "Build An Export Plan - Adapting Your Product"
    And "Robert" decides to validate entered text at "Commercial invoice" on page "Build An Export Plan - Adapting Your Product"
    And "Robert" decides to click on element "UK customs declaration educational" on page "Build An Export Plan - Adapting Your Product"
    And "Robert" decides to enter text at "UK customs declaration" on page "Build An Export Plan - Adapting Your Product"
    And "Robert" decides to validate entered text at "UK customs declaration" on page "Build An Export Plan - Adapting Your Product"

  @allure.link:XOT-1035 @Great_Magna_Export_Plan
  Scenario: User should be able to click on navigation bar and navigate to "Marketing Approach" page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Adapting Your Product" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on element "Open Navigation" on page "Build An Export Plan - Adapting Your Product"
    And "Robert" decides to click on element "Nav Marketing Approach" on page "Build An Export Plan - Adapting Your Product"
    And "Robert" should be on the "Build An Export Plan - Marketing Approach" Page

  @allure.link:XOT-1036 @Great_Magna_Export_Plan
  Scenario: User should be able to click on page "Marketing approach link" at the bottom of the page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Adapting Your Product" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click section complete on "Build An Export Plan - Adapting Your Product"
    And "Robert" decides to click on section "Marketing approach" on page "Build An Export Plan - Adapting Your Product"
    And "Robert" should be on the "Build An Export Plan - Marketing approach" page

  @allure.link:XOT-1037 @Great_Magna_Export_Plan
  Scenario: User should be able to click on Export plan home and should be on Export plan Home page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Adapting Your Product" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on section "Export Plan Home" on page "Build An Export Plan - Adapting Your Product"
    And "Robert" should be on the "Build An Export Plan - Export Plan Dashboard" page

  @allure.link:XOT-1038 @Great_Magna_Export_Plan
  Scenario: User should be able to click on "Add another document" and enter the Document name and Notes 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Adapting Your Product" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" fill document details on page "Build An Export Plan - Adapting Your Product"
      | Position | DocumentName  | Notes           |
      | 1        | Vat certif    | Vat certificate |
      | 2        | Reg Document  | Reg Document    |
      | 3        | Id Proof      | Id Proof        |
      | 4        | Address Proof | Address Proof   |
      | 5        | Packing List  | Packing List    |

  @allure.link:XOT-1039 @Great_Magna_Export_Plan
  Scenario: User should be able to click on "Add another document" and delete the document and notes 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Adapting Your Product" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to delete document details on page "Build An Export Plan - Adapting Your Product"
      | Position |
      | 5        |
      | 4        |
      | 3        |
      | 2        |
      | 1        |

  @allure.link:XOT-1040 @Great_Magna_Export_Plan
  Scenario: User should be able to click on Top Export plan home and should be on Export plan dashboard page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Adapting Your Product" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on section "Top Export Plan Home" on page "Build An Export Plan - Adapting Your Product"
    And "Robert" should be on the "Build An Export Plan - Export Plan Dashboard" page

  @allure.link:XOT-1042 @Great_Magna_Export_Plan_last
  Scenario: User should be able to click on "Open DataSnapshot" on Adapting Your Product page and click on dashboard should see "Adapting Your Product" as last visited page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Adapting Your Product" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" should be on the "Build An Export Plan - Adapting Your Product" Page
    And "Robert" decides to click on element "Open Data Snapshot" on page "Build An Export Plan - Adapting Your Product"
    And "Robert" decides to click on element "Dashboard" on page "Build An Export Plan - Adapting Your Product"

@Great_Magna_Tests @business-objectives-page @Great_Magna_Export_Plan @allure.suite:Great_Magna_Export_Plan_B_O
Feature: GreatMagna - Business Objectives Page

  Background:  

  @allure.link:XOT-1051 @Great_Magna_Export_Plan
  Scenario: User should be able to view "Why you want to export" section and enter text and validate 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Business Objectives" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on element "Why you want to export example" on page "Build An Export Plan - Business Objectives"
    And "Robert" decides to enter text at "Why you want to export" on page "Build An Export Plan - Business Objectives"
    And "Robert" decides to validate entered text at "Why you want to export" on page "Build An Export Plan - Business Objectives"

  @bug @allure.link:XOT-1052 @Great_Magna_Export_Plan_B_O_123 @Great_Magna_Export_Plan
  Scenario: User should be able to click on "Add goal" and enter the objectives for exporting 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Business Objectives" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" fill business objective details on page "Build An Export Plan - Business Objectives"
      | Position | Objectives | Owner      | PlannedReviews      |
      | 1        | obj1       | obj1-owner | obj1-plannedreviews |
      | 2        | obj2       | obj2-owner | obj2-plannedreviews |
      | 3        | obj3       | obj3-owner | obj3-plannedreviews |
      | 4        | obj4       | obj4-owner | obj4-plannedreviews |
      | 5        | obj5       | obj5-owner | obj5-plannedreviews |

  @allure.link:XOT-1053 @Great_Magna_Export_Plan @Great_Magna_Export_Plan_B_O_D_123
  Scenario: User should be able to delete objectives 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Business Objectives" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to delete business objectives on page "Build An Export Plan - Business Objectives"
      | Position |
      | 5        |
      | 4        |
      | 3        |
      | 2        |
      | 1        |

  @allure.link:XOT-1054 @Great_Magna_Export_Plan_lesson
  Scenario: User should be able to click lessons "Move from accidental exporting to strategic exporting" and click back link "Business Objectives" 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Business Objectives" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on element "move from accidental lesson" on page "Build An Export Plan - Business Objectives"
    And "Robert" decides to click on section "Move from accidental exporting to strategic exporting" on page "Build An Export Plan - Business Objectives"
    And "Robert" should be on the "LearnToExport - Move from accidental exporting to strategic exporting" page
    And "Robert" decides to click on section "Business Objectives" on page "LearnToExport - Move from accidental exporting to strategic exporting"

  @allure.link:XOT-1055 @Great_Magna_Export_Plan
  Scenario: User should be able to click on section complete and "Target markets research link" at the bottom of the page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Business Objectives" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click section complete on "Build An Export Plan - Business Objectives"
    And "Robert" decides to click on section "Target markets research" on page "Build An Export Plan - Business Objectives"
    And "Robert" should be on the "Build An Export Plan - Target markets research" page

  @allure.link:XOT-1056 @Great_Magna_Export_Plan
  Scenario: User should be able to click on Export plan home and should be on Export plan Home page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Business Objectives" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on section "Export Plan Home" on page "Build An Export Plan - Business Objectives"
    And "Robert" should be on the "Build An Export Plan - Export Plan Dashboard" page

  @allure.link:XOT-1057 @Great_Magna_Export_Plan_123
  Scenario: User should be able to click on Top Export plan home and should be on Export plan dashboard page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Business Objectives" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on section "Top Export Plan Home" on page "Build An Export Plan - Business Objectives"
    And "Robert" should be on the "Build An Export Plan - Export Plan Dashboard" page

  @allure.link:XOT-1058 @Great_Magna_Export_Plan
  Scenario: User should be able to click on navigation bar and navigate to "Target Markets Research" page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Business Objectives" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on element "Open Navigation" on page "Build An Export Plan - Business Objectives"
    And "Robert" decides to click on element "Nav Target Markets Research" on page "Build An Export Plan - Business Objectives"
    And "Robert" should be on the "Build An Export Plan - Target Markets Research" Page

  @allure.link:XOT-1059 @Great_Magna_Export_Plan_B_O_1 @Great_Magna_Export_Plan
  Scenario: User should not be able to click on "Add goal" after 5 objectives for exporting 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Business Objectives" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" fill business objective details on page "Build An Export Plan - Business Objectives"
      | Position | Objectives | Owner      | PlannedReviews      |
      | 1        | obj1       | obj1-owner | obj1-plannedreviews |
      | 2        | obj2       | obj2-owner | obj2-plannedreviews |
      | 3        | obj3       | obj3-owner | obj3-plannedreviews |
      | 4        | obj4       | obj4-owner | obj4-plannedreviews |
      | 5        | obj5       | obj5-owner | obj5-plannedreviews |

  @allure.link:XOT-1060 @Great_Magna_Export_Plan_B_O_Last @Great_Magna_Export_Plan
  Scenario: User should be able to click on "Add goal" and enter the objectives for exporting 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Business Objectives" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" should be on the "Build An Export Plan - Business Objectives" Page
    And "Robert" decides to click on element "Why you want to export example" on page "Build An Export Plan - Business Objectives"
    And "Robert" decides to click on element "Dashboard" on page "Build An Export Plan - Business Objectives"
    And "Robert" should see "Business Objectives" text under section "Export Plan" on page "GreatMagna - Dashboard"

@Great_Magna_Tests @business-risk-page @Great_Magna_Export_Plan @allure.suite:Great_Magna_Export_Plan_B_R
Feature: GreatMagna - Business Risk Page

  Background:  

  @allure.link:XOT-1072 @Great_Magna_Export_Plan
  Scenario: User should be able to click on Top Export plan home in Business Risk and should be on Export plan dashboard page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Business Risk" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on section "Top Export Plan Home" on page "Build An Export Plan - Business Risk"
    And "Robert" should be on the "Build An Export Plan - Export Plan Dashboard" page

  @allure.link:XOT-1075 @Great_Magna_Export_Plan
  Scenario: User should be able to click on Export plan home on "Travel plan" and should be on Export plan Home page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Business Risk" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click section complete on "Build An Export Plan - Business Risk"
    And "Robert" decides to click on section "Export Plan Home" on page "Build An Export Plan - Business Risk"
    And "Robert" should be on the "Build An Export Plan - Export Plan Dashboard" page

  @allure.link:XOT-1076 @Great_Magna_Export_Plan_B_O_D_123_add @Great_Magna_Export_Plan
  Scenario: User should be able to click on "Add A Risk" and enter the Risk details for exporting 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Business Risk" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" fill risk details on page "Build An Export Plan - Business Risk"
      | Position | Risktext | Contingencyplan   |
      | 1        | Risk-1   | Contingencyplan-1 |
      | 2        | Risk-2   | Contingencyplan-2 |
      | 3        | Risk-3   | Contingencyplan-3 |
      | 4        | Risk-4   | Contingencyplan-4 |
      | 5        | Risk-5   | Contingencyplan-5 |

  @allure.link:XOT-1077 @Great_Magna_Export_Plan @Great_Magna_Export_Plan_B_O_D_123_del
  Scenario: User should be able to delete "Add a Risk" details 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Business Risk" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to delete risk details on page "Build An Export Plan - Business Risk"
      | Position |
      | 5        |
      | 4        |
      | 3        |
      | 2        |
      | 1        |

  @allure.link:XOT-1078 @Great_Magna_Export_Plan
  Scenario: User should be able to click section complete on Business Risk page and click on dashboard should see "Business Risk" as last visited page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Business Risk" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" should be on the "Build An Export Plan - Business Risk" Page
    And "Robert" decides to click section complete on "Build An Export Plan - Business Risk"
    And "Robert" decides to click on element "Dashboard" on page "Build An Export Plan - Business Risk"
    And "Robert" should see "Business Risk" text under section "Export Plan" on page "GreatMagna - Dashboard"

  @allure.link:XOT-1079 @Great_Magna_Export_Plan_B_R_1_111 @Great_Magna_Export_Plan @failed_exp
  Scenario: User should be able to click on "Add A Risk" and click on Examples and educational moment 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Business Risk" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on element "Add A Risk" on page "Build An Export Plan - Business Risk"
    And "Robert" decides to click on element "Risk example" on page "Build An Export Plan - Business Risk"
    And "Robert" decides to click on element "Risk educational" on page "Build An Export Plan - Business Risk"
    And "Robert" decides to click on element "Risk likelihood educational" on page "Build An Export Plan - Business Risk"
    And "Robert" decides to click on element "Risk impact educational" on page "Build An Export Plan - Business Risk"
    And "Robert" decides to click on element "contingency plan educational" on page "Build An Export Plan - Business Risk"
    And "Robert" decides to click on element "contingency plan example" on page "Build An Export Plan - Business Risk"

@Great_Magna_Tests @costs-and-pricing-page @Great_Magna_Export_Plan @allure.suite:Great_Magna_Export_Plan_C_A_P
Feature: GreatMagna - Costs And Pricing Page

  Background:  

  @allure.link:XOT-1091 @Great_Magna_Export_Plan_cap_1
  Scenario: User should be able to click on navigation bar and navigate to "Funding and credit" page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Costs And Pricing" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on element "Open Navigation" on page "Build An Export Plan - Costs And Pricing"
    And "Robert" decides to click on element "Nav Funding and credit" on page "Build An Export Plan - Costs And Pricing"
    And "Robert" should be on the "Build An Export Plan - Funding and credit" Page

  @allure.link:XOT-1092 @Great_Magna_Export_Plan_cap_2
  Scenario: User should be able to click on "Funding and Credit link" at the bottom of the page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Costs And Pricing" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click section complete on "Build An Export Plan - Costs And Pricing"
    And "Robert" decides to click on section "Funding and Credit" on page "Build An Export Plan - Costs And Pricing"
    And "Robert" should be on the "Build An Export Plan - Funding and Credit" page

  @allure.link:XOT-1093 @Great_Magna_Export_Plan_cap_3
  Scenario: User should be able to click on Export plan home and should be on Export plan Home page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Costs And Pricing" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on section "Export Plan Home" on page "Build An Export Plan - Costs And Pricing"
    And "Robert" should be on the "Build An Export Plan - Export Plan Dashboard" page

  @allure.link:XOT-1094 @Great_Magna_Export_Plan_cap_4
  Scenario: User should be able to click on "No. of units and time" section and select random units and time 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Costs And Pricing" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to enter value in "Number of units" on page "Build An Export Plan - Costs And Pricing"
    And "Robert" decides to select random unit for "Number of units" on page "Build An Export Plan - Costs And Pricing"
    And "Robert" decides to enter value in "Time frame" on page "Build An Export Plan - Costs And Pricing"
    And "Robert" decides to select random time from "Time Frame" on page "Build An Export Plan - Costs And Pricing"

  @allure.link:XOT-1095 @Great_Magna_Export_Plan_cap_5
  Scenario: User should be able to enter "Direct costs" 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Costs And Pricing" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on element "Product Cost educational" on page "Build An Export Plan - Costs And Pricing"
    And "Robert" decides to click on element "Labour Cost educational" on page "Build An Export Plan - Costs And Pricing"
    And "Robert" enters direct costs price on page "Build An Export Plan - Costs And Pricing"
      | Productcost | Labourcost | Additionalmargin |
      | 600         | 35         | 25               |

  @allure.link:XOT-1096 @Great_Magna_Export_Plan_cap_6
  Scenario: User should be able to enter "Overhead costs" 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Costs And Pricing" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on element "Product Adaptation educational" on page "Build An Export Plan - Costs And Pricing"
    And "Robert" decides to click on element "Freight and Logistics educational" on page "Build An Export Plan - Costs And Pricing"
    And "Robert" decides to click on element "Agent and Distribution fees educational" on page "Build An Export Plan - Costs And Pricing"
    And "Robert" decides to click on element "Marketing educational" on page "Build An Export Plan - Costs And Pricing"
    And "Robert" decides to click on element "Insurance educational" on page "Build An Export Plan - Costs And Pricing"
    And "Robert" enters overhead costs price on page "Build An Export Plan - Costs And Pricing"
      | Product Adaptation | Freight and Logistics | Agent and Distribution fees | Marketing | Insurance |
      | 210                | 35                    | 44                          | 55        | 66        |

  @allure.link:XOT-1097 @Great_Magna_Export_Plan_cap_7
  Scenario: User should be able to enter "your net price","Local taxes" and "Duty per unit" value 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Costs And Pricing" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on element "Net Price educational" on page "Build An Export Plan - Costs And Pricing"
    And "Robert" decides to click on element "Net Price example" on page "Build An Export Plan - Costs And Pricing"
    And "Robert" decides to enter value in "Net Price" on page "Build An Export Plan - Costs And Pricing"
    And "Robert" decides to click on element "Local Taxes educational" on page "Build An Export Plan - Costs And Pricing"
    And "Robert" decides to click on element "Local taxes example" on page "Build An Export Plan - Costs And Pricing"
    And "Robert" decides to enter value in "Local taxes" on page "Build An Export Plan - Costs And Pricing"
    And "Robert" decides to click on element "Duty educational" on page "Build An Export Plan - Costs And Pricing"
    And "Robert" decides to enter value in "Duty" on page "Build An Export Plan - Costs And Pricing"

  @allure.link:XOT-1099 @Great_Magna_Export_Plan_cap_8
  Scenario: User should be able to "select currency" and enter invoicing currency 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Costs And Pricing" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on element "lesson" on page "Build An Export Plan - Costs And Pricing"
    And "Robert" decides to click on section "Manage Exchange Rates" on page "Build An Export Plan - Costs And Pricing"
    And "Robert" should be on the "LearnToExport - Manage Exchange Rates" page
    And "Robert" decides to click on section "Costs And Pricing" on page "LearnToExport - Manage Exchange Rates"
    And "Robert" decides to select random currency in "Select Currency" on page "Build An Export Plan - Costs And Pricing"
    And "Robert" decides to enter value in "Gross Price per unit" on page "Build An Export Plan - Costs And Pricing"

  @allure.link:XOT-1100 @Great_Magna_Export_Plan_cap_9 @failed_18
  Scenario: User should be able to click on Top Export plan home in Costs And Pricing and should be on Export plan dashboard page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Costs And Pricing" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on section "Top Export Plan Home" on page "Build An Export Plan - Costs And Pricing"
    And "Robert" should be on the "Build An Export Plan - Export Plan Dashboard" page

  @allure.link:XOT-1102 @Great_Magna_Export_Plan_cap_10 @failed_16
  Scenario: User should be able to click "Net Price example" on Costs And Pricing page and click on dashboard should see "Costs And Pricing" as last visited page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Costs And Pricing" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" should be on the "Build An Export Plan - Costs And Pricing" Page
    And "Robert" decides to click on element "Net Price example" on page "Build An Export Plan - Costs And Pricing"
    And "Robert" decides to click on element "Dashboard" on page "Build An Export Plan - Costs And Pricing"

  @allure.link:XOT-1103 @Great_Magna_Export_Plan_cap_12
  Scenario: User should be able to "select currency" and enter invoicing currency 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Costs And Pricing" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on element "duty lesson" on page "Build An Export Plan - Costs And Pricing"
    And "Robert" decides to click on section "Understand duties and taxes" on page "Build An Export Plan - Costs And Pricing"
    And "Robert" should be on the "LearnToExport - Understand duties and taxes" page
    And "Robert" decides to click on section "Costs And Pricing" on page "LearnToExport - Understand duties and taxes"

  @allure.link:XOT-1104 @Great_Magna_Export_Plan_cap_13
  Scenario: User should be able to click duty lesson "Understand duties and taxes" and click back link "Costs And Pricing" 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Costs And Pricing" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on element "duty lesson" on page "Build An Export Plan - Costs And Pricing"
    And "Robert" decides to click on section "Understand duties and taxes" on page "Build An Export Plan - Costs And Pricing"
    And "Robert" should be on the "LearnToExport - Understand duties and taxes" page
    And "Robert" decides to click on section "Costs And Pricing" on page "LearnToExport - Understand duties and taxes"

  @allure.link:XOT-1104 @Great_Magna_Export_Plan_cap_14
  Scenario: User should be able to click local taxes lesson "local taxes -Understand duties and taxes" and click back link "Costs And Pricing" 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Costs And Pricing" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on element "local taxes lesson" on page "Build An Export Plan - Costs And Pricing"
    And "Robert" decides to click on section "local taxes Understand duties and taxes" on page "Build An Export Plan - Costs And Pricing"
    And "Robert" should be on the "LearnToExport - Understand duties and taxes" page
    And "Robert" decides to click on section "Costs And Pricing" on page "LearnToExport - Understand duties and taxes"

@Great_Magna_Tests @upload-logo-page @allure.suite:Great_Magna_Export_Plan
Feature: GreatMagna - Export plans

  Background:  

  @allure.link:XOT-1113 @Great_Magna_Export_Plan_random
  Scenario: User should be able to select random export plan from the Build an export plan 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to select random export plan on page "Build An Export Plan - Export Plan"
    And "Robert" should be on the "Build An Export Plan - Export Plan Dashboard" Page

  @allure.link:XOT-1113 @Great_Magna_Export_Plan_download
  Scenario: User should be able to select random export plan from the Build an export plan and download plan from export plan dashboard 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to select random export plan on page "Build An Export Plan - Export Plan"
    And "Robert" should be on the "Build An Export Plan - Export Plan Dashboard" Page
    Then "Robert" decides to click on "Download plan"

  @allure.link:XOT-1113 @Great_Magna_Export_Plan_delete_plan
  Scenario: User should be able to select random export plan from the Build an export plan and delete plan from export plan dashboard 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to select random export plan on page "Build An Export Plan - Export Plan"
    And "Robert" should be on the "Build An Export Plan - Export Plan Dashboard" Page
    Then "Robert" decides to click on "Delete plan"

  @allure.link:XOT-1113 @Great_Magna_Export_Plan_random_1
  Scenario: User should be able to select random export plan from the dashboard 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to select random export plan on page "GreatMagna - Dashboard"
    And "Robert" should be on the "Build An Export Plan - Export Plan" Page

  @allure.link:XOT-1113 @Great_Magna_Export_Plan_delete
  Scenario: User should be able to select random export plan from the dashboard 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    Then "Robert" decides to select random export plan on page "GreatMagna - Dashboard"
    And "Robert" should be on the "Build An Export Plan - Export Plan" Page

@Great_Magna_Tests @funding-and-credit-page @Great_Magna_Export_Plan @allure.suite:Great_Magna_Export_Plan_F_A_C
Feature: GreatMagna - Funding and Credit Page

  Background:  

  @allure.link:XOT-1111 @Great_Magna_Export_Plan
  Scenario: User should be able to enter "How much funding you need" 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Funding and Credit" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to enter value in "How much funding" on page "Build An Export Plan - Funding and Credit"

  @allure.link:XOT-1112 @Great_Magna_Export_Plan_FUNDING @failed_exp_3
  Scenario: User should be able to click on "Add a funding option" and select random option and enter value 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Funding and Credit" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to select random funding options on page "Build An Export Plan - Funding and Credit"
      | Position | Amount |
      | 1        | 5000   |
      | 2        | 1000   |
      | 3        | 12000  |
      | 4        | 25000  |
      | 5        | 35000  |

  @allure.link:XOT-1115 @Great_Magna_Export_Plan @failed_exp_2
  Scenario: User should be able to click lessons link "Choose the right funding and credit options" 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Funding and Credit" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on element "lesson" on page "Build An Export Plan - Funding and Credit"
    And "Robert" decides to click on section "Choose the right funding" on page "Build An Export Plan - Funding and Credit"
    And "Robert" should be on the "LearnToExport - Choose the right funding" page
    And "Robert" decides to click on section "Funding and Credit" on page "LearnToExport - Choose the right funding"

  @allure.link:XOT-1116 @Great_Magna_Export_Plan
  Scenario: User should be able to click on navigation bar and navigate to "Getting Paid" page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Funding and Credit" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on element "Open Navigation" on page "Build An Export Plan - Funding and Credit"
    And "Robert" decides to click on element "Nav Getting Paid" on page "Build An Export Plan - Funding and Credit"
    And "Robert" should be on the "Build An Export Plan - Getting paid" Page

  @allure.link:XOT-1117 @Great_Magna_Export_Plan
  Scenario: User should be able to click on page "Getting paid link" at the bottom of the page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Funding and Credit" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click section complete on "Build An Export Plan - Funding and Credit"
    And "Robert" decides to click on section "Getting Paid" on page "Build An Export Plan - Funding and Credit"
    And "Robert" should be on the "Build An Export Plan - Getting Paid" page

  @allure.link:XOT-1118 @Great_Magna_Export_Plan
  Scenario: User should be able to click on Export plan home and should be on Export plan Home page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Funding and Credit" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on section "Export Plan Home" on page "Build An Export Plan - Funding and Credit"
    And "Robert" should be on the "Build An Export Plan - Export Plan Dashboard" page

  @allure.link:XOT-1119 @Great_Magna_Export_Plan_fac
  Scenario: User should be able to click on Top Export plan home in Funding and Credit and should be on Export plan dashboard page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Funding and Credit" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on section "Top Export Plan Home" on page "Build An Export Plan - Funding and Credit"
    And "Robert" should be on the "Build An Export Plan - Export Plan Dashboard" page

  @allure.link:XOT-1121 @Great_Magna_Export_Plan_12 @failed_exp_fc
  Scenario: User should be able to click "lesson" on Funding and Credit page and click on dashboard should see "Funding and Credit" as last visited page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Funding and Credit" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" should be on the "Build An Export Plan - Funding and Credit" Page
    And "Robert" decides to click on element "lesson" on page "Build An Export Plan - Funding and Credit"
    And "Robert" decides to click on element "Dashboard" on page "Build An Export Plan - Funding and Credit"

  @allure.link:XOT-1122 @Great_Magna_Export_Plan_13
  Scenario: User should be able to click lessons link "Avoid cashflow challenges when exporting" and click back link "Costs And Pricing" 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Funding and Credit" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on element "Avoid cashflow lesson" on page "Build An Export Plan - Funding and Credit"
    And "Robert" decides to click on section "Avoid cashflow challenges when exporting" on page "Build An Export Plan - Funding and Credit"
    And "Robert" should be on the "LearnToExport - Avoid cashflow challenges when exporting" page
    And "Robert" decides to click on section "Funding and Credit" on page "LearnToExport - Avoid cashflow challenges when exporting"

@Great_Magna_Tests @getting-paid-page @Great_Magna_Export_Plan @allure.suite:Great_Magna_Export_Plan_G_P
Feature: GreatMagna - Getting Paid Page

  Background:  

  @allure.link:XOT-1131 @Great_Magna_Export_Plan @failed_exp_gp_1_gp
  Scenario: User should be able to click on "Payment methods" section and enter Notes 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Getting Paid" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to select random item for payment methods on page "Build An Export Plan - Getting Paid"
    And "Robert" decides to enter text at "Payment Methods Notes" on page "Build An Export Plan - Getting Paid"

  @allure.link:XOT-1132 @Great_Magna_Export_Plan @failed_exp_gp_112_12
  Scenario: User should be able to click on "Payment Terms" section and enter Notes 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Getting Paid" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to select random item for payment terms on page "Build An Export Plan - Getting Paid"
    And "Robert" decides to enter text at "Payment Terms Notes" on page "Build An Export Plan - Getting Paid"

  @allure.link:XOT-1133 @Great_Magna_Export_Plan @failed_exp_gp_1
  Scenario: User should be able to click on "Incoterms" section and enter Notes 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Getting Paid" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to select random item for incoterms on page "Build An Export Plan - Getting Paid"
    And "Robert" decides to enter text at "Incoterms Notes" on page "Build An Export Plan - Getting Paid"

  @allure.link:XOT-1134 @Great_Magna_Export_Plan__lesson_123 @failed_exp_gp_2
  Scenario: User should be able to click lessons link "Choose the right payment method" 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Getting Paid" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on element "payment methods lesson" on page "Build An Export Plan - Getting Paid"
    And "Robert" decides to click on lesson link "Choose the right payment method" on page "Build An Export Plan - Getting Paid"
    And "Robert" should be on the "LearnToExport - Choose the right payment method" page
    And "Robert" decides to click on section "Getting Paid" on page "LearnToExport - Choose the right payment method"

  @allure.link:XOT-1135 @Great_Magna_Export_Plan__lesson_123
  Scenario: User should be able to click lessons link "Decide when to get paid" 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Getting Paid" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on element "payment terms lesson" on page "Build An Export Plan - Getting Paid"
    And "Robert" decides to click on lesson link "Decide when to get paid" on page "Build An Export Plan - Getting Paid"
    And "Robert" should be on the "LearnToExport - Decide when to get paid" page
    And "Robert" decides to click on section "Getting Paid" on page "LearnToExport - Decide when to get paid"

  @allure.link:XOT-1136 @Great_Magna_Export_Plan__lesson_123
  Scenario: User should be able to click lessons link "Choose which incoterms are right for you" 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Getting Paid" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on element "incoterms lesson" on page "Build An Export Plan - Getting Paid"
    And "Robert" decides to click on lesson link "Choose which incoterms are right for you" on page "Build An Export Plan - Getting Paid"
    And "Robert" should be on the "LearnToExport - Choose which incoterms are right for you" page
    And "Robert" decides to click on section "Getting Paid" on page "LearnToExport - Choose which incoterms are right for you"

  @allure.link:XOT-1137 @Great_Magna_Export_Plan
  Scenario: User should be able to click on navigation bar and navigate to "Travel Plan" page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Getting Paid" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on element "Open Navigation" on page "Build An Export Plan - Getting Paid"
    And "Robert" decides to click on element "Nav Travel Plan" on page "Build An Export Plan - Getting Paid"
    And "Robert" should be on the "Build An Export Plan - Travel Plan" Page

  @allure.link:XOT-1138 @Great_Magna_Export_Plan
  Scenario: User should be able to click on page "Travel Plan" at the bottom of the page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Getting Paid" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click section complete on "Build An Export Plan - Getting Paid"
    And "Robert" decides to click on section "Travel plan" on page "Build An Export Plan - Getting Paid"
    And "Robert" should be on the "Build An Export Plan - Travel plan" page

  @allure.link:XOT-1139 @Great_Magna_Export_Plan
  Scenario: User should be able to click on Export plan home and should be on Export plan Home page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Getting Paid" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on section "Export Plan Home" on page "Build An Export Plan - Getting Paid"
    And "Robert" should be on the "Build An Export Plan - Export Plan Dashboard" page

  @allure.link:XOT-1140 @Great_Magna_Export_Plan
  Scenario: User should be able to click on Top Export plan home in Getting Paid and should be on Export plan dashboard page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Getting Paid" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on section "Top Export Plan Home" on page "Build An Export Plan - Getting Paid"
    And "Robert" should be on the "Build An Export Plan - Export Plan Dashboard" page

  @allure.link:XOT-1142 @Great_Magna_Export_Plan_113
  Scenario: User should be able to click on "Incoterms" on Getting Paid page and click on dashboard should see "Getting Paid" as last visited page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Getting Paid" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" should be on the "Build An Export Plan - Getting Paid" Page
    And "Robert" decides to select random item for incoterms on page "Build An Export Plan - Getting Paid"
    And "Robert" decides to click on element "Dashboard" on page "Build An Export Plan - Getting Paid"

@Great_Magna_Tests @marketing-approach-page @Great_Magna_Export_Plan @allure.suite:Great_Magna_Export_Plan_M_A
Feature: GreatMagna - Marketing approach Page

  Background:  

  @allure.link:XOT-1151 @Great_Magna_Export_Plan_B_O_D_1_123
  Scenario: User should be able to click on "Route to market" section and select random "route" and "how will you promote product" 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Marketing approach" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to select random item for "Route to market" on page "Build An Export Plan - Marketing approach"

  @allure.link:XOT-1152 @Great_Magna_Export_Plan_B_O @Great_Magna_Export_Plan
  Scenario: User should be able to click on "Add goal" and enter the objectives for exporting 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Business Objectives" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" fill business objective details on page "Build An Export Plan - Business Objectives"
      | Position | Objectives | Owner      | PlannedReviews      |
      | 1        | obj1       | obj1-owner | obj1-plannedreviews |
      | 2        | obj2       | obj2-owner | obj2-plannedreviews |
      | 3        | obj3       | obj3-owner | obj3-plannedreviews |
      | 4        | obj4       | obj4-owner | obj4-plannedreviews |
      | 5        | obj5       | obj5-owner | obj5-plannedreviews |

  @allure.link:XOT-1153 @Great_Magna_Export_Plan @Great_Magna_Export_Plan_B_O_D_1_123
  Scenario: User should be able to delete Route to market 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Marketing approach" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to delete route to market on page "Build An Export Plan - Marketing approach"
      | Position |
      | 5        |
      | 4        |
      | 3        |
      | 2        |
      | 1        |

  @allure.link:XOT-1154 @Great_Magna_Export_Plan_les_ma
  Scenario: User should be able to click lessons link "Selling direct to your customer" 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Marketing approach" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on element "What Marketing resources example" on page "Build An Export Plan - Marketing approach"
    And "Robert" decides to click on element "Add route to market" on page "Build An Export Plan - Marketing approach"
    And "Robert" decides to click on element "lesson" on page "Build An Export Plan - Marketing approach"
    And "Robert" decides to click on section "Choose the right route to market" on page "Build An Export Plan - Marketing approach"
    And "Robert" should be on the "LearnToExport - Choose the right route to market" page
    And "Robert" decides to click on section "Marketing approach" on page "LearnToExport - Choose the right route to market"

  @allure.link:XOT-1155 @Great_Magna_Export_Plan
  Scenario: User should be able to view Marketing approach pages 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Marketing approach" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on element "open" on page "Build An Export Plan - Marketing approach"
    And "Robert" decides to click on element "0-14 year olds" on page "Build An Export Plan - Marketing approach"
    And "Robert" decides to click on element "confirm" on page "Build An Export Plan - Marketing approach"

  @allure.link:XOT-1156 @Great_Magna_Export_Plan
  Scenario: User should be able to click on navigation bar and navigate to "Costs and pricing" page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Marketing approach" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on element "Open Navigation" on page "Build An Export Plan - Marketing approach"
    And "Robert" decides to click on element "Nav Costs And Pricing" on page "Build An Export Plan - Marketing approach"
    And "Robert" should be on the "Build An Export Plan - Costs And Pricing" Page

  @allure.link:XOT-1157 @Great_Magna_Export_Plan
  Scenario: User should be able to click on page "Costs And Pricing link" at the bottom of the page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Marketing approach" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click section complete on "Build An Export Plan - Marketing approach"
    And "Robert" decides to click on section "Costs And Pricing" on page "Build An Export Plan - Marketing approach"
    And "Robert" should be on the "Build An Export Plan - Costs And Pricing" page

  @allure.link:XOT-1158 @Great_Magna_Export_Plan
  Scenario: User should be able to click on Export plan home and should be on Export plan Home page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Marketing approach" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on section "Export Plan Home" on page "Build An Export Plan - Marketing approach"
    And "Robert" should be on the "Build An Export Plan - Export Plan Dashboard" page

  @allure.link:XOT-1159 @Great_Magna_Export_Plan
  Scenario: User should be able to click on Top Export plan home in Marketing approach and should be on Export plan dashboard page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Marketing approach" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on section "Top Export Plan Home" on page "Build An Export Plan - Marketing approach"
    And "Robert" should be on the "Build An Export Plan - Export Plan Dashboard" page

  @allure.link:XOT-1161 @Great_Magna_Export_Plan_115
  Scenario: User should be able to click on "Add route to market" on Marketing approach page and click on dashboard should see "Marketing approach" as last visited page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Marketing approach" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" should be on the "Build An Export Plan - Marketing approach" Page
    And "Robert" decides to click on element "Add route to market" on page "Build An Export Plan - Marketing approach"
    And "Robert" decides to click on element "Dashboard" on page "Build An Export Plan - Marketing approach"

@Great_Magna_Tests @target-markets-research-page @allure.suite:Great_Magna_Export_Plan_T_M_R @Great_Magna_Export_Plan
Feature: GreatMagna - Target Markets Research Page

  Background:  

  @allure.link:XOT-1171 @Great_Magna_Export_Plan
  Scenario: User should be able to "Open DataSnapshot" and select random age group and confirm 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Target Markets Research" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on element "Data Snapshot" on page "Build An Export Plan - Target Markets Research"
    And "Robert" decides to select random checkbox "Age Group" on page "Build An Export Plan - Target Markets Research"

  @allure.link:XOT-1173 @Great_Magna_Export_Plan_tm_1
  Scenario: User should be able to view "Describe the consumer demand" section and enter text and validate 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Target Markets Research" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on element "Describe the consumer demand example" on page "Build An Export Plan - Target Markets Research"
    And "Robert" decides to enter text at "Describe the consumer demand" on page "Build An Export Plan - Target Markets Research"
    And "Robert" decides to validate entered text at "Describe the consumer demand" on page "Build An Export Plan - Target Markets Research"

  @allure.link:XOT-1174 @Great_Magna_Export_Plan_tm
  Scenario: User should be able to view "Who are your competitors" section and enter text and validate 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Target Markets Research" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on element "Who are your competitors example" on page "Build An Export Plan - Target Markets Research"
    And "Robert" decides to enter text at "Who are your competitors" on page "Build An Export Plan - Target Markets Research"
    And "Robert" decides to validate entered text at "Who are your competitors" on page "Build An Export Plan - Target Markets Research"

  @allure.link:XOT-1175 @Great_Magna_Export_Plan
  Scenario: User should be able to view "What are the product trends" section and enter text and validate 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Target Markets Research" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on element "What are the product trends example" on page "Build An Export Plan - Target Markets Research"
    And "Robert" decides to enter text at "What are the product trends" on page "Build An Export Plan - Target Markets Research"
    And "Robert" decides to validate entered text at "What are the product trends" on page "Build An Export Plan - Target Markets Research"

  @allure.link:XOT-1176 @Great_Magna_Export_Plan @failed_4
  Scenario: User should be able to view "What’s your unique selling proposition" section and enter text and validate 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Target Markets Research" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on element "What’s your unique selling proposition example" on page "Build An Export Plan - Target Markets Research"
    And "Robert" decides to enter text at "What’s your unique selling proposition" on page "Build An Export Plan - Target Markets Research"
    And "Robert" decides to validate entered text at "What’s your unique selling proposition" on page "Build An Export Plan - Target Markets Research"

  @allure.link:XOT-1177 @Great_Magna_Export_Plan
  Scenario: User should be able to enter price in  "What’s the average price for your product" 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Target Markets Research" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to enter value in "What’s the average price for your product" on page "Build An Export Plan - Target Markets Research"

  @allure.link:XOT-1178 @Great_Magna_Export_Plan @tm_5
  Scenario: User should be able to click lesson link "Work out customer demand" and click link back to "Target Markets Research" 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Target Markets Research" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on element "lesson" on page "Build An Export Plan - Target Markets Research"
    And "Robert" decides to click on section "Work out customer demand" on page "Build An Export Plan - Target Markets Research"
    And "Robert" should be on the "LearnToExport - Work out customer demand" page
    And "Robert" decides to click on section "Target Markets Research" on page "LearnToExport - Work out customer demand"

  @allure.link:XOT-1179 @Great_Magna_Export_Plan
  Scenario: User should be able to click on page "Adapting Your Product link" at the bottom of the page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Target Markets Research" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click section complete on "Build An Export Plan - Target Markets Research"
    And "Robert" decides to click on section "Adapting Your Product" on page "Build An Export Plan - Target Markets Research"
    And "Robert" should be on the "Build An Export Plan - Adapting Your Product" page

  @allure.link:XOT-1180 @Great_Magna_Export_Plan
  Scenario: User should be able to click on Export plan home and should be on Export plan Home page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Target Markets Research" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on section "Export Plan Home" on page "Build An Export Plan - Target Markets Research"
    And "Robert" should be on the "Build An Export Plan - Export Plan Dashboard" page

  @allure.link:XOT-1181 @Great_Magna_Export_Plan
  Scenario: User should be able to click on navigation bar and navigate to "Adapting Your Product" page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Target Markets Research" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on element "Open Navigation" on page "Build An Export Plan - Target Markets Research"
    And "Robert" decides to click on element "Nav Adapting Your Product" on page "Build An Export Plan - Target Markets Research"
    And "Robert" should be on the "Build An Export Plan - Adapting Your Product" Page

  @allure.link:XOT-1182 @Great_Magna_Export_Plan
  Scenario: User should be able to click on Top Export plan home in Target Markets Research and should be on Export plan dashboard page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Target Markets Research" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on section "Top Export Plan Home" on page "Build An Export Plan - Target Markets Research"
    And "Robert" should be on the "Build An Export Plan - Export Plan Dashboard" page

  @allure.link:XOT-1183 @Great_Magna_Export_Plan_T_M_R_1 @Great_Magna_Export_Plan
  Scenario: User should be able to enter price in  "What’s the average price for your product" 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Target Markets Research" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to enter value in "What’s the average price for your product" on page "Build An Export Plan - Target Markets Research"

  @allure.link:XOT-1185 @Great_Magna_Export_Plan_117 @Great_Magna_Export_Plan
  Scenario: User should be able to click on "What’s the average price for your product" on Target Markets Research" page and click on dashboard should see "Marketing approach" as last visited page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Target Markets Research" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" should be on the "Build An Export Plan - Target Markets Research" Page
    And "Robert" decides to enter value in "What’s the average price for your product" on page "Build An Export Plan - Target Markets Research"
    And "Robert" decides to click on element "Dashboard" on page "Build An Export Plan - Target Markets Research"
    And "Robert" should see "Target Markets Research" text under section "Export Plan" on page "GreatMagna - Dashboard"

@Great_Magna_Tests @travel-plan-page @Great_Magna_Export_Plan @allure.suite:Great_Magna_Export_Plan_T_P
Feature: GreatMagna - Travel Plan Page

  Background:  

  @allure.link:XOT-1191 @Great_Magna_Export_Plan
  Scenario: User should be able to enter text at  "Travel Information"  and "Cultural Information"section and validate 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Travel Plan" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on element "open datasnapshot" on page "Build An Export Plan - Travel Plan"
    And "Robert" decides to click on element "languages educational" on page "Build An Export Plan - Travel Plan"
    And "Robert" decides to click on element "travel information educational" on page "Build An Export Plan - Travel Plan"
    And "Robert" decides to enter text at "travel information" on page "Build An Export Plan - Travel Plan"
    And "Robert" decides to validate entered text at "travel information" on page "Build An Export Plan - Travel Plan"
    And "Robert" decides to enter text at "cultural information" on page "Build An Export Plan - Travel Plan"
    And "Robert" decides to validate entered text at "cultural information" on page "Build An Export Plan - Travel Plan"

  @allure.link:XOT-1192 @Great_Magna_Export_Plan_D
  Scenario: User should be able to click on "Visa Information" and "Planned Travel" section and validate 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Travel Plan" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to select radio button "I dont need visa" on page "Build An Export Plan - Travel Plan"
    And "Robert" decides to click on element "Planned Travel educational" on page "Build An Export Plan - Travel Plan"

  @allure.link:XOT-1193 @Great_Magna_Export_Plan_D
  Scenario: User should be able to click on "Visa Information" and enter text adn validate 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Travel Plan" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to select radio button "I need a visa" on page "Build An Export Plan - Travel Plan"
    And "Robert" decides to enter text at "How and where" on page "Build An Export Plan - Travel Plan"
    And "Robert" decides to enter text at "How long" on page "Build An Export Plan - Travel Plan"
    And "Robert" decides to enter text at "notes" on page "Build An Export Plan - Travel Plan"

  @allure.link:XOT-1194 @Great_Magna_Export_Plan_tp_1
  Scenario: User should be able to click another trip and enter trip details and delete "Trip details" 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Travel Plan" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" fill trip details on page "Build An Export Plan - Travel Plan"
      | Position | TripName          |
      | 1        | Trip1- India      |
      | 2        | Trip2- Nigeria    |
      | 3        | Trip3- Ghana      |
      | 4        | Trip4- Bangladesh |
      | 5        | Trip5- Indonesia  |

  @allure.link:XOT-1195 @Great_Magna_Export_Plan_tp @failed_exp
  Scenario: User should be able to delete the trip details 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Travel Plan" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to delete trip details on page "Build An Export Plan - Travel Plan"
      | Position |
      | 5        |
      | 4        |

  @allure.link:XOT-1196 @Great-Magna-Export_Plan-progress-bar-test
  Scenario: User should be able to click on page "Business Risk link" at the bottom of the page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    Then "Robert" decides to click on section "Travel Plan" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click section complete on "Build An Export Plan - Travel Plan"
    And "Robert" decides to click on section "Business Risk" on page "Build An Export Plan - Travel Plan"
    And "Robert" should be on the "Build An Export Plan - Business Risk" page

  @allure.link:XOT-1197 @Great_Magna_Export_Plan
  Scenario: User should be able to click on navigation bar and navigate to "Business Risk" page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Travel Plan" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on element "Open Navigation" on page "Build An Export Plan - Travel Plan"
    And "Robert" decides to click on element "Nav Business Risk" on page "Build An Export Plan - Travel Plan"
    And "Robert" should be on the "Build An Export Plan - Business Risk" Page

  @allure.link:XOT-1198 @Great_Magna_Export_Plan
  Scenario: User should be able to click on Export plan home on "Travel plan" and should be on Export plan Home page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Travel plan" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on section "Export Plan Home" on page "Build An Export Plan - Travel plan"
    And "Robert" should be on the "Build An Export Plan - Export Plan Dashboard" page

  @allure.link:XOT-1199 @Great_Magna_Export_Plan_124_oo
  Scenario: User should be able to click on Top Export plan home in Travel Plan" and should be on Export plan dashboard page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Travel Plan" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to click on section "Top Export Plan Home" on page "Build An Export Plan - Travel Plan"
    And "Robert" should be on the "Build An Export Plan - Export Plan Dashboard" page

  @allure.link:XOT-1202 @Great_Magna_Export_Plan_118
  Scenario: User should be able to click on "Export Plan Home" on Travel Plan page and click on dashboard should see "Marketing approach" as last visited page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Build an export plan"
    And "Robert" decides to click on section "Exporting Plan 1" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click on section "Travel Plan" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" should be on the "Build An Export Plan - Travel Plan" Page
    And "Robert" decides to click on section "Export Plan Home" on page "Build An Export Plan - Travel plan"
    And "Robert" decides to click on element "Dashboard" on page "Build An Export Plan - Travel Plan"
    And "Robert" should see "Travel Plan" text under section "Export Plan" on page "GreatMagna - Dashboard"

@domestic @services @allure.suite:Domestic
Feature: Domestic - Accessing Services

  Background:  

  @allure.link:ED-2659 @home-page @passed @accessing-services_1
  Scenario: Any Exporter visiting the Services page should be able to see links to all relevant Services 
    Given test authentication is done
    When "Robert" goes to the "Domestic - Services" page
    Then "Robert" should see following sections
      | sections               |
      | Header                 |
      | SSO links - logged out |
      | Breadcrumbs            |
      | Services               |
      | Error reporting        |

  @bug @allure.issue:ED-2702 @allure.link:ED-2661 @home-page @accessing-services_2 @Create_a_business_profile @external-service_1
  Scenario Outline: Any Exporter should be able to get to the "Find a Buyer - Home" Service page from "Domestic - Services" page -- @1.1  
    Given test authentication is done
    Given "Robert" visits the "Domestic - Services" page
    When "Robert" decides to find out more about "Create a business profile"
    Then "Robert" should be on the "Find a Buyer - Home" page

  @bug @allure.issue:ED-2702 @allure.link:ED-2661 @home-page @accessing-services_2 @Find_online_marketplaces @external-service_1
  Scenario Outline: Any Exporter should be able to get to the "Selling online overseas - Home" Service page from "Domestic - Services" page -- @1.2  
    Given test authentication is done
    Given "Robert" visits the "Domestic - Services" page
    When "Robert" decides to find out more about "Find online marketplaces"
    Then "Robert" should be on the "Selling online overseas - Home" page

  @bug @allure.issue:ED-2702 @allure.link:ED-2661 @home-page @accessing-services_2 @Find_export_opportunities @external-service_1
  Scenario Outline: Any Exporter should be able to get to the "Export Opportunities - Home" Service page from "Domestic - Services" page -- @1.3  
    Given test authentication is done
    Given "Robert" visits the "Domestic - Services" page
    When "Robert" decides to find out more about "Find export opportunities"
    Then "Robert" should be on the "Export Opportunities - Home" page

  @bug @allure.issue:ED-2702 @allure.link:ED-2661 @home-page @accessing-services_2 @UK_Export_Finance @external-service_1
  Scenario Outline: Any Exporter should be able to get to the "Domestic - Get Finance" Service page from "Domestic - Services" page -- @1.4  
    Given test authentication is done
    Given "Robert" visits the "Domestic - Services" page
    When "Robert" decides to find out more about "UK Export Finance"
    Then "Robert" should be on the "Domestic - Get Finance" page

  @bug @allure.issue:ED-2702 @allure.link:ED-2661 @home-page @accessing-services_2 @Find_events_and_visits @external-service_1
  Scenario Outline: Any Exporter should be able to get to the "Events - Home" Service page from "Domestic - Services" page -- @1.5  
    Given test authentication is done
    Given "Robert" visits the "Domestic - Services" page
    When "Robert" decides to find out more about "Find events and visits"
    Then "Robert" should be on the "Events - Home" page

  @bug @allure.issue:ED-2702 @allure.link:ED-2661 @home-page @accessing-services_2 @Get_an_EORI_number @external-service_1
  Scenario Outline: Any Exporter should be able to get to the "EORI - Home" Service page from "Domestic - Services" page -- @1.6  
    Given test authentication is done
    Given "Robert" visits the "Domestic - Services" page
    When "Robert" decides to find out more about "Get an EORI number"
    Then "Robert" should be on the "EORI - Home" page

  @bug @allure.issue:ED-2702 @allure.link:ED-2661 @home-page @accessing-services_2 @Report_A_Trade_Barrier @external-service_1
  Scenario Outline: Any Exporter should be able to get to the "Domestic - Report a trade barrier" Service page from "Domestic - Services" page -- @1.7  
    Given test authentication is done
    Given "Robert" visits the "Domestic - Services" page
    When "Robert" decides to find out more about "Report A Trade Barrier"
    Then "Robert" should be on the "Domestic - Report a trade barrier" page

@domestic @advice @allure.suite:Domestic
Feature: Domestic - Advice articles

  Background:  

  @allure.link:CMS-686 @advice_1 @articles
  Scenario: Any Exporter should see all expected sections on "Domestic - Advice landing" page 
    Given test authentication is done
    When "Robert" goes to the "Domestic - Advice landing" page
    Then "Robert" should see following sections
      | sections                |
      | Header                  |
      | Hero                    |
      | Breadcrumbs             |
      | Advice & Guidance tiles |
      | Error reporting         |

  @allure.link:CMS-686 @advice_2 @bug_domestic @articles
  Scenario: Any Exporter should be able to get to a list of Advice articles from the home page using link in "<specific>" section 
    Given test authentication is done
    Given "Robert" visits the "Domestic - Advice landing" page
    When "Robert" opens any article on the list
    Then "Robert" should be on the "Domestic - Advice article list" page
    And "Robert" should see following sections
      | sections         |
      | Header           |
      | Hero             |
      | Breadcrumbs      |
      | List of articles |
      | Error reporting  |

  @allure.link:CMS-686 @advice_3 @bug_domestic @articles
  Scenario Outline: Any Exporter should be able to get to "Find an export market" Advice article -- @1.1  
    Given test authentication is done
    Given "Robert" visits the "Domestic - Find an export market - Article list" page
    When "Robert" opens any article on the list
    Then "Robert" should be on the "Domestic - Advice article" page
    And "Robert" should see following sections
      | sections        |
      | Header          |
      | Breadcrumbs     |
      | Share buttons   |
      | Article         |
      | Error reporting |

  @allure.link:CMS-686 @advice_3 @bug_domestic @articles @full
  Scenario Outline: Any Exporter should be able to get to "Create an export plan" Advice article -- @2.1  
    Given test authentication is done
    Given "Robert" visits the "Domestic - Create an export plan - Article list" page
    When "Robert" opens any article on the list
    Then "Robert" should be on the "Domestic - Advice article" page
    And "Robert" should see following sections
      | sections        |
      | Header          |
      | Breadcrumbs     |
      | Share buttons   |
      | Article         |
      | Error reporting |

  @allure.link:CMS-686 @advice_3 @bug_domestic @articles @full
  Scenario Outline: Any Exporter should be able to get to "Find an export market" Advice article -- @2.2  
    Given test authentication is done
    Given "Robert" visits the "Domestic - Find an export market - Article list" page
    When "Robert" opens any article on the list
    Then "Robert" should be on the "Domestic - Advice article" page
    And "Robert" should see following sections
      | sections        |
      | Header          |
      | Breadcrumbs     |
      | Share buttons   |
      | Article         |
      | Error reporting |

  @allure.link:CMS-686 @advice_3 @bug_domestic @articles @full
  Scenario Outline: Any Exporter should be able to get to "Choose a route to market" Advice article -- @2.3  
    Given test authentication is done
    Given "Robert" visits the "Domestic - Choose a route to market - Article list" page
    When "Robert" opens any article on the list
    Then "Robert" should be on the "Domestic - Advice article" page
    And "Robert" should see following sections
      | sections        |
      | Header          |
      | Breadcrumbs     |
      | Share buttons   |
      | Article         |
      | Error reporting |

  @allure.link:CMS-686 @advice_3 @bug_domestic @articles @full
  Scenario Outline: Any Exporter should be able to get to "Get export finance" Advice article -- @2.4  
    Given test authentication is done
    Given "Robert" visits the "Domestic - Get export finance - Article list" page
    When "Robert" opens any article on the list
    Then "Robert" should be on the "Domestic - Advice article" page
    And "Robert" should see following sections
      | sections        |
      | Header          |
      | Breadcrumbs     |
      | Share buttons   |
      | Article         |
      | Error reporting |

  @allure.link:CMS-686 @advice_3 @bug_domestic @articles @full
  Scenario Outline: Any Exporter should be able to get to "Manage payment for export orders" Advice article -- @2.5  
    Given test authentication is done
    Given "Robert" visits the "Domestic - Manage payment for export orders - Article list" page
    When "Robert" opens any article on the list
    Then "Robert" should be on the "Domestic - Advice article" page
    And "Robert" should see following sections
      | sections        |
      | Header          |
      | Breadcrumbs     |
      | Share buttons   |
      | Article         |
      | Error reporting |

  @allure.link:CMS-686 @advice_3 @bug_domestic @articles @full
  Scenario Outline: Any Exporter should be able to get to "Prepare to do business in a foreign country" Advice article -- @2.6  
    Given test authentication is done
    Given "Robert" visits the "Domestic - Prepare to do business in a foreign country - Article list" page
    When "Robert" opens any article on the list
    Then "Robert" should be on the "Domestic - Advice article" page
    And "Robert" should see following sections
      | sections        |
      | Header          |
      | Breadcrumbs     |
      | Share buttons   |
      | Article         |
      | Error reporting |

  @allure.link:CMS-686 @advice_3 @bug_domestic @articles @full
  Scenario Outline: Any Exporter should be able to get to "Prepare for export procedures and logistics" Advice article -- @2.7  
    Given test authentication is done
    Given "Robert" visits the "Domestic - Prepare for export procedures and logistics - Article list" page
    When "Robert" opens any article on the list
    Then "Robert" should be on the "Domestic - Advice article" page
    And "Robert" should see following sections
      | sections        |
      | Header          |
      | Breadcrumbs     |
      | Share buttons   |
      | Article         |
      | Error reporting |

  @allure.link:CMS-686 @advice_3 @bug_domestic @articles @full
  Scenario Outline: Any Exporter should be able to get to "Sell services overseas" Advice article -- @2.8  
    Given test authentication is done
    Given "Robert" visits the "Domestic - Sell services overseas - Article list" page
    When "Robert" opens any article on the list
    Then "Robert" should be on the "Domestic - Advice article" page
    And "Robert" should see following sections
      | sections        |
      | Header          |
      | Breadcrumbs     |
      | Share buttons   |
      | Article         |
      | Error reporting |

  @allure.link:CMS-686 @advice_3 @bug_domestic @articles @full
  Scenario Outline: Any Exporter should be able to get to "Manage risk of bribery and corruption" Advice article -- @2.9  
    Given test authentication is done
    Given "Robert" visits the "Domestic - Manage risk of bribery and corruption - Article list" page
    When "Robert" opens any article on the list
    Then "Robert" should be on the "Domestic - Advice article" page
    And "Robert" should see following sections
      | sections        |
      | Header          |
      | Breadcrumbs     |
      | Share buttons   |
      | Article         |
      | Error reporting |

  @allure.link:CMS-686 @advice_4 @bug_domestic_advice @report_1
  Scenario: Any Exporter should be able to report a problem with Advice Article page 
    Given test authentication is done
    Given "Robert" is on randomly selected Advice article page
    When "Robert" decides to report a problem with the page
    Then "Robert" should be on the "Domestic - Feedback - contact us" page

  @allure.issue:CMS-1698 @allure.link:CMS-686 @advice_5 @bug_domestic_no_links_international @breadcrumbs_1
  Scenario Outline: Any Exporter should see be to use "Advice" breadcrumb on "Advice article" page to get to "Advice Landing" page -- @1.1  
    Given test authentication is done
    Given "Robert" is on randomly selected Advice article page
    When "Robert" decides to open "Advice"
    Then "Robert" should be on the "Domestic - Advice Landing" page if not be redirected to "International - Landing" page

  @allure.issue:CMS-1698 @allure.link:CMS-686 @advice_5 @bug_domestic_no_links_international @breadcrumbs_1
  Scenario Outline: Any Exporter should see be to use "Article list" breadcrumb on "Advice article" page to get to "Advice article list" page -- @1.2  
    Given test authentication is done
    Given "Robert" is on randomly selected Advice article page
    When "Robert" decides to open "Article list"
    Then "Robert" should be on the "Domestic - Advice article list" page if not be redirected to "International - Landing" page

@domestic @contact-us @allure.suite:Domestic
Feature: Domestic - Contact us

  Background:  

  @allure.link:TT-758 @enquirer-location @contact-us_1
  Scenario: Enquirers should see all expected contact location options on the "Domestic - Contact us" 
    Given test authentication is done
    Given "Robert" visits the "Domestic - Contact us" page
    Then "Robert" should be on the "Domestic - Contact us" page
    And "Robert" should see following form choices
      | radio elements |
      | The UK         |
      | Outside the UK |

  @allure.link:TT-758 @enquirer-location @contact-us_2 @domestic-enquiry-page
  Scenario: Domestic Enquirers should see all expected contact options on the "Domestic - What can we help you with?" page 
    Given test authentication is done
    Given "Robert" visits the "Domestic - Contact us" page
    When "Robert" says that his business is in "The UK"
    Then "Robert" should be on the "Domestic - What can we help you with? - Domestic Contact us" page
    And "Robert" should see following form choices
      | radio elements                            |
      | Find your local trade office              |
      | Advice to export from the UK              |
      | Great.gov.uk account and services support |
      | UK Export Finance (UKEF)                  |
      | Brexit enquiries                          |
      | Events                                    |
      | Defence and Security Organisation (DSO)   |
      | Other                                     |

  @allure.link:TT-363 @office-finder @contact-us_3
  Scenario: Domestic Enquirers should be able to get to the "New Office finder - Home" page 
    Given test authentication is done
    Given "Robert" visits the "Domestic - Contact us" page
    When "Robert" says that his business is in "the UK"
    And "Robert" chooses "Find your local trade office" option
    Then "Robert" should be on the "Domestic - New Office Finder" page

  @allure.link:TT-363 @office-finder @contact-us_4
  Scenario Outline: Domestic Enquirers should be able to get to find contact details for "Business Wales" office in "Sarn Mynach" -- @1.1 postcodes and trade offices 
    Given test authentication is done
    Given "Robert" visits the "Domestic - New Office Finder" page
    When "Robert" searches for local trade office near "LL57 1ST"
    Then "Robert" should be on the "Domestic - New Office Finder - search results" page
    And "Robert" should see contact details for "Business Wales" office in "Sarn Mynach"

  @allure.link:TT-363 @office-finder @contact-us_4
  Scenario Outline: Domestic Enquirers should be able to get to find contact details for "DIT East Midlands" office in "Leicester" -- @1.2 postcodes and trade offices 
    Given test authentication is done
    Given "Robert" visits the "Domestic - New Office Finder" page
    When "Robert" searches for local trade office near "LE5 3BF"
    Then "Robert" should be on the "Domestic - New Office Finder - search results" page
    And "Robert" should see contact details for "DIT East Midlands" office in "Leicester"

  @allure.link:TT-363 @office-finder @contact-us_4 @full
  Scenario Outline: Domestic Enquirers should be able to get to find contact details for "DIT East of England" office in "Hatfield" -- @2.1 postcodes and trade offices 
    Given test authentication is done
    Given "Robert" visits the "Domestic - New Office Finder" page
    When "Robert" searches for local trade office near "AL10 8EP"
    Then "Robert" should be on the "Domestic - New Office Finder - search results" page
    And "Robert" should see contact details for "DIT East of England" office in "Hatfield"

  @allure.link:TT-363 @office-finder @contact-us_4 @full
  Scenario Outline: Domestic Enquirers should be able to get to find contact details for "DIT London" office in "London" -- @2.2 postcodes and trade offices 
    Given test authentication is done
    Given "Robert" visits the "Domestic - New Office Finder" page
    When "Robert" searches for local trade office near "E14 9ET"
    Then "Robert" should be on the "Domestic - New Office Finder - search results" page
    And "Robert" should see contact details for "DIT London" office in "London"

  @allure.link:TT-363 @office-finder @contact-us_4 @full
  Scenario Outline: Domestic Enquirers should be able to get to find contact details for "DIT North East" office in "Durham" -- @2.3 postcodes and trade offices 
    Given test authentication is done
    Given "Robert" visits the "Domestic - New Office Finder" page
    When "Robert" searches for local trade office near "DH1 1SQ"
    Then "Robert" should be on the "Domestic - New Office Finder - search results" page
    And "Robert" should see contact details for "DIT North East" office in "Durham"

  @allure.link:TT-363 @office-finder @contact-us_4 @full
  Scenario Outline: Domestic Enquirers should be able to get to find contact details for "DIT North West" office in "Manchester" -- @2.4 postcodes and trade offices 
    Given test authentication is done
    Given "Robert" visits the "Domestic - New Office Finder" page
    When "Robert" searches for local trade office near "M15 6PQ"
    Then "Robert" should be on the "Domestic - New Office Finder - search results" page
    And "Robert" should see contact details for "DIT North West" office in "Manchester"

  @allure.link:TT-363 @office-finder @contact-us_4 @full
  Scenario Outline: Domestic Enquirers should be able to get to find contact details for "DIT South East" office in "Fareham" -- @2.5 postcodes and trade offices 
    Given test authentication is done
    Given "Robert" visits the "Domestic - New Office Finder" page
    When "Robert" searches for local trade office near "PO15 5DE"
    Then "Robert" should be on the "Domestic - New Office Finder - search results" page
    And "Robert" should see contact details for "DIT South East" office in "Fareham"

  @allure.link:TT-363 @office-finder @contact-us_4 @full
  Scenario Outline: Domestic Enquirers should be able to get to find contact details for "DIT South West" office in "Bristol" -- @2.6 postcodes and trade offices 
    Given test authentication is done
    Given "Robert" visits the "Domestic - New Office Finder" page
    When "Robert" searches for local trade office near "BS1 4RL"
    Then "Robert" should be on the "Domestic - New Office Finder - search results" page
    And "Robert" should see contact details for "DIT South West" office in "Bristol"

  @allure.link:TT-363 @office-finder @contact-us_4 @full
  Scenario Outline: Domestic Enquirers should be able to get to find contact details for "DIT West Midlands" office in "Birmingham" -- @2.7 postcodes and trade offices 
    Given test authentication is done
    Given "Robert" visits the "Domestic - New Office Finder" page
    When "Robert" searches for local trade office near "B3 2RT"
    Then "Robert" should be on the "Domestic - New Office Finder - search results" page
    And "Robert" should see contact details for "DIT West Midlands" office in "Birmingham"

  @allure.link:TT-363 @office-finder @contact-us_4 @full
  Scenario Outline: Domestic Enquirers should be able to get to find contact details for "DIT Yorkshire and the Humber" office in "Barnsley" -- @2.8 postcodes and trade offices 
    Given test authentication is done
    Given "Robert" visits the "Domestic - New Office Finder" page
    When "Robert" searches for local trade office near "S70 2PS"
    Then "Robert" should be on the "Domestic - New Office Finder - search results" page
    And "Robert" should see contact details for "DIT Yorkshire and the Humber" office in "Barnsley"

  @allure.link:TT-363 @office-finder @contact-us_4 @full
  Scenario Outline: Domestic Enquirers should be able to get to find contact details for "Invest NI" office in "Belfast" -- @2.9 postcodes and trade offices 
    Given test authentication is done
    Given "Robert" visits the "Domestic - New Office Finder" page
    When "Robert" searches for local trade office near "BT2 8DN"
    Then "Robert" should be on the "Domestic - New Office Finder - search results" page
    And "Robert" should see contact details for "Invest NI" office in "Belfast"

  @allure.link:TT-363 @office-finder @contact-us_4 @full
  Scenario Outline: Domestic Enquirers should be able to get to find contact details for "Scottish Enterprise" office in "Glasgow" -- @2.10 postcodes and trade offices 
    Given test authentication is done
    Given "Robert" visits the "Domestic - New Office Finder" page
    When "Robert" searches for local trade office near "G3 6AP"
    Then "Robert" should be on the "Domestic - New Office Finder - search results" page
    And "Robert" should see contact details for "Scottish Enterprise" office in "Glasgow"

  @allure.link:TT-758 @exporting-from-the-UK @contact-us_7
  Scenario: Domestic Enquirers should be able to get to the "Long (Export Advice Comment) - Contact us" form 
    Given test authentication is done
    Given "Robert" visits the "Domestic - Contact us" page
    When "Robert" says that his business is in "the UK"
    And "Robert" chooses "Advice to export from the UK" option
    Then "Robert" should be on the "Domestic - Long (Export Advice Comment) - Contact us" page

  @allure.link:TT-758 @ita @captcha @exporting-from-the-UK @contact-us_8 @failed
  Scenario: Domestic Enquirers should be able to contact relevant ITA based on the postcode provided 
    Given test authentication is done
    Given "Robert" got to the "Domestic - Long (Export Advice Comment)" page via "The UK -> Advice to export from the UK"
    When "Robert" fills out and submits the form
    Then "Robert" should be on the "Domestic - Long (Personal details) - Contact us" page
    When "Robert" fills out and submits the form
    Then "Robert" should be on the "Domestic - Long (Business details) - Contact us" page
    When "Robert" fills out and submits the form
    Then "Robert" should be on the "Domestic - Thank you for your enquiry" page
    And "Robert" should receive "Thank you for your enquiry" confirmation email

  @allure.link:TT-758 @account-support @contact-us_9
  Scenario: Domestic enquirers should see all expected help options on the "Great.gov.uk account and services support" page 
    Given test authentication is done
    Given "Robert" got to the "Domestic - Great.gov.uk account and services support" page via "The UK -> Great.gov.uk account and services support"
    Then "Robert" should see following form choices
      | radio elements               |
      | Export opportunities service |
      | Your account on Great.gov.uk |
      | Other                        |

  @allure.link:TT-758 @exopps @account-support @contact-us_10
  Scenario: Domestic enquirers should see all expected help options for "Export opportunities service" 
    Given test authentication is done
    Given "Robert" got to the "Domestic - Export opportunities service" page via "The UK -> Great.gov.uk account and services support -> Export opportunities service"
    Then "Robert" should see following form choices
      | radio elements                                              |
      | I haven't had a response from the opportunity I applied for |
      | My daily alerts are not relevant to me                      |
      | Other                                                       |

  @allure.link:TT-758 @greatgovuk-account @account-support @contact-us_11
  Scenario: Domestic enquirers should see all expected help options for "Great.gov.uk account" 
    Given test authentication is done
    Given "Robert" got to the "Domestic - Great.gov.uk account" page via "The UK -> Great.gov.uk account and services support -> Your account on Great.gov.uk"
    Then "Robert" should see following form choices
      | radio elements                                                 |
      | I have not received an email confirmation                      |
      | I need to reset my password                                    |
      | My Companies House login is not working                        |
      | I do not know where to enter my verification code              |
      | I have not received my letter containing the verification code |
      | I have not received a verification code                        |
      | Other                                                          |

  @allure.link:TT-758 @short-domestic @account-support @contact-us_12 @failed
  Scenario: Domestic enquirers should be able to get to the "Short Contact Us" form via "The UK -> Great.gov.uk account and services support -> Other" 
    Given test authentication is done
    Given "Robert" got to the "Domestic - Great.gov.uk account and services support" page via "The UK -> Great.gov.uk account and services support"
    When "Robert" chooses "Other" option
    Then "Robert" should be on the "Domestic - Short contact form (Tell us how we can help)" page

  @allure.link:TT-758 @short-domestic @greatgovuk-account @contact-us_13 @support
  Scenario: Domestic enquirers should be able to get to the "Short Contact Us" form via "The UK -> Great.gov.uk account and services support -> Your account on Great.gov.uk -> Other" 
    Given test authentication is done
    Given "Robert" got to the "Domestic - Great.gov.uk account" page via "The UK -> Great.gov.uk account and services support -> Your account on Great.gov.uk"
    When "Robert" chooses "Other" option
    Then "Robert" should be on the "Domestic - Short contact form (Tell us how we can help)" page

  @allure.link:TT-758 @greatgovuk-account @support @contact-us_14
  Scenario: Domestic enquirers should be able to find answers to sought topic about "Your account on Great.gov.uk" 
    Given test authentication is done
    Given "Robert" got to the "Domestic - Great.gov.uk account" page via "The UK -> Great.gov.uk account and services support -> Your account on Great.gov.uk"
    When "Robert" chooses any available option except "Other"
    Then "Robert" should be on the "Domestic - Great.gov.uk account - Dedicated Support Content" page

  @allure.link:TT-758 @exopps @support @contact-us_15
  Scenario Outline: Exporters should be able to find answers to Export Opportunities related topic "I haven't had a response from the opportunity I applied for" -- @1.1  
    Given test authentication is done
    Given "Robert" got to the "Domestic - Export opportunities service" page via "The UK -> Great.gov.uk account and services support -> Export opportunities service"
    When "Robert" chooses "I haven't had a response from the opportunity I applied for" option
    Then "Robert" should be on the "Domestic - I haven't had a response from the opportunity I applied for - Dedicated Support Content" page

  @allure.link:TT-758 @exopps @support @contact-us_15
  Scenario Outline: Exporters should be able to find answers to Export Opportunities related topic "My daily alerts are not relevant to me" -- @1.2  
    Given test authentication is done
    Given "Robert" got to the "Domestic - Export opportunities service" page via "The UK -> Great.gov.uk account and services support -> Export opportunities service"
    When "Robert" chooses "My daily alerts are not relevant to me" option
    Then "Robert" should be on the "Domestic - My daily alerts are not relevant to me - Dedicated Support Content" page

  @allure.link:TT-758 @zendesk @dev-only @captcha @account-support @contact-us_16 @failed
  Scenario Outline: Domestic Enquirers should be able to contact Great Support team via "The UK -> Great.gov.uk account and services support -> Your account on Great.gov.uk -> I have not received an email confirmation" -- @1.1  
    Given test authentication is done
    Given "Robert" got to the "Domestic - I have not received an email confirmation - Dedicated Support Content" page via "The UK -> Great.gov.uk account and services support -> Your account on Great.gov.uk -> I have not received an email confirmation"
    When "Robert" decides to "Submit an enquiry"
    And "Robert" is on the "Domestic - Short contact form (Tell us how we can help)" page
    And "Robert" fills out and submits the form
    Then "Robert" should be on the "Domestic - Thank you for your enquiry (I have not received an email confirmation)" page
    And a "zendesk" notification entitled "great.gov.uk contact form" should be sent to "Robert"

  @allure.link:TT-758 @zendesk @dev-only @captcha @account-support @contact-us_16 @failed @full
  Scenario Outline: Domestic Enquirers should be able to contact Great Support team via "The UK -> Great.gov.uk account and services support -> Your account on Great.gov.uk -> I have not received an email confirmation" -- @2.1  
    Given test authentication is done
    Given "Robert" got to the "Domestic - I have not received an email confirmation - Dedicated Support Content" page via "The UK -> Great.gov.uk account and services support -> Your account on Great.gov.uk -> I have not received an email confirmation"
    When "Robert" decides to "Submit an enquiry"
    And "Robert" is on the "Domestic - Short contact form (Tell us how we can help)" page
    And "Robert" fills out and submits the form
    Then "Robert" should be on the "Domestic - Thank you for your enquiry (I have not received an email confirmation)" page
    And a "zendesk" notification entitled "great.gov.uk contact form" should be sent to "Robert"

  @allure.link:TT-758 @zendesk @dev-only @captcha @exopps @contact-us_17
  Scenario Outline: Exporters should be to contact Export Opportunities team via Zendesk using "Short contact form" page accessed via "The UK -> Great.gov.uk account and services support -> Export opportunities service -> I haven't had a response from the opportunity I applied for" -- @1.1  
    Given test authentication is done
    Given "Robert" got to the "Domestic - I haven't had a response from the opportunity I applied for - Dedicated Support Content" page via "The UK -> Great.gov.uk account and services support -> Export opportunities service -> I haven't had a response from the opportunity I applied for"
    When "Robert" decides to "Submit an enquiry"
    And "Robert" is on the "Domestic - Short contact form (Tell us how we can help)" page
    And "Robert" fills out and submits the form
    Then "Robert" should be on the "Domestic - Thank you for your enquiry (I haven't had a response from the opportunity I applied for) - Short Domestic Contact us" page
    And a "zendesk" notification entitled "great.gov.uk contact form" should be sent to "Robert"

  @allure.link:TT-758 @zendesk @dev-only @captcha @exopps @contact-us_17
  Scenario Outline: Exporters should be to contact Export Opportunities team via Zendesk using "Short contact form" page accessed via "The UK -> Great.gov.uk account and services support -> Export opportunities service -> My daily alerts are not relevant to me" -- @1.2  
    Given test authentication is done
    Given "Robert" got to the "Domestic - My daily alerts are not relevant to me - Dedicated Support Content" page via "The UK -> Great.gov.uk account and services support -> Export opportunities service -> My daily alerts are not relevant to me"
    When "Robert" decides to "Submit an enquiry"
    And "Robert" is on the "Domestic - Short contact form (Tell us how we can help)" page
    And "Robert" fills out and submits the form
    Then "Robert" should be on the "Domestic - Thank you for your enquiry (My daily alerts are not relevant to me) - Short Domestic Contact us" page
    And a "zendesk" notification entitled "great.gov.uk contact form" should be sent to "Robert"

  @allure.link:TT-758 @zendesk @dev-only @captcha @account-support @contact-us_18 @failed
  Scenario Outline: Domestic Enquirers should be able to contact Great Support team via "The UK -> Great.gov.uk account and services support -> Your account on Great.gov.uk -> Other" -- @1.1  
    Given test authentication is done
    Given "Robert" got to the "Domestic - Short contact form (Tell us how we can help)" page via "The UK -> Great.gov.uk account and services support -> Your account on Great.gov.uk -> Other"
    When "Robert" fills out and submits the form
    Then "Robert" should be on the "Domestic - Thank you for your enquiry (Other) - Short Domestic Contact us" page
    And a "zendesk" notification entitled "great.gov.uk contact form" should be sent to "Robert"

  @allure.link:TT-758 @ukef @contact-us_19
  Scenario: Exporters should be able to get to the UKEF Check your eligibility contact-us form 
    Given test authentication is done
    Given "Robert" got to the "Domestic - What can we help you with? - Domestic Contact us" page via "The UK"
    When "Robert" chooses "UK Export Finance (UKEF)" option
    Then "Robert" should be on the "Domestic - Your details - UKEF Contact us" page

  @dev-only @captcha @ukef @contact-us_20 @failed
  Scenario: Exporters should be able to contact UKEF mailbox 
    Given test authentication is done
    Given "Robert" got to the "Domestic - Your details - UKEF Contact us" page via "The UK -> UK Export Finance (UKEF)"
    When "Robert" fills out and submits the form
    Then "Robert" should be on the "Domestic - Thank you - UKEF Contact us" page
    And an email is submitted to "UKEF mailbox"

  @allure.link:TT-758 @investing-overseas @events @dso @short-form @contact-us_21
  Scenario Outline: Domestic enquirers should get to the "Short contact us form" via "The UK -> Events" -- @1.1  
    Given test authentication is done
    Given "Robert" got to the "Domestic - What can we help you with? - Domestic Contact us" page via "The UK"
    When "Robert" chooses "Events" option
    Then "Robert" should be on the "Domestic - Short contact form (Events)" page

  @allure.link:TT-758 @investing-overseas @events @dso @short-form @contact-us_21
  Scenario Outline: Domestic enquirers should get to the "Short contact us form" via "The UK -> Defence and Security Organisation (DSO)" -- @1.2  
    Given test authentication is done
    Given "Robert" got to the "Domestic - What can we help you with? - Domestic Contact us" page via "The UK"
    When "Robert" chooses "Defence and Security Organisation (DSO)" option
    Then "Robert" should be on the "Domestic - Short contact form (Defence and Security Organisation (DSO))" page

  @allure.link:TT-758 @investing-overseas @events @dso @short-form @contact-us_21
  Scenario Outline: Domestic enquirers should get to the "Short contact us form" via "The UK -> Other" -- @1.3  
    Given test authentication is done
    Given "Robert" got to the "Domestic - What can we help you with? - Domestic Contact us" page via "The UK"
    When "Robert" chooses "Other" option
    Then "Robert" should be on the "Domestic - Short contact form (Other)" page

  @allure.link:TT-758 @dev-only @captcha @short-form @contact-us
  Scenario Outline: Exporters should be able to contact "Events mailbox" using "Short contact form (Events)" page accessed via "The UK -> Events" -- @1.1  
    Given test authentication is done
    Given "Robert" got to the "Domestic - Short contact form (Events)" page via "The UK -> Events"
    When "Robert" fills out and submits the form
    Then "Robert" should be on the "Domestic - Thank you for your enquiry (Events) - Short Domestic Contact us" page
    And "Robert" should receive "Thank you for your Events enquiry" confirmation email
    And an email notification about "Robert"'s enquiry should be send to "Events mailbox"

  @allure.link:TT-758 @dev-only @captcha @short-form @contact-us
  Scenario Outline: Exporters should be able to contact "DSO mailbox" using "Short contact form (Defence and Security Organisation (DSO))" page accessed via "The UK -> Defence and Security Organisation (DSO)" -- @1.2  
    Given test authentication is done
    Given "Robert" got to the "Domestic - Short contact form (Defence and Security Organisation (DSO))" page via "The UK -> Defence and Security Organisation (DSO)"
    When "Robert" fills out and submits the form
    Then "Robert" should be on the "Domestic - Thank you for your enquiry (Defence and Security Organisation (DSO)) - Short Domestic Contact us" page
    And "Robert" should receive "Thank you for your Defence and Security Organisation enquiry" confirmation email
    And an email notification about "Robert"'s enquiry should be send to "DSO mailbox"

  @allure.link:TT-758 @dev-only @captcha @short-form @contact-us
  Scenario Outline: Exporters should be able to contact "DIT Enquiry unit" using "Short contact form (Other)" page accessed via "The UK -> Other" -- @1.3  
    Given test authentication is done
    Given "Robert" got to the "Domestic - Short contact form (Other)" page via "The UK -> Other"
    When "Robert" fills out and submits the form
    Then "Robert" should be on the "Domestic - Thank you for your enquiry (Other) - Short Domestic Contact us" page
    And "Robert" should receive "Thank you for your enquiry" confirmation email
    And an email notification about "Robert"'s enquiry should be send to "DIT Enquiry unit"

  @allure.link:TT-758 @international @contact-us_24
  Scenario: International Enquirers should be able to see all expected contact options on the "International - What would you like to know more about?" page 
    Given test authentication is done
    Given "Robert" visits the "Domestic - Contact us" page
    When "Robert" says that his business is "Outside the UK"
    Then "Robert" should be on the "Domestic - What would you like to know more about? - International Contact us" page
    And "Robert" should see following form choices
      | radio elements              |
      | Expanding to the UK         |
      | Investing capital in the UK |
      | Find a UK business partner  |
      | The transition period       |
      | Other                       |

  @allure.link:TT-758 @international @contact-us_25 @failed
  Scenario Outline: International Enquirers should be able to get to the "Invest - Contact us" form for "Expanding to the UK" -- @1.1  
    Given test authentication is done
    Given "Robert" got to the "Domestic - What would you like to know more about? - International Contact us" page via "Outside the UK"
    When "Robert" chooses "Expanding to the UK" option
    Then "Robert" should be on the "Invest - Contact us" page

  @allure.link:TT-758 @going-back @contact-us_26 @failed
  Scenario Outline: Enquirers should be able to navigate back to previous pages from "The UK" back to "Domestic - Contact us" page -- @1.1  
    Given test authentication is done
    Given "Robert" navigates via "The UK"
    When "Robert" decides to use "back" link
    Then "Robert" should be on the "Domestic - Contact us" page

  @allure.link:TT-758 @going-back @contact-us_26 @failed
  Scenario Outline: Enquirers should be able to navigate back to previous pages from "Outside the UK" back to "Domestic - Contact us" page -- @1.2  
    Given test authentication is done
    Given "Robert" navigates via "Outside the UK"
    When "Robert" decides to use "back" link
    Then "Robert" should be on the "Domestic - Contact us" page

  @allure.link:TT-758 @going-back @contact-us_26 @failed
  Scenario Outline: Enquirers should be able to navigate back to previous pages from "The UK -> Great.gov.uk account and services support" back to "Domestic - What can we help you with? - Domestic Contact us" page -- @1.3  
    Given test authentication is done
    Given "Robert" navigates via "The UK -> Great.gov.uk account and services support"
    When "Robert" decides to use "back" link
    Then "Robert" should be on the "Domestic - What can we help you with? - Domestic Contact us" page

  @allure.link:TT-758 @going-back @contact-us_26 @failed
  Scenario Outline: Enquirers should be able to navigate back to previous pages from "The UK -> Great.gov.uk account and services support -> Export opportunities service" back to "Domestic - Great.gov.uk account and services support" page -- @1.4  
    Given test authentication is done
    Given "Robert" navigates via "The UK -> Great.gov.uk account and services support -> Export opportunities service"
    When "Robert" decides to use "back" link
    Then "Robert" should be on the "Domestic - Great.gov.uk account and services support" page

  @allure.link:TT-758 @going-back @contact-us_26 @failed
  Scenario Outline: Enquirers should be able to navigate back to previous pages from "The UK -> Great.gov.uk account and services support -> Your account on Great.gov.uk" back to "Domestic - Great.gov.uk account and services support" page -- @1.5  
    Given test authentication is done
    Given "Robert" navigates via "The UK -> Great.gov.uk account and services support -> Your account on Great.gov.uk"
    When "Robert" decides to use "back" link
    Then "Robert" should be on the "Domestic - Great.gov.uk account and services support" page

@domestic @cookies @production @allure.suite:Domestic
Feature: Domestic - Cookies Policy

  Background:  

  @allure.link:TT-2319 @cookies_1
  Scenario Outline: Accepting all cookies on "Home" page should trigger appropriate GA event and set correct cookies policy -- @1.1  
    Given test authentication is done
    Given "Robert" visited the "Domestic - Home" page
    When "Robert" accepts all cookies
    Then following GTM events should be registered
      | action    | destination | element | event   | type | value              |
      | clickLink | #           |         | gaEvent | CTA  | Accept all cookies |
    And following cookies should be set
      | name                   | value                                                            |
      | cookie_preferences_set | true                                                             |
      | cookies_policy         | {"essential":true,"settings":true,"usage":true,"campaigns":true} |

  @allure.link:TT-2319 @cookies_1
  Scenario Outline: Accepting all cookies on "Advice landing" page should trigger appropriate GA event and set correct cookies policy -- @1.2  
    Given test authentication is done
    Given "Robert" visited the "Domestic - Advice landing" page
    When "Robert" accepts all cookies
    Then following GTM events should be registered
      | action    | destination | element | event   | type | value              |
      | clickLink | #           |         | gaEvent | CTA  | Accept all cookies |
    And following cookies should be set
      | name                   | value                                                            |
      | cookie_preferences_set | true                                                             |
      | cookies_policy         | {"essential":true,"settings":true,"usage":true,"campaigns":true} |

  @allure.link:TT-2319 @cookies_1
  Scenario Outline: Accepting all cookies on "Markets listing" page should trigger appropriate GA event and set correct cookies policy -- @1.3  
    Given test authentication is done
    Given "Robert" visited the "Domestic - Markets listing" page
    When "Robert" accepts all cookies
    Then following GTM events should be registered
      | action    | destination | element | event   | type | value              |
      | clickLink | #           |         | gaEvent | CTA  | Accept all cookies |
    And following cookies should be set
      | name                   | value                                                            |
      | cookie_preferences_set | true                                                             |
      | cookies_policy         | {"essential":true,"settings":true,"usage":true,"campaigns":true} |

  @allure.link:TT-2319 @cookies_1
  Scenario Outline: Accepting all cookies on "Services" page should trigger appropriate GA event and set correct cookies policy -- @1.4  
    Given test authentication is done
    Given "Robert" visited the "Domestic - Services" page
    When "Robert" accepts all cookies
    Then following GTM events should be registered
      | action    | destination | element | event   | type | value              |
      | clickLink | #           |         | gaEvent | CTA  | Accept all cookies |
    And following cookies should be set
      | name                   | value                                                            |
      | cookie_preferences_set | true                                                             |
      | cookies_policy         | {"essential":true,"settings":true,"usage":true,"campaigns":true} |

  @allure.link:TT-2319 @cookies_1
  Scenario Outline: Accepting all cookies on "Search results" page should trigger appropriate GA event and set correct cookies policy -- @1.5  
    Given test authentication is done
    Given "Robert" visited the "Domestic - Search results" page
    When "Robert" accepts all cookies
    Then following GTM events should be registered
      | action    | destination | element | event   | type | value              |
      | clickLink | #           |         | gaEvent | CTA  | Accept all cookies |
    And following cookies should be set
      | name                   | value                                                            |
      | cookie_preferences_set | true                                                             |
      | cookies_policy         | {"essential":true,"settings":true,"usage":true,"campaigns":true} |

  @allure.link:TT-2319 @cookies_1
  Scenario Outline: Accepting all cookies on "Transition period enquiries - contact us" page should trigger appropriate GA event and set correct cookies policy -- @1.6  
    Given test authentication is done
    Given "Robert" visited the "Domestic - Transition period enquiries - contact us" page
    When "Robert" accepts all cookies
    Then following GTM events should be registered
      | action    | destination | element | event   | type | value              |
      | clickLink | #           |         | gaEvent | CTA  | Accept all cookies |
    And following cookies should be set
      | name                   | value                                                            |
      | cookie_preferences_set | true                                                             |
      | cookies_policy         | {"essential":true,"settings":true,"usage":true,"campaigns":true} |

  @allure.link:TT-2319 @cookies_1
  Scenario Outline: Accepting all cookies on "Create an export plan - article list" page should trigger appropriate GA event and set correct cookies policy -- @1.7  
    Given test authentication is done
    Given "Robert" visited the "Domestic - Create an export plan - article list" page
    When "Robert" accepts all cookies
    Then following GTM events should be registered
      | action    | destination | element | event   | type | value              |
      | clickLink | #           |         | gaEvent | CTA  | Accept all cookies |
    And following cookies should be set
      | name                   | value                                                            |
      | cookie_preferences_set | true                                                             |
      | cookies_policy         | {"essential":true,"settings":true,"usage":true,"campaigns":true} |

  @allure.link:TT-2319 @cookies_1
  Scenario Outline: Accepting all cookies on "Get export finance - article list" page should trigger appropriate GA event and set correct cookies policy -- @1.8  
    Given test authentication is done
    Given "Robert" visited the "Domestic - Get export finance - article list" page
    When "Robert" accepts all cookies
    Then following GTM events should be registered
      | action    | destination | element | event   | type | value              |
      | clickLink | #           |         | gaEvent | CTA  | Accept all cookies |
    And following cookies should be set
      | name                   | value                                                            |
      | cookie_preferences_set | true                                                             |
      | cookies_policy         | {"essential":true,"settings":true,"usage":true,"campaigns":true} |

  @allure.link:TT-2319 @cookies_1
  Scenario Outline: Accepting all cookies on "Join our export community - landing" page should trigger appropriate GA event and set correct cookies policy -- @1.9  
    Given test authentication is done
    Given "Robert" visited the "Domestic - Join our export community - landing" page
    When "Robert" accepts all cookies
    Then following GTM events should be registered
      | action    | destination | element | event   | type | value              |
      | clickLink | #           |         | gaEvent | CTA  | Accept all cookies |
    And following cookies should be set
      | name                   | value                                                            |
      | cookie_preferences_set | true                                                             |
      | cookies_policy         | {"essential":true,"settings":true,"usage":true,"campaigns":true} |

  @allure.link:TT-2319 @cookies_1
  Scenario Outline: Accepting all cookies on "Join our Export Community - form" page should trigger appropriate GA event and set correct cookies policy -- @1.10  
    Given test authentication is done
    Given "Robert" visited the "Domestic - Join our Export Community - form" page
    When "Robert" accepts all cookies
    Then following GTM events should be registered
      | action    | destination | element | event   | type | value              |
      | clickLink | #           |         | gaEvent | CTA  | Accept all cookies |
    And following cookies should be set
      | name                   | value                                                            |
      | cookie_preferences_set | true                                                             |
      | cookies_policy         | {"essential":true,"settings":true,"usage":true,"campaigns":true} |

  @allure.link:TT-2319 @cookies_2
  Scenario Outline: Users should be able to "Accept all" cookies via "Cookies on great.gov.uk" page should trigger appropriate GA event and set correct cookies policy -- @1.1  
    Given test authentication is done
    Given "Robert" visited the "Domestic - Cookies" page
    When "Robert" fills out and submits the form with captcha dev check turned "off"
      | field                              | value     |
      | Allow measure website use          | checked   |
      | Allow use for marketing campaigns  | checked   |
      | Allow to remember my settings      | checked   |
      | Do not measure website use         | unchecked |
      | Do not use for marketing campaigns | unchecked |
      | Do not remember my settings        | unchecked |
    Then "Robert" should see following sections
      | Sections            |
      | Confirmation banner |
    And following GTM events should be registered
      | action | element                 | event   | type | value |
      | submit | cookie-preferences-form | gaEvent | form |       |
    And following cookies should be set
      | name                   | value                                                            |
      | cookie_preferences_set | true                                                             |
      | cookies_policy         | {"essential":true,"settings":true,"usage":true,"campaigns":true} |

  @allure.link:TT-2319 @cookies_2
  Scenario Outline: Users should be able to "Reject all" cookies via "Cookies on great.gov.uk" page should trigger appropriate GA event and set correct cookies policy -- @1.2  
    Given test authentication is done
    Given "Robert" visited the "Domestic - Cookies" page
    When "Robert" fills out and submits the form with captcha dev check turned "off"
      | field                              | value     |
      | Allow measure website use          | unchecked |
      | Allow use for marketing campaigns  | unchecked |
      | Allow to remember my settings      | unchecked |
      | Do not measure website use         | checked   |
      | Do not use for marketing campaigns | checked   |
      | Do not remember my settings        | checked   |
    Then "Robert" should see following sections
      | Sections            |
      | Confirmation banner |
    And following GTM events should be registered
      | action | element                 | event   | type | value |
      | submit | cookie-preferences-form | gaEvent | form |       |
    And following cookies should be set
      | name                   | value                                                               |
      | cookie_preferences_set | true                                                                |
      | cookies_policy         | {"essential":true,"settings":false,"usage":false,"campaigns":false} |

  @allure.link:TT-2319 @cookies_2
  Scenario Outline: Users should be able to "Reject measuring website use" cookies via "Cookies on great.gov.uk" page should trigger appropriate GA event and set correct cookies policy -- @1.3  
    Given test authentication is done
    Given "Robert" visited the "Domestic - Cookies" page
    When "Robert" fills out and submits the form with captcha dev check turned "off"
      | field                              | value     |
      | Allow measure website use          | unchecked |
      | Allow use for marketing campaigns  | checked   |
      | Allow to remember my settings      | checked   |
      | Do not measure website use         | checked   |
      | Do not use for marketing campaigns | unchecked |
      | Do not remember my settings        | unchecked |
    Then "Robert" should see following sections
      | Sections            |
      | Confirmation banner |
    And following GTM events should be registered
      | action | element                 | event   | type | value |
      | submit | cookie-preferences-form | gaEvent | form |       |
    And following cookies should be set
      | name                   | value                                                             |
      | cookie_preferences_set | true                                                              |
      | cookies_policy         | {"essential":true,"settings":true,"usage":false,"campaigns":true} |

  @allure.link:TT-2319 @cookies_2
  Scenario Outline: Users should be able to "Reject marketing campaigns" cookies via "Cookies on great.gov.uk" page should trigger appropriate GA event and set correct cookies policy -- @1.4  
    Given test authentication is done
    Given "Robert" visited the "Domestic - Cookies" page
    When "Robert" fills out and submits the form with captcha dev check turned "off"
      | field                              | value     |
      | Allow measure website use          | checked   |
      | Allow use for marketing campaigns  | unchecked |
      | Allow to remember my settings      | checked   |
      | Do not measure website use         | unchecked |
      | Do not use for marketing campaigns | checked   |
      | Do not remember my settings        | unchecked |
    Then "Robert" should see following sections
      | Sections            |
      | Confirmation banner |
    And following GTM events should be registered
      | action | element                 | event   | type | value |
      | submit | cookie-preferences-form | gaEvent | form |       |
    And following cookies should be set
      | name                   | value                                                             |
      | cookie_preferences_set | true                                                              |
      | cookies_policy         | {"essential":true,"settings":true,"usage":true,"campaigns":false} |

  @allure.link:TT-2319 @cookies_2
  Scenario Outline: Users should be able to "Reject remembering my settings" cookies via "Cookies on great.gov.uk" page should trigger appropriate GA event and set correct cookies policy -- @1.5  
    Given test authentication is done
    Given "Robert" visited the "Domestic - Cookies" page
    When "Robert" fills out and submits the form with captcha dev check turned "off"
      | field                              | value     |
      | Allow measure website use          | checked   |
      | Allow use for marketing campaigns  | checked   |
      | Allow to remember my settings      | unchecked |
      | Do not measure website use         | unchecked |
      | Do not use for marketing campaigns | unchecked |
      | Do not remember my settings        | checked   |
    Then "Robert" should see following sections
      | Sections            |
      | Confirmation banner |
    And following GTM events should be registered
      | action | element                 | event   | type | value |
      | submit | cookie-preferences-form | gaEvent | form |       |
    And following cookies should be set
      | name                   | value                                                             |
      | cookie_preferences_set | true                                                              |
      | cookies_policy         | {"essential":true,"settings":false,"usage":true,"campaigns":true} |

  @allure.link:TT-2319 @cookies_2
  Scenario Outline: Users should be able to "Allow measuring website use" cookies via "Cookies on great.gov.uk" page should trigger appropriate GA event and set correct cookies policy -- @1.6  
    Given test authentication is done
    Given "Robert" visited the "Domestic - Cookies" page
    When "Robert" fills out and submits the form with captcha dev check turned "off"
      | field                              | value     |
      | Allow measure website use          | checked   |
      | Allow use for marketing campaigns  | unchecked |
      | Allow to remember my settings      | unchecked |
      | Do not measure website use         | unchecked |
      | Do not use for marketing campaigns | checked   |
      | Do not remember my settings        | checked   |
    Then "Robert" should see following sections
      | Sections            |
      | Confirmation banner |
    And following GTM events should be registered
      | action | element                 | event   | type | value |
      | submit | cookie-preferences-form | gaEvent | form |       |
    And following cookies should be set
      | name                   | value                                                              |
      | cookie_preferences_set | true                                                               |
      | cookies_policy         | {"essential":true,"settings":false,"usage":true,"campaigns":false} |

  @allure.link:TT-2319 @cookies_2
  Scenario Outline: Users should be able to "Allow marketing campaigns" cookies via "Cookies on great.gov.uk" page should trigger appropriate GA event and set correct cookies policy -- @1.7  
    Given test authentication is done
    Given "Robert" visited the "Domestic - Cookies" page
    When "Robert" fills out and submits the form with captcha dev check turned "off"
      | field                              | value     |
      | Allow measure website use          | unchecked |
      | Allow use for marketing campaigns  | checked   |
      | Allow to remember my settings      | unchecked |
      | Do not measure website use         | checked   |
      | Do not use for marketing campaigns | unchecked |
      | Do not remember my settings        | checked   |
    Then "Robert" should see following sections
      | Sections            |
      | Confirmation banner |
    And following GTM events should be registered
      | action | element                 | event   | type | value |
      | submit | cookie-preferences-form | gaEvent | form |       |
    And following cookies should be set
      | name                   | value                                                              |
      | cookie_preferences_set | true                                                               |
      | cookies_policy         | {"essential":true,"settings":false,"usage":false,"campaigns":true} |

  @allure.link:TT-2319 @cookies_2
  Scenario Outline: Users should be able to "Allow to remember my settings" cookies via "Cookies on great.gov.uk" page should trigger appropriate GA event and set correct cookies policy -- @1.8  
    Given test authentication is done
    Given "Robert" visited the "Domestic - Cookies" page
    When "Robert" fills out and submits the form with captcha dev check turned "off"
      | field                              | value     |
      | Allow measure website use          | unchecked |
      | Allow use for marketing campaigns  | unchecked |
      | Allow to remember my settings      | checked   |
      | Do not measure website use         | checked   |
      | Do not use for marketing campaigns | checked   |
      | Do not remember my settings        | unchecked |
    Then "Robert" should see following sections
      | Sections            |
      | Confirmation banner |
    And following GTM events should be registered
      | action | element                 | event   | type | value |
      | submit | cookie-preferences-form | gaEvent | form |       |
    And following cookies should be set
      | name                   | value                                                              |
      | cookie_preferences_set | true                                                               |
      | cookies_policy         | {"essential":true,"settings":true,"usage":false,"campaigns":false} |

@domestic @header @footer @header_footer @allure.suite:Domestic
Feature: Domestic - Header-Footer

  Background:  

  @bug @allure.issue:ED-3116 @fixed @allure.link:ED-3118 @logo
  Scenario Outline: Any Exporter should see correct EIG header logo & GREAT footer logo on "Domestic - Get finance" page -- @1.1  
    Given test authentication is done
    Given "Robert" visits the "Domestic - Get finance" page
    Then "Robert" should see correct "EIG" logo
    And "Robert" should see correct "Great - footer" logo

  @bug @allure.issue:ED-3116 @fixed @allure.link:ED-3118 @logo
  Scenario Outline: Any Exporter should see correct EIG header logo & GREAT footer logo on "Domestic - Home" page -- @1.2  
    Given test authentication is done
    Given "Robert" visits the "Domestic - Home" page
    Then "Robert" should see correct "EIG" logo
    And "Robert" should see correct "Great - footer" logo

  @bug @allure.issue:ED-3116 @fixed @allure.link:ED-3118 @logo
  Scenario Outline: Any Exporter should see correct EIG header logo & GREAT footer logo on "Find a Buyer - Home" page -- @1.3  
    Given test authentication is done
    Given "Robert" visits the "Find a Buyer - Home" page
    Then "Robert" should see correct "EIG" logo
    And "Robert" should see correct "Great - footer" logo

  @bug @allure.issue:ED-3116 @fixed @allure.link:ED-3118 @logo
  Scenario Outline: Any Exporter should see correct EIG header logo & GREAT footer logo on "Selling Online Overseas - Home" page -- @1.4  
    Given test authentication is done
    Given "Robert" visits the "Selling Online Overseas - Home" page
    Then "Robert" should see correct "EIG" logo
    And "Robert" should see correct "Great - footer" logo

  @bug @allure.issue:ED-3116 @fixed @allure.link:ED-3118 @logo
  Scenario Outline: Any Exporter should see correct EIG header logo & GREAT footer logo on "Profile - About" page -- @1.5  
    Given test authentication is done
    Given "Robert" visits the "Profile - About" page
    Then "Robert" should see correct "EIG" logo
    And "Robert" should see correct "Great - footer" logo

  @bug @allure.issue:ED-3116 @fixed @allure.link:ED-3118 @logo
  Scenario Outline: Any Exporter should see correct EIG header logo & GREAT footer logo on "SSO - Registration" page -- @1.6  
    Given test authentication is done
    Given "Robert" visits the "SSO - Registration" page
    Then "Robert" should see correct "EIG" logo
    And "Robert" should see correct "Great - footer" logo

  @bug @allure.issue:ED-3116 @fixed @allure.link:ED-3118 @logo
  Scenario Outline: Any Exporter should see correct EIG header logo & GREAT footer logo on "SSO - Sign in" page -- @1.7  
    Given test authentication is done
    Given "Robert" visits the "SSO - Sign in" page
    Then "Robert" should see correct "EIG" logo
    And "Robert" should see correct "Great - footer" logo

  @stage-only @allure.link:ED-3118 @logo
  Scenario: Any Exporter should see correct EIG header logo & GREAT footer logo on "Export Opportunities - Home" page 
    Given test authentication is done
    Given "Robert" visits the "Export Opportunities - Home" page
    Then "Robert" should see correct "EIG" logo
    And "Robert" should see correct "Great - footer" logo

  @bug @allure.issue:ED-3116 @fixed @allure.link:ED-3118 @events @logo
  Scenario: Any Exporter should see correct Business Is Great (BIG) header & footer logo on "Events - Home" page 
    Given test authentication is done
    Given "Robert" visits the "Events - Home" page
    Then "Robert" should see correct "EVENTS Business Is Great - header" logo
    And "Robert" should see correct "EVENTS Business Is Great - footer" logo

  @allure.link:ED-3118 @logo
  Scenario: Any Exporter should see correct GREAT header & footer logo on "Find a Supplier - Landing" page 
    Given test authentication is done
    Given "Robert" visits the "Find a Supplier - Landing" page
    Then "Robert" should see correct "Great - header" logo
    And "Robert" should see correct "Great - footer" logo

  @allure.link:ED-3587 @logo @allure.link:ED-3118
  Scenario Outline: Any Exporter should be able to get to the Domestic Home page from "Domestic - Home" page by using DIT logo in the page header and footer -- @1.1  
    Given test authentication is done
    Given "Robert" visits the "Domestic - Home" page
    When "Robert" decides to click on "Invest in Great logo"
    Then "Robert" should be on the "Domestic - Home" page if not be redirected to "International - Landing" page

  @allure.link:ED-3587 @logo @allure.link:ED-3118
  Scenario Outline: Any Exporter should be able to get to the Domestic Home page from "Domestic - Get finance" page by using DIT logo in the page header and footer -- @1.2  
    Given test authentication is done
    Given "Robert" visits the "Domestic - Get finance" page
    When "Robert" decides to click on "Invest in Great logo"
    Then "Robert" should be on the "Domestic - Home" page if not be redirected to "International - Landing" page

  @allure.link:ED-3587 @logo @allure.link:ED-3118
  Scenario Outline: Any Exporter should be able to get to the Domestic Home page from "SSO - Registration" page by using DIT logo in the page header and footer -- @1.3  
    Given test authentication is done
    Given "Robert" visits the "SSO - Registration" page
    When "Robert" decides to click on "Invest in Great logo"
    Then "Robert" should be on the "Domestic - Home" page if not be redirected to "International - Landing" page

  @allure.link:ED-3587 @logo @allure.link:ED-3118
  Scenario Outline: Any Exporter should be able to get to the Domestic Home page from "SSO - Sign in" page by using DIT logo in the page header and footer -- @1.4  
    Given test authentication is done
    Given "Robert" visits the "SSO - Sign in" page
    When "Robert" decides to click on "Invest in Great logo"
    Then "Robert" should be on the "Domestic - Home" page if not be redirected to "International - Landing" page

  @allure.link:ED-3587 @logo @allure.link:ED-3118
  Scenario Outline: Any Exporter should be able to get to the Domestic Home page from "Find a Buyer - Home" page by using DIT logo in the page header and footer -- @1.5  
    Given test authentication is done
    Given "Robert" visits the "Find a Buyer - Home" page
    When "Robert" decides to click on "Invest in Great logo"
    Then "Robert" should be on the "Domestic - Home" page if not be redirected to "International - Landing" page

  @allure.link:ED-3587 @logo @allure.link:ED-3118
  Scenario Outline: Any Exporter should be able to get to the Domestic Home page from "Selling Online Overseas - Home" page by using DIT logo in the page header and footer -- @1.6  
    Given test authentication is done
    Given "Robert" visits the "Selling Online Overseas - Home" page
    When "Robert" decides to click on "Invest in Great logo"
    Then "Robert" should be on the "Domestic - Home" page if not be redirected to "International - Landing" page

  @allure.link:ED-3587 @logo @allure.link:ED-3118
  Scenario Outline: Any Exporter should be able to get to the Domestic Home page from "Profile - About" page by using DIT logo in the page header and footer -- @1.7  
    Given test authentication is done
    Given "Robert" visits the "Profile - About" page
    When "Robert" decides to click on "Invest in Great logo"
    Then "Robert" should be on the "Domestic - Home" page if not be redirected to "International - Landing" page

  @allure.link:ED-3587 @logo @allure.link:ED-3118 @stage-only
  Scenario Outline: Any Exporter should be able to get to the Domestic Home page from "Export Opportunities - Home" page by using DIT logo in the page header and footer -- @2.1  
    Given test authentication is done
    Given "Robert" visits the "Export Opportunities - Home" page
    When "Robert" decides to click on "Invest in Great logo"
    Then "Robert" should be on the "Domestic - Home" page if not be redirected to "International - Landing" page

  @allure.link:ED-3091 @favicon
  Scenario Outline: Any user should see the correct favicon on "Domestic - Home" page -- @1.1 Domestic pages 
    Given test authentication is done
    Given "Robert" visits the "Domestic - Home" page
    Then "Robert" should see the correct favicon

  @allure.link:ED-3091 @favicon
  Scenario Outline: Any user should see the correct favicon on "Find a Buyer - Home" page -- @1.2 Domestic pages 
    Given test authentication is done
    Given "Robert" visits the "Find a Buyer - Home" page
    Then "Robert" should see the correct favicon

  @allure.link:ED-3091 @favicon
  Scenario Outline: Any user should see the correct favicon on "Find a Supplier - Landing" page -- @1.3 Domestic pages 
    Given test authentication is done
    Given "Robert" visits the "Find a Supplier - Landing" page
    Then "Robert" should see the correct favicon

  @allure.link:ED-3091 @favicon
  Scenario Outline: Any user should see the correct favicon on "SSO - Registration" page -- @1.4 Domestic pages 
    Given test authentication is done
    Given "Robert" visits the "SSO - Registration" page
    Then "Robert" should see the correct favicon

  @allure.link:ED-3091 @favicon
  Scenario Outline: Any user should see the correct favicon on "SSO - Sign in" page -- @1.5 Domestic pages 
    Given test authentication is done
    Given "Robert" visits the "SSO - Sign in" page
    Then "Robert" should see the correct favicon

  @allure.link:ED-3091 @favicon
  Scenario Outline: Any user should see the correct favicon on "Profile - About" page -- @1.6 Domestic pages 
    Given test authentication is done
    Given "Robert" visits the "Profile - About" page
    Then "Robert" should see the correct favicon

  @allure.link:ED-3091 @favicon
  Scenario Outline: Any user should see the correct favicon on "Selling Online Overseas - Home" page -- @1.7 Domestic pages 
    Given test authentication is done
    Given "Robert" visits the "Selling Online Overseas - Home" page
    Then "Robert" should see the correct favicon

  @allure.link:ED-3091 @favicon @stage-only
  Scenario Outline: Any user should see the correct favicon on "Export Opportunities - Home" page -- @2.1 Export Opportunities 
    Given test authentication is done
    Given "Robert" visits the "Export Opportunities - Home" page
    Then "Robert" should see the correct favicon

  @mobile @skip-in-firefox
  Scenario Outline: Any mobile user should see mobile-friendly header on "Domestic - Home" page -- @1.1 Domestic pages 
    Given test authentication is done
    Given "Robert" visits the "Domestic - Home" page
    When "Robert" clicks the Menu button
    Then "Robert" should see the menu items

  @mobile @skip-in-firefox
  Scenario Outline: Any mobile user should see mobile-friendly header on "Find a Buyer - Home" page -- @1.2 Domestic pages 
    Given test authentication is done
    Given "Robert" visits the "Find a Buyer - Home" page
    When "Robert" clicks the Menu button
    Then "Robert" should see the menu items

  @mobile @skip-in-firefox
  Scenario Outline: Any mobile user should see mobile-friendly header on "Find a Supplier - Landing" page -- @1.3 Domestic pages 
    Given test authentication is done
    Given "Robert" visits the "Find a Supplier - Landing" page
    When "Robert" clicks the Menu button
    Then "Robert" should see the menu items

  @mobile @skip-in-firefox
  Scenario Outline: Any mobile user should see mobile-friendly header on "SSO - Registration" page -- @1.4 Domestic pages 
    Given test authentication is done
    Given "Robert" visits the "SSO - Registration" page
    When "Robert" clicks the Menu button
    Then "Robert" should see the menu items

  @mobile @skip-in-firefox
  Scenario Outline: Any mobile user should see mobile-friendly header on "SSO - Sign in" page -- @1.5 Domestic pages 
    Given test authentication is done
    Given "Robert" visits the "SSO - Sign in" page
    When "Robert" clicks the Menu button
    Then "Robert" should see the menu items

  @mobile @skip-in-firefox
  Scenario Outline: Any mobile user should see mobile-friendly header on "Profile - About" page -- @1.6 Domestic pages 
    Given test authentication is done
    Given "Robert" visits the "Profile - About" page
    When "Robert" clicks the Menu button
    Then "Robert" should see the menu items

  @mobile @skip-in-firefox
  Scenario Outline: Any mobile user should see mobile-friendly header on "Selling Online Overseas - Home" page -- @1.7 Domestic pages 
    Given test authentication is done
    Given "Robert" visits the "Selling Online Overseas - Home" page
    When "Robert" clicks the Menu button
    Then "Robert" should see the menu items

@domestic @home-page @allure.suite:Domestic
Feature: Domestic - Home Page

  Background:  

  @allure.link:ED-2366 @home-page @sections
  Scenario: Any Exporter should see the "Beta bar, Hero, EU Exit enquiries banner, Advice, Services, Case Studies, Business is Great, Error Reporting" sections on the home page 
    Given test authentication is done
    Given "Robert" visits the "Domestic - Home" page
    Then "Robert" should see following sections
      | Sections                 |
      | Header                   |
      | SSO links - logged out   |
      | Hero                     |
      | How DIT helps            |
      | Find new markets         |
      | Export goods from the UK |
      | What's new               |
      | Error Reporting          |
      | Footer                   |
      | Sign in                  |

  @allure.link:XOT-1215 @maddb @home-page_4 @sections
  Scenario: Any Exporter should be able to get to the "Market Access Database" using link on the home page 
    Given test authentication is done
    Given "Robert" visits the "Domestic - Home" page
    When "Robert" decides to find out more about "exporting goods from the UK"
    Then "Robert" should be on the "Market Access Database - Landing" page

  @allure.link:XOT-1217 @markets @home-page_5 @sections
  Scenario Outline: Any Exporter should be able to get to the export markets listing using "view export market guides" link on Home page -- @1.1  
    Given test authentication is done
    Given "Robert" visits the "Domestic - Home" page
    When "Robert" decides to "view export market guides"
    Then "Robert" should be on the "Domestic - markets listing" page

  @allure.link:XOT-1217 @markets @home-page_5 @sections
  Scenario Outline: Any Exporter should be able to get to the export markets listing using "view all market guides" link on Home page -- @1.2  
    Given test authentication is done
    Given "Robert" visits the "Domestic - Home" page
    When "Robert" decides to "view all market guides"
    Then "Robert" should be on the "Domestic - markets listing" page

  @allure.link:XOT-1217 @markets @home-page_6 @sections
  Scenario: Exporters should be able to quickly filter export markets by one of the preselected sectors 
    Given test authentication is done
    Given "Robert" visits the "Domestic - Home" page
    When "Robert" decides to use one of the "sector selector quick links"
    Then "Robert" should be on the "Domestic - filtered markets listing" page

  @allure.link:XOT-1217 @markets @home-page_7 @sections
  Scenario: Exporters should be able to filter export markets by the sector their business is in 
    Given test authentication is done
    Given "Robert" visits the "Domestic - Home" page
    When "Robert" decides to find new markets for his business
    Then "Robert" should be on the "Domestic - filtered markets listing" page

  @allure.link:XOT-1218 @markets @home-page_8 @sections
  Scenario: Any Exporter should be able to learn what's new on our site 
    Given test authentication is done
    Given "Robert" visits the "Domestic - Home" page
    When "Robert" decides to use one of the "what's new links"
    Then "Robert" should get to a working page

  @sections @sign_in_required_4
  Scenario: Visitor should able to login with make an export plan section on the home page 
    Given test authentication is done
    Given "Robert" visits the "Domestic - Home" page
    When "Robert" decides to click on "Make An Export Plan"
    And "Robert" decides to click on element "Top Create a new plan" on page "Build An Export Plan - Export Plan"
    Then "Robert" should be on the "GreatMagna - Sign Up" page
    And "Robert" decides to click on element "Sign in" on page "GreatMagna - Sign Up"
    And "Robert" visited "GreatMagna - Login" page
    And "Robert" decides to enter email address "santoshtesting10008+9019@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "Build An Export Plan - Export Plan" Page
    And "Robert" decides to enter product name "Vehicle" on page "Build An Export Plan - Export Plan"
    And "Robert" decides to click continue on "Build An Export Plan - Export Plan" Page
    And "Robert" decides to enter country name "South Africa" on the "Build An Export Plan - Export Plan" page

  @sections @sign_in_required_6
  Scenario: Visitor should able to login with make an export plan section on the home page 
    Given test authentication is done
    Given "Robert" visits the "Domestic - Home" page
    When "Robert" decides to click on "Make An Export Plan"
    And "Robert" decides to click on element "Top Create a new plan" on page "Build An Export Plan - Export Plan"
    Then "Robert" should be on the "GreatMagna - Sign Up" page
    And "Robert" decides to click on element "Sign in" on page "GreatMagna - Sign Up"
    And "Robert" visited "GreatMagna - Login" page
    And "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "Build An Export Plan - Export Plan" Page
    And "Robert" decides to select random product on "Build An Export Plan - Export Plan" Page

@domestic @markets @markets_1 @allure.suite:Domestic
Feature: Domestic - Market guides

  Background:  

  @markets_1
  Scenario: Visitors should be able to view all available markets 
    Given test authentication is done
    Given "Joel" visits the "Domestic - Home" page
    When "Joel" decides to find out more about "Markets"
    Then "Joel" should be on the "Domestic - markets listing" page

  @pass @markets_2
  Scenario: Visitors should be able to view market guide page 
    Given test authentication is done
    Given "Joel" visits the "Domestic - Markets listing" page
    When "Joel" selects a random market
    Then "Joel" should be on the "Domestic - Markets - Guide" page
    And "Joel" should see following sections
      | Sections                    |
      | Header                      |
      | Hero                        |
      | Breadcrumbs                 |
      | Description                 |
      | Opportunities for exporters |
      | Doing business in           |
      | Error Reporting             |
      | Footer                      |

  @markets_3 @failed
  Scenario: Visitors should be able to view market guide page 
    Given test authentication is done
    Given "Joel" visits the "Domestic - Markets listing" page
    When "Joel" selects a random market
    Then "Joel" should be on the "Domestic - Markets - Guide" page
    And "Joel" should see following sections
      | Sections                    |
      | Header                      |
      | Hero                        |
      | Breadcrumbs                 |
      | Description                 |
      | Opportunities for exporters |
      | Doing business in           |
      | Error Reporting             |
      | Footer                      |

  @markets_4 @bug_domestic_no_link_get_in_touch
  Scenario Outline: Visitors which decided to "Read more advice about doing business abroad" after they read about random market should get to "Advice landing" page -- @1.1 next step 
    Given test authentication is done
    Given "Joel" is on randomly selected Market page
    When "Joel" decides to "Read more advice about doing business abroad"
    Then "Joel" should be on the "Domestic - Advice landing" page

  @check-duties-and-customs @bug_domestic_no_check_duties_link @markets_5
  Scenario Outline: Visitors which decided to "Check duties and customs procedures for exporting goods" after they read about random market should get to Check Duties and Customs "Brazil" page -- @1.1 next step 
    Given test authentication is done
    Given "Joel" visits the "Domestic - Brazil - guide" page
    When "Joel" decides to "Check duties and customs procedures for exporting goods"
    Then "Joel" should be on one of the "Check duties and customs - Search product code, Check duties and customs - Access Geo Restricted" pages

  @check-duties-and-customs @bug_domestic_no_check_duties_link @markets_5
  Scenario Outline: Visitors which decided to "Check duties and customs procedures for exporting goods" after they read about random market should get to Check Duties and Customs "Germany" page -- @1.2 next step 
    Given test authentication is done
    Given "Joel" visits the "Domestic - Germany - guide" page
    When "Joel" decides to "Check duties and customs procedures for exporting goods"
    Then "Joel" should be on one of the "Check duties and customs - Search product code, Check duties and customs - Access Geo Restricted" pages

  @check-duties-and-customs @bug_domestic_no_check_duties_link @markets_5
  Scenario Outline: Visitors which decided to "Check duties and customs procedures for exporting goods" after they read about random market should get to Check Duties and Customs "Italy" page -- @1.3 next step 
    Given test authentication is done
    Given "Joel" visits the "Domestic - Italy - guide" page
    When "Joel" decides to "Check duties and customs procedures for exporting goods"
    Then "Joel" should be on one of the "Check duties and customs - Search product code, Check duties and customs - Access Geo Restricted" pages

  @check-duties-and-customs @bug_domestic_no_check_duties_link @markets_5
  Scenario Outline: Visitors which decided to "Check duties and customs procedures for exporting goods" after they read about random market should get to Check Duties and Customs "Japan" page -- @1.4 next step 
    Given test authentication is done
    Given "Joel" visits the "Domestic - Japan - guide" page
    When "Joel" decides to "Check duties and customs procedures for exporting goods"
    Then "Joel" should be on one of the "Check duties and customs - Search product code, Check duties and customs - Access Geo Restricted" pages

  @markets_6 @get_started_markets
  Scenario: Visitor should able to login with "get started" from the market list 
    Given test authentication is done
    Given "Robert" visits the "Domestic - Home" page
    When "Robert" decides to click on "Markets"
    And "Robert" decides to click on element "Get started" on page "Domestic - Markets Listing"
    Then "Robert" should be on the "GreatMagna - Sign Up" page
    And "Robert" decides to click on element "Sign in" on page "GreatMagna - Sign Up"
    And "Robert" visited "GreatMagna - Login" page
    And "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page

  @markets_7 @get_started_markets
  Scenario: Visitor should able to login with "compare now" from the market guide 
    Given test authentication is done
    Given "Robert" visits the "Domestic - Brazil - guide" page
    When "Robert" decides to click on element "Compare Now" on page "Domestic - Brazil - guide"
    Then "Robert" should be on the "GreatMagna - Sign Up" page
    And "Robert" decides to click on element "Sign in" on page "GreatMagna - Sign Up"
    And "Robert" visited "GreatMagna - Login" page
    And "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page

@domestic @pixels @allure.suite:Domestic
Feature: Domestic - Pixels

  Background:  

  @international
  Scenario Outline: Pixels should be present on "International - Home" page -- @1.1 Various pages 
    Given test authentication is done
    Given "Robert" visited "Domestic - Home" page
    Then "Robert" should be on the "Domestic - Home" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  @international
  Scenario Outline: Pixels should be present on "International - Advice landing" page -- @1.2 Various pages 
    Given test authentication is done
    Given "Robert" visited "Domestic - Advice landing" page
    Then "Robert" should be on the "Domestic - Advice landing" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  @international
  Scenario Outline: Pixels should be present on "International - Contact us" page -- @1.3 Various pages 
    Given test authentication is done
    Given "Robert" visited "Domestic - Contact us" page
    Then "Robert" should be on the "Domestic - Contact us" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  @international
  Scenario Outline: Pixels should be present on "International - Feedback - contact us" page -- @1.4 Various pages 
    Given test authentication is done
    Given "Robert" visited "Domestic - Feedback - contact us" page
    Then "Robert" should be on the "Domestic - Feedback - contact us" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  @international
  Scenario Outline: Pixels should be present on "International - Find an export market - Article list" page -- @1.5 Various pages 
    Given test authentication is done
    Given "Robert" visited "Domestic - Find an export market - Article list" page
    Then "Robert" should be on the "Domestic - Find an export market - Article list" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  @international
  Scenario Outline: Pixels should be present on "International - Get finance" page -- @1.6 Various pages 
    Given test authentication is done
    Given "Robert" visited "Domestic - Get finance" page
    Then "Robert" should be on the "Domestic - Get finance" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  @international
  Scenario Outline: Pixels should be present on "International - Join our Export Community - form" page -- @1.7 Various pages 
    Given test authentication is done
    Given "Robert" visited "Domestic - Join our Export Community - form" page
    Then "Robert" should be on the "Domestic - Join our Export Community - form" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  @international
  Scenario Outline: Pixels should be present on "International - Join our export community - landing" page -- @1.8 Various pages 
    Given test authentication is done
    Given "Robert" visited "Domestic - Join our export community - landing" page
    Then "Robert" should be on the "Domestic - Join our export community - landing" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  @international
  Scenario Outline: Pixels should be present on "International - Markets listing" page -- @1.9 Various pages 
    Given test authentication is done
    Given "Robert" visited "Domestic - Markets listing" page
    Then "Robert" should be on the "Domestic - Markets listing" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  @international
  Scenario Outline: Pixels should be present on "International - Services" page -- @1.10 Various pages 
    Given test authentication is done
    Given "Robert" visited "Domestic - Services" page
    Then "Robert" should be on the "Domestic - Services" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  @international
  Scenario Outline: Pixels should be present on "International - Trade finance" page -- @1.11 Various pages 
    Given test authentication is done
    Given "Robert" visited "Domestic - Trade finance" page
    Then "Robert" should be on the "Domestic - Trade finance" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  @international
  Scenario Outline: Pixels should be present on "International - What can we help you with? - Domestic Contact us" page -- @1.12 Various pages 
    Given test authentication is done
    Given "Robert" visited "Domestic - What can we help you with? - Domestic Contact us" page
    Then "Robert" should be on the "Domestic - What can we help you with? - Domestic Contact us" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  @international
  Scenario Outline: Pixels should be present on "International - What would you like to know more about? - International Contact us" page -- @1.13 Various pages 
    Given test authentication is done
    Given "Robert" visited "Domestic - What would you like to know more about? - International Contact us" page
    Then "Robert" should be on the "Domestic - What would you like to know more about? - International Contact us" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

@domestic @search_1 @allure.suite:Domestic
Feature: Domestic - Great site search

  Background:  

  @search_1 @allure.link:XOT-760
  Scenario: Visitor should see empty search results if they don't specify search phrase 
    Given test authentication is done
    Given "Robert" visits the "Domestic - Home" page
    When "Robert" decides to click on "search button"
    Then "Robert" should be on the "Domestic - Empty Search results" page

  @search_2 @allure.link:XOT-760 @failed
  Scenario Outline: Visitor should see search results for "Work" -- @1.1 event, market, service and opportunity 
    Given test authentication is done
    Given "Robert" visits the "Domestic - Home" page
    When "Robert" searches using "Work"
    Then "Robert" should see search results page number "1" for "Work"

  @search_2 @allure.link:XOT-760 @failed
  Scenario Outline: Visitor should see search results for "Transport" -- @1.2 event, market, service and opportunity 
    Given test authentication is done
    Given "Robert" visits the "Domestic - Advice landing" page
    When "Robert" searches using "Transport"
    Then "Robert" should see search results page number "1" for "Transport"

  @search_2 @allure.link:XOT-760 @failed
  Scenario Outline: Visitor should see search results for "Export" -- @1.3 event, market, service and opportunity 
    Given test authentication is done
    Given "Robert" visits the "Domestic - Markets listing" page
    When "Robert" searches using "Export"
    Then "Robert" should see search results page number "1" for "Export"

  @search_3 @failed @allure.issue:XOT-840 @fixed @allure.link:XOT-760
  Scenario Outline: Visitors should be able to find out more about the "Article" search results -- @1.1 event, market, service and opportunity 
    Given test authentication is done
    Given "Robert" searched using "Exhibition" on the "Domestic - Home" page
    When "Robert" decides to find out more about random "Article" result
    Then "Robert" should be on one of the "Events - Event, Events - Registration" pages

  @search_3 @failed @allure.issue:XOT-840 @fixed @allure.link:XOT-760
  Scenario Outline: Visitors should be able to find out more about the "Online marketplace" search results -- @1.2 event, market, service and opportunity 
    Given test authentication is done
    Given "Robert" searched using "Food" on the "Domestic - Markets listing" page
    When "Robert" decides to find out more about random "Online marketplace" result
    Then "Robert" should be on one of the "Selling Online Overseas - Marketplace, Domestic - Markets - guide, Events - event" pages

  @search_4 @allure.link:XOT-760
  Scenario Outline: Visitors should be able to navigate through search results pages for "Work" -- @1.1 event, market, service and opportunity 
    Given test authentication is done
    Given "Robert" searched using "Work" on the "Domestic - Home" page
    And "Robert" sees more than "1" search result page
    When "Robert" decides to use "Next" link
    Then "Robert" should see search results page number "2" for "Work"
    When "Robert" decides to use "Previous" link
    Then "Robert" should see search results page number "1" for "Work"

  @search_4 @allure.link:XOT-760
  Scenario Outline: Visitors should be able to navigate through search results pages for "Transport" -- @1.2 event, market, service and opportunity 
    Given test authentication is done
    Given "Robert" searched using "Transport" on the "Domestic - Advice landing" page
    And "Robert" sees more than "1" search result page
    When "Robert" decides to use "Next" link
    Then "Robert" should see search results page number "2" for "Transport"
    When "Robert" decides to use "Previous" link
    Then "Robert" should see search results page number "1" for "Transport"

  @search_4 @allure.link:XOT-760
  Scenario Outline: Visitors should be able to navigate through search results pages for "Water" -- @1.3 event, market, service and opportunity 
    Given test authentication is done
    Given "Robert" searched using "Water" on the "Domestic - Markets listing" page
    And "Robert" sees more than "1" search result page
    When "Robert" decides to use "Next" link
    Then "Robert" should see search results page number "2" for "Water"
    When "Robert" decides to use "Previous" link
    Then "Robert" should see search results page number "1" for "Water"

  @search_5 @failed @allure.link:XOT-760
  Scenario Outline: Visitor should be able to clear the last search for "Transport" and start new search for "way" -- @1.1 event, market, service and opportunity 
    Given test authentication is done
    Given "Robert" searched using "Transport" on the "Domestic - Advice landing" page
    And "Robert" sees search results page number "1" for "Transport"
    When "Robert" searches using "way"
    Then "Robert" should see search results page number "1" for "way"

@domestic @sharing @social-media @allure.suite:Domestic
Feature: Domestic - Sharing on Social Media and via emails

  Background:  

  @allure.link:CMS-686 @allure.issue:CMS-733 @advice @article @social-media_1 @Facebook
  Scenario Outline: Any Exporter should be able to share Advice article via "Facebook" -- @1.1  
    Given test authentication is done
    Given "Robert" is on randomly selected Advice article page
    When "Robert" decides to share the article via "Facebook"
    Then "Robert" should be taken to a new tab with the "Facebook" share page opened
    And "Robert" should see that "Facebook" share page has been pre-populated with message and the link to the article

  @allure.link:CMS-686 @allure.issue:CMS-733 @advice @article @linkedin @social-media_2
  Scenario: Any Exporter should be able to share Advice article via "LinkedIn" 
    Given test authentication is done
    Given "Robert" is on randomly selected Advice article page
    When "Robert" decides to share the article via "LinkedIn"
    Then "Robert" should see that "LinkedIn" share link contains link to the article

  @allure.link:CMS-686 @allure.issue:CMS-733 @advice @article @social-media_3 @email
  Scenario: Any Exporter should be able to share Advice article via "email" 
    Given test authentication is done
    Given "Robert" is on randomly selected Advice article page
    When "Robert" decides to share the article via "email"
    Then "Robert" should see that the share via email link will pre-populate the message subject and body with Article title and URL

@domestic @ukef @allure.suite:Domestic
Feature: Domestic - UK Export Finance page & contact-us form

  Background:  

  @allure.link:TT-585 @ukef_1
  Scenario: Any Exporter should see the all expected sections on the "UKEF Trade Finance" page 
    Given test authentication is done
    Given "Robert" visits the "Domestic - Trade Finance" page
    Then "Robert" should see following sections
      | Sections                    |
      | Breadcrumbs                 |
      | Hero                        |
      | Tell us about your business |
      | Advantages                  |
      | Video                       |
      | Contact us                  |
      | Error Reporting             |

  @allure.link:TT-585 @video @skip-in-firefox
  Scenario: Any Exporter should be able to watch promotional video on the "UKEF Trade Finance" page 
    Given test authentication is done
    Given "Robert" visits the "Domestic - Trade Finance" page
    When "Robert" decides to watch "6" seconds of the promotional video
    Then "Robert" should be able to watch at least first "5" seconds of the promotional video

  @allure.link:TT-585
  Scenario: Any Exporter should be able to get to "Finance Advice" page from the "UKEF Trade Finance" page 
    Given test authentication is done
    Given "Robert" visits the "Domestic - Trade Finance" page
    When "Robert" decides to "Read more about getting money to grow your business"
    Then "Robert" should be on the "Domestic - Advice article list" page

  @allure.link:TT-585
  Scenario Outline: Any Exporter should be able to navigate to "Domestic - Home" page using "great.gov.uk" on the "UKEF Trade Finance" page -- @1.1 Breadcrumbs 
    Given test authentication is done
    Given "Robert" visits the "Domestic - Trade Finance" page
    When "Robert" decides to click on "great.gov.uk"
    Then "Robert" should be on the "Domestic - Home" page if not be redirected to "International - Landing" page

  @allure.link:TT-585
  Scenario Outline: Any Exporter should be able to navigate to "Domestic - Get Finance" page using "UKEF" on the "UKEF Trade Finance" page -- @1.2 Breadcrumbs 
    Given test authentication is done
    Given "Robert" visits the "Domestic - Trade Finance" page
    When "Robert" decides to click on "UKEF"
    Then "Robert" should be on the "Domestic - Get Finance" page if not be redirected to "International - Landing" page

  @allure.link:TT-585
  Scenario: Any Exporter should be able to get to the "Contact UKEF" form from "Domestic - Trade Finance" 
    Given test authentication is done
    Given "Robert" visits the "Domestic - Trade Finance" page
    When "Robert" decides to "Tell us about your business"
    Then "Robert" should be on the "Domestic - Your details - UKEF Contact us" page
    And "Robert" should see following sections
      | Sections        |
      | Breadcrumbs     |
      | Form            |
      | Error Reporting |

  @allure.link:TT-585 @captcha @dev-only
  Scenario: Any Exporter should be able to contact UKEF team by submitting the "Check your eligibility" form 
    Given test authentication is done
    Given "Robert" visits the "Domestic - Your details - UKEF Contact us" page
    When "Robert" fills out and submits the form
    Then "Robert" should be on the "Domestic - Company details - UKEF Contact us" page
    When "Robert" fills out and submits the form
    Then "Robert" should be on the "Domestic - Tell us how we can help - UKEF Contact us" page
    When "Robert" fills out and submits the form
    Then "Robert" should be on the "Domestic - Thank you - UKEF Contact us" page

  @allure.link:TT-585 @captcha @dev-only
  Scenario: Any Exporter should not be able to submit "Check you eligibility" form without filling out all required fields 
    Given test authentication is done
    Given "Robert" visits the "Domestic - Your details - UKEF Contact us" page
    When "Robert" submits the form
    Then "Robert" should be on the "Domestic - Your details - UKEF Contact us" page
    And "Robert" should see error message saying that mandatory fields are required
    When "Robert" fills out and submits the form
    Then "Robert" should be on the "Domestic - Company details - UKEF Contact us" page
    When "Robert" submits the form
    Then "Robert" should be on the "Domestic - Company details - UKEF Contact us" page
    And "Robert" should see error message saying that mandatory fields are required
    When "Robert" fills out and submits the form
    Then "Robert" should be on the "Domestic - Tell us how we can help - UKEF Contact us" page
    When "Robert" submits the form
    Then "Robert" should be on the "Domestic - Tell us how we can help - UKEF Contact us" page
    And "Robert" should see error message saying that mandatory fields are required
    When "Robert" fills out and submits the form
    Then "Robert" should be on the "Domestic - Thank you - UKEF Contact us" page

@Great_Magna_Tests @contact-us-page @allure.suite:Great_Magna_Contact-Us
Feature: Contact Us Form

  Background:  

  @allure.link:XOT-009 @Great-Magna-Login
  Scenario: Visitor should be able to fill contact us form 
    Given Test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    Then "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on element "Contact Us" on page "GreatMagna - Dashboard"
    And "Robert" fills out and submits the contact us form

@Great_Magna_Tests @dashboard-page @allure.suite:Great_Magna_Dashboard
Feature: GreatMagna - Dashboard Page

  Background:  

  @allure.link:XOT-021 @Great-Magna-Dashboard
  Scenario Outline: User should be able to view Dashboard pages -- @1.1 email address and password 
    Given Test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" should see following sections
      | sections             |
      | Learn to export      |
      | Compare Countries    |
      | Build an export plan |

  @allure.link:XOT-022 @Great-Magna-Dashboard
  Scenario Outline: User should be click on the questions for vfm -- @1.1 email address and password 
    Given Test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    And "Robert" should be able to click on I have exported in the last 12 months

  @allure.link:XOT-023 @Great-Magna-Dashboard
  Scenario: User should be able to click Menu and the links 
    Given Test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click "Menu"
    And "Robert" decides to click "Home"
    And "Robert" decides to click "Learn to export"
    And "Robert" decides to click "Compare Countries"
    And "Robert" decides to click "Make An Export Plan"
    And "Robert" decides to click "Advice"
    And "Robert" decides to click "Markets"

  @allure.link:XOT-024 @Great-Magna-Export_Plan_Dashboard_12
  Scenario: New User should be able to navigate to Dashbaord and click on Export plan section and click on Got to export plan and Start BUtton 
    Given Test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+7619@gmail.com", password "Testing@123!" and click Login
    Then "Robert" should be on the "GreatMagna - Dashboard" Page
    And "Robert" decides to click on "Go To export plan"
    And "Robert" should be on the "Build An Export Plan - Export Plan Dashboard" Page
    And "Robert" decides to click on element "Dashboard" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    And "Robert" decides to click on "Start"
    And "Robert" should be on the "Build An Export Plan - About Your Business" Page

  @allure.link:XOT-025 @Great-Magna-Sign-Up
  Scenario Outline: First time landing on the dashboard page -- @1.1 email address and password 
    Given Test authentication is done
    Given "Robert" visited "GreatMagna - Sign Up" page
    When "Robert" decides to enter email address "santoshtesting10008+xxxx@gmail.com", password "Testing@123!" and click Sign up
    Then "Robert" should be able to see confirmation code page from email "santoshtesting10008@gmail.com", password "Testing@123!" and enter code
    Then "Robert" should be on the "GreatMagna - Dashboard" Page
    And "Robert" decides to click on "Build an export plan"
    And "Robert" "Robert" decides to click on section "Travel Plan" on page "Build An Export Plan - Export Plan Dashboard"
    And "Robert" decides to enter product name "Televisions" on page "Build An Export Plan - Travel Plan"
    And "Robert" decides to enter country name "Angola" on the "Build An Export Plan - Travel Plan" page

  @allure.link:XOT-1113 @Great_Magna_Export_Plan_wte_dash
  Scenario: User should be able to click on Dashboard and select compare places 
    Given Test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Dashboard Where to Export"
    And "Robert" should be on the "WhereToExport - Compare Countries" Page

@Great_Magna_Tests @forgotten-password-page @allure.suite:Great_Magna_Forgotten_Password
Feature: GreatMagna -  Forgotten Password Page

  Background:  

  @allure.link:XOT-051 @Great-Magna-Forgotten-Password
  Scenario Outline: Visitor should be able to click on forgotten password and create new password -- @1.1 email address and password 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to click on "forgotten_password"
    And "Robert" accepts all cookies
    Then "Robert" decides to enter emailaddress "santoshtesting10008@gmail.com" and click on reset password
    And "Robert" should be able to click on reset password link from email "santoshtesting10008@gmail.com", "Testing@123!" and enters new password "Testing@123!" and confirm
    And "Robert" should be on the "GreatMagna - About" Page

@Great_Magna_Tests @login-page @allure.suite:Great_Magna_Login
Feature: GreatMagna - Login Page

  Background:  

  @allure.link:XOT-004 @Great-Magna-Login
  Scenario Outline: Visitor should be able to see error message with empty password -- @1.1  
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+8888@gmail.com", password "letters " and click Login
    Then "Robert" should be on the "GreatMagna - Login" Page
    And "Natalia" should see "This password contains letters only" on the page

  @allure.link:XOT-004 @Great-Magna-Login
  Scenario Outline: Visitor should be able to see error message with empty password -- @1.2  
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+8888@gmail.com", password "abcdefghij " and click Login
    Then "Robert" should be on the "GreatMagna - Login" Page
    And "Natalia" should see "This password contains letters only" on the page

  @allure.link:XOT-004 @Great-Magna-Login
  Scenario Outline: Visitor should be able to see error message with empty password -- @1.3  
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+8888@gmail.com", password "abcdefghijk " and click Login
    Then "Robert" should be on the "GreatMagna - Login" Page
    And "Natalia" should see "This password contains letters only" on the page

  @allure.link:XOT-004 @Great-Magna-Login
  Scenario Outline: Visitor should be able to see error message with empty password -- @1.4  
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+8888@gmail.com", password "0123456789 " and click Login
    Then "Robert" should be on the "GreatMagna - Login" Page
    And "Natalia" should see "This password is entirely numeric" on the page

  @allure.link:XOT-004 @Great-Magna-Login
  Scenario Outline: Visitor should be able to see error message with empty password -- @1.5  
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+8888@gmail.com", password "password " and click Login
    Then "Robert" should be on the "GreatMagna - Login" Page
    And "Natalia" should see "Passwords don't match" on the page

  @allure.link:XOT-004 @Great-Magna-Login
  Scenario Outline: Visitor should be able to see error message with empty password -- @1.6  
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+8888@gmail.com", password "password " and click Login
    Then "Robert" should be on the "GreatMagna - Login" Page
    And "Natalia" should see "This field is required" on the page

  @allure.link:XOT-004 @Great-Magna-Login
  Scenario Outline: Visitor should be able to see error message with empty password -- @1.7  
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+8888@gmail.com", password "empty " and click Login
    Then "Robert" should be on the "GreatMagna - Login" Page
    And "Natalia" should see "This field is required" on the page

  @allure.link:XOT-004 @Great-Magna-Login
  Scenario Outline: Visitor should be able to see error message with empty password -- @1.8  
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+8888@gmail.com", password "password " and click Login
    Then "Robert" should be on the "GreatMagna - Login" Page
    And "Natalia" should see "This password contains the word 'password'" on the page

  @allure.link:XOT-004 @Great-Magna-Login
  Scenario Outline: Visitor should be able to see error message with empty password -- @1.9  
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+8888@gmail.com", password "123 short " and click Login
    Then "Robert" should be on the "GreatMagna - Login" Page
    And "Natalia" should see "This password is too short. It must contain at least 10 characters" on the page

  @allure.link:XOT-004 @Great-Magna-Login
  Scenario Outline: Visitor should be able to see error message with empty password -- @1.10  
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+8888@gmail.com", password "empty " and click Login
    Then "Robert" should be on the "GreatMagna - Login" Page
    And "Natalia" should see "This field is required" on the page

@Great_Magna_Tests @search-page @allure.suite:Great_Magna_Search
Feature: Search product & country in personalisation

  Background:  

  @allure.link:XOT-081 @Great-Magna-Search-1
  Scenario: New Visitor should be able to go to Dashboard page on click "Search again" 
    Given Test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to enter product name "vehicle" on page "GreatMagna - Dashboard"
    And "Robert" decides to click on Search again on the "GreatMagna - Dashboard" Page
    And "Robert" should be on the "GreatMagna - Dashboard" page

@Great_Magna_Tests @sign-out-page @allure.suite:Great_Magna_Sign_Out
Feature: GreatMagna - Sign out Page

  Background:  

  @allure.link:XOT-029 @Great-Magna-Sign-Out
  Scenario Outline: Visitor should be able to sign out from the dashboard page -- @1.1 email address and password 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on element "Menu" on page "GreatMagna - Dashboard"
    And "Robert" decides to click on element "Sign out" on page "GreatMagna - Dashboard"
    And "Robert" should be on the "GreatMagna - Home" page

@Great_Magna_Tests @sign-up-page @allure.suite:Great_Magna_Sign_Up
Feature: GreatMagna - Sign up Page

  Background:  

  @allure.link:XOT-031 @Great-Magna-Sign-Up
  Scenario Outline: New Visitor should be able to sign up -- @1.1 email address and password 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Sign Up" page
    When "Robert" decides to enter email address "santoshtesting10008+xxxx@gmail.com", password "Testing@123!" and click Sign up
    Then "Robert" should be able to see confirmation code page from email "santoshtesting10008@gmail.com", password "Testing@123!" and enter code
    Then "Robert" should be on the "GreatMagna - Dashboard" Page

  @allure.link:XOT-004 @Great-Magna-signup_1
  Scenario Outline: Visitor should be able to see error message with empty password -- @1.1  
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Sign Up" page
    When "Robert" decides to enter email address "santoshtesting10008+888880@gmail.com", password "password " and click Sign up
    Then "Robert" should be on the "GreatMagna - Sign Up" Page
    And "Robert" should see "This field may not be blank." on the page

  @allure.link:XOT-004 @Great-Magna-signup_1
  Scenario Outline: Visitor should be able to see error message with empty password -- @1.2  
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Sign Up" page
    When "Robert" decides to enter email address "santoshtesting10008+888880@gmail.com", password "empty " and click Sign up
    Then "Robert" should be on the "GreatMagna - Sign Up" Page
    And "Robert" should see "This field may not be blank." on the page

  @allure.link:XOT-032 @Great-Magna-Sign-Up_gen_in_touch
  Scenario: User tries to get in touch on th sign up page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Sign Up" page
    When "Robert" decides to click on "Get in touch"
    Then "Robert" should be on the "Domestic - contact us feedback" Page

@domestic @international_1 @international @allure.suite:International
Feature: INTL - Updates for non-UK companies on EU Exit

  Background:  

@domestic @invest @fas-contact-us @international @no-sso-email-verification-required @international_2 @allure.suite:International
Feature: FAS - Contact us

  Background:  

  @report-this-page @failed
  Scenario Outline: Buyers should be able to get to "Domestic - Feedback" form in order to report a problem with "Agritech Industry" page -- @1.1 common industries 
    Given test authentication is done
    Given "Robert" visits the "International - Agritech - industry" page

  @report-this-page @failed @full
  Scenario Outline: Buyers should be able to get to "Domestic - Feedback" form in order to report a problem with "Carbon capture usage and storage Industry" page -- @2.1 promoted industries 
    Given test authentication is done
    Given "Robert" visits the "International - Carbon capture usage and storage - industry" page

  @report-this-page @failed @full
  Scenario Outline: Buyers should be able to get to "Domestic - Feedback" form in order to report a problem with "Chemicals Industry" page -- @2.2 promoted industries 
    Given test authentication is done
    Given "Robert" visits the "International - Chemicals - industry" page

  @report-this-page @failed @full
  Scenario Outline: Buyers should be able to get to "Domestic - Feedback" form in order to report a problem with "Green finance Industry" page -- @2.3 promoted industries 
    Given test authentication is done
    Given "Robert" visits the "International - Green finance - industry" page

  @report-this-page @failed @full
  Scenario Outline: Buyers should be able to get to "Domestic - Feedback" form in order to report a problem with "Greener Buildings Industry" page -- @2.4 promoted industries 
    Given test authentication is done
    Given "Robert" visits the "International - Greener Buildings - industry" page

  @report-this-page @failed @full
  Scenario Outline: Buyers should be able to get to "Domestic - Feedback" form in order to report a problem with "Hydrogen Industry" page -- @2.5 promoted industries 
    Given test authentication is done
    Given "Robert" visits the "International - Hydrogen - industry" page

  @report-this-page @failed @full
  Scenario Outline: Buyers should be able to get to "Domestic - Feedback" form in order to report a problem with "Jet zero and green ships Industry" page -- @2.6 promoted industries 
    Given test authentication is done
    Given "Robert" visits the "International - Jet zero and green ships - industry" page

  @report-this-page @failed @full
  Scenario Outline: Buyers should be able to get to "Domestic - Feedback" form in order to report a problem with "Sustainable infrastructure Industry" page -- @2.7 promoted industries 
    Given test authentication is done
    Given "Robert" visits the "International - Sustainable infrastructure - industry" page

@gtm @invest_gtm @international @pixels @allure.suite:International
Feature: FAS - Google Tag Manager

  Background:  

  @bug @allure.issue:CMS-1634 @fixed @allure.link:TT-1500
  Scenario Outline: GTM properties should be properly set on "Find a Supplier - Landing" page -- @1.1 Listing pages 
    Given test authentication is done
    When "Robert" goes to the "Find a Supplier - Landing" page
    Then Google Tag Manager properties should be set to proper values
      | businessUnit  | loginStatus | siteLanguage | siteSection | siteSubsection | userId |
      | FindASupplier | False       | en-gb        | HomePage    | Empty string   | None   |

  @bug @allure.issue:CMS-1634 @fixed @allure.link:TT-1500
  Scenario Outline: GTM properties should be properly set on "Find a Supplier - Empty search results" page -- @1.2 Listing pages 
    Given test authentication is done
    When "Robert" goes to the "Find a Supplier - Empty search results" page
    Then Google Tag Manager properties should be set to proper values
      | businessUnit  | loginStatus | siteLanguage | siteSection | siteSubsection | userId |
      | FindASupplier | False       | en-gb        | Companies   | Search         | None   |

  @bug @allure.issue:CMS-1634 @fixed @allure.link:TT-1500
  Scenario Outline: GTM properties should be properly set on "Find a Supplier - Company profile" page -- @1.1 Listing pages 
    Given test authentication is done
    Given "Robert" searched for companies using "food" keyword in "any" sector
    When "Robert" decides to view "random" company profile
    Then "Robert" should be on the "Find a Supplier - Company profile" page
    And Google Tag Manager properties should be set to proper values
      | businessUnit  | loginStatus | siteLanguage | siteSection | siteSubsection         | userId |
      | FindASupplier | False       | en-gb        | Companies   | PublishedProfileDetail | None   |

  @stage-only @bug @allure.issue:CMS-1634 @fixed @allure.link:TT-1500 @internationalisation
  Scenario Outline: GTM properties should be properly set on "Find a Supplier - Landing" page viewed in "Deutsch" -- @1.1 Various pages 
    Given test authentication is done
    Given "Robert" visits the "Find a Supplier - Landing" page
    When "Robert" decides to view the page in "Deutsch"
    Then Google Tag Manager properties should be set to proper values
      | businessUnit  | loginStatus | siteLanguage | siteSection | siteSubsection | userId |
      | FindASupplier | False       | de           | HomePage    | Empty string   | None   |

  @stage-only @bug @allure.issue:CMS-1634 @fixed @allure.link:TT-1500 @internationalisation
  Scenario Outline: GTM properties should be properly set on "Find a Supplier - Landing" page viewed in "Français" -- @1.2 Various pages 
    Given test authentication is done
    Given "Robert" visits the "Find a Supplier - Landing" page
    When "Robert" decides to view the page in "Français"
    Then Google Tag Manager properties should be set to proper values
      | businessUnit  | loginStatus | siteLanguage | siteSection | siteSubsection | userId |
      | FindASupplier | False       | fr           | HomePage    | Empty string   | None   |

  @stage-only @bug @allure.issue:CMS-1634 @fixed @allure.link:TT-1500 @internationalisation
  Scenario Outline: GTM properties should be properly set on "Find a Supplier - Landing" page viewed in "español" -- @1.3 Various pages 
    Given test authentication is done
    Given "Robert" visits the "Find a Supplier - Landing" page
    When "Robert" decides to view the page in "español"
    Then Google Tag Manager properties should be set to proper values
      | businessUnit  | loginStatus | siteLanguage | siteSection | siteSubsection | userId |
      | FindASupplier | False       | es           | HomePage    | Empty string   | None   |

  @stage-only @bug @allure.issue:CMS-1634 @fixed @allure.link:TT-1500 @internationalisation
  Scenario Outline: GTM properties should be properly set on "Find a Supplier - Landing" page viewed in "Português" -- @1.4 Various pages 
    Given test authentication is done
    Given "Robert" visits the "Find a Supplier - Landing" page
    When "Robert" decides to view the page in "Português"
    Then Google Tag Manager properties should be set to proper values
      | businessUnit  | loginStatus | siteLanguage | siteSection | siteSubsection | userId |
      | FindASupplier | False       | pt           | HomePage    | Empty string   | None   |

  @stage-only @bug @allure.issue:CMS-1634 @fixed @allure.link:TT-1500 @internationalisation
  Scenario Outline: GTM properties should be properly set on "Find a Supplier - Landing" page viewed in "简体中文" -- @1.5 Various pages 
    Given test authentication is done
    Given "Robert" visits the "Find a Supplier - Landing" page
    When "Robert" decides to view the page in "简体中文"
    Then Google Tag Manager properties should be set to proper values
      | businessUnit  | loginStatus | siteLanguage | siteSection | siteSubsection | userId |
      | FindASupplier | False       | zh-hans      | HomePage    | Empty string   | None   |

@international @invest @fas @header-footer-fas @investment_atlas @allure.suite:International
Feature: FAS - Common header & Footer

  Background:  

  Scenario Outline: Buyers should be able to see correct header & footer on "Find a Supplier - Landing" page -- @1.1  
    Given test authentication is done
    Given "Robert" visits the "Find a Supplier - Landing" page
    Then "Robert" should see following sections
      | Sections        |
      | Header          |
      | Filters         |
      | Error reporting |
      | Footer          |

  Scenario Outline: Buyers should be able to see correct header & footer on "Find a Supplier - Empty search results" page -- @1.1  
    Given test authentication is done
    Given "Robert" visits the "Find a Supplier - Empty search results" page
    Then "Robert" should see following sections
      | Sections        |
      | Header          |
      | Filters         |
      | Error reporting |
      | Footer          |

@international @invest @allure.link:ED-3580 @fas-landing_page @investment_atlas @fas-home-page @no-sso-email-verification-required @allure.suite:International
Feature: FAS - Landing page

  Background:  

  Scenario: Visitors should be able to go to "<expected_service>" page from the International page 
    Given test authentication is done
    Given "Robert" visits the "International - Landing" page
    When "Robert" decides to find out more about "Buy from the UK"
    Then "Robert" should be on the "International - How we help you buy from the UK" page
    And "Robert" should see following sections
      | Sections        |
      | Header          |
      | FAS Header      |
      | Teaser          |
      | eBook           |
      | Services        |
      | Contact us      |
      | Error reporting |
      | Footer          |

  Scenario Outline: Visitors looking for UK Suppliers should be able to "How we help" from the International page -- @1.1 FAS pages 
    Given test authentication is done
    Given "Robert" visits the "International - How we help you buy from the UK" page
    When "Robert" decides to find out more about "How we help"
    Then "Robert" should be on the "International - How we help you buy from the UK" page

  Scenario Outline: Visitors looking for UK Suppliers should be able to "Find a supplier" from the International page -- @1.2 FAS pages 
    Given test authentication is done
    Given "Robert" visits the "International - How we help you buy from the UK" page
    When "Robert" decides to find out more about "Find a supplier"
    Then "Robert" should be on the "Find a Supplier - landing" page

  Scenario Outline: Visitors looking for UK Suppliers should be able to "Contact us" from the International page -- @1.3 FAS pages 
    Given test authentication is done
    Given "Robert" visits the "International - How we help you buy from the UK" page
    When "Robert" decides to find out more about "Contact us"
    Then "Robert" should be on the "International - Find a UK business partner" page

  @allure.link:ED-4242
  Scenario: Buyers should be able to view "Find a Supplier home" page 
    Given test authentication is done
    Given "Robert" visits the "Find a Supplier - Landing" page
    Then "Robert" should see following sections
      | Sections          |
      | Header            |
      | Find UK Suppliers |
      | Contact us        |
      | How we can help   |
      | Footer            |

  @allure.link:ED-4245 @search
  Scenario Outline: Buyers should be able to "Find UK suppliers" in "any" industry from the "Find a Supplier home" page using "no" keyword -- @1.1  
    Given test authentication is done
    Given "Robert" visits the "Find a Supplier - Landing" page
    When "Robert" searches for companies using "no" keyword in "any" sector
    Then "Robert" should be on the "Find a Supplier - Empty search results" page

  @allure.link:ED-4249 @industries-page @invest_fix_4
  Scenario: Buyers should be able to see more services from the "Find a Supplier - Landing" page 
    Given test authentication is done
    Given "Robert" visits the "Find a Supplier - Landing" page
    When "Robert" decides to "see more services"
    Then "Robert" should be on the "International - How we help you buy" page

  @allure.issue:TT-1512 @fas_landing_4 @search @invest_fix_5
  Scenario: Buyers should be able to find UK suppliers using arbitrary search term 
    Given test authentication is done
    Given "Robert" visits the "Find a Supplier - Landing" page
    When "Robert" searches for companies using "food" keyword
    Then "Robert" should be on the "Find a Supplier - Search results" page
    And "Robert" should see following sections
      | Sections    |
      | Header      |
      | Search form |
      | Filters     |
      | Results     |
      | Footer      |

@international @investment_atlas @invest @fas_search @allure.link:ED-3183 @allure.link:ED-4259 @no-sso-email-verification-required @allure.suite:International
Feature: FAS - Search

  Background:  

  @allure.link:ED-4263 @search @invest_fix_1
  Scenario Outline: Buyers should be able to find UK suppliers from "Agriculture horticulture and fisheries Industry" -- @1.1 Industries 
    Given test authentication is done
    Given "Robert" visits the "Find a Supplier - Landing" page
    When "Robert" searches for companies using "plants" keyword in "Agriculture horticulture and fisheries" sector
    Then "Robert" should be on the "Find a Supplier - search results" page
    And "Robert" should see search results filtered by "Agriculture horticulture and fisheries" industry
    And "Robert" should see following sections
      | Sections                    |
      | Header                      |
      | Search form                 |
      | Filters                     |
      | Results                     |
      | Subscribe for email updates |
      | Footer                      |

  @allure.link:ED-4263 @search @invest_fix_1
  Scenario Outline: Buyers should be able to find UK suppliers from "Creative and media Industry" -- @1.2 Industries 
    Given test authentication is done
    Given "Robert" visits the "Find a Supplier - Landing" page
    When "Robert" searches for companies using "digital" keyword in "Creative and media" sector
    Then "Robert" should be on the "Find a Supplier - search results" page
    And "Robert" should see search results filtered by "Creative and media" industry
    And "Robert" should see following sections
      | Sections                    |
      | Header                      |
      | Search form                 |
      | Filters                     |
      | Results                     |
      | Subscribe for email updates |
      | Footer                      |

  @allure.link:ED-4263 @search @invest_fix_1
  Scenario Outline: Buyers should be able to find UK suppliers from "Healthcare and medical Industry" -- @1.3 Industries 
    Given test authentication is done
    Given "Robert" visits the "Find a Supplier - Landing" page
    When "Robert" searches for companies using "surgery" keyword in "Healthcare and medical" sector
    Then "Robert" should be on the "Find a Supplier - search results" page
    And "Robert" should see search results filtered by "Healthcare and medical" industry
    And "Robert" should see following sections
      | Sections                    |
      | Header                      |
      | Search form                 |
      | Filters                     |
      | Results                     |
      | Subscribe for email updates |
      | Footer                      |

  @allure.link:ED-4263 @search @invest_fix_1 @full
  Scenario Outline: Buyers should be able to find UK suppliers from "Security Industry" -- @2.1 Industries 
    Given test authentication is done
    Given "Robert" visits the "Find a Supplier - Landing" page
    When "Robert" searches for companies using "WiFi" keyword in "Security" sector
    Then "Robert" should be on the "Find a Supplier - search results" page
    And "Robert" should see search results filtered by "Security" industry
    And "Robert" should see following sections
      | Sections                    |
      | Header                      |
      | Search form                 |
      | Filters                     |
      | Results                     |
      | Subscribe for email updates |
      | Footer                      |

  @allure.link:ED-4263 @search @invest_fix_1 @full
  Scenario Outline: Buyers should be able to find UK suppliers from "Food and drink Industry" -- @2.2 Industries 
    Given test authentication is done
    Given "Robert" visits the "Find a Supplier - Landing" page
    When "Robert" searches for companies using "beer" keyword in "Food and drink" sector
    Then "Robert" should be on the "Find a Supplier - search results" page
    And "Robert" should see search results filtered by "Food and drink" industry
    And "Robert" should see following sections
      | Sections                    |
      | Header                      |
      | Search form                 |
      | Filters                     |
      | Results                     |
      | Subscribe for email updates |
      | Footer                      |

  @allure.link:ED-4263 @search @invest_fix_1 @full
  Scenario Outline: Buyers should be able to find UK suppliers from "Global sports infrastructure Industry" -- @2.3 Industries 
    Given test authentication is done
    Given "Robert" visits the "Find a Supplier - Landing" page
    When "Robert" searches for companies using "arenas" keyword in "Global sports infrastructure" sector
    Then "Robert" should be on the "Find a Supplier - search results" page
    And "Robert" should see search results filtered by "Global sports infrastructure" industry
    And "Robert" should see following sections
      | Sections                    |
      | Header                      |
      | Search form                 |
      | Filters                     |
      | Results                     |
      | Subscribe for email updates |
      | Footer                      |

  @allure.link:ED-4263 @search @invest_fix_1 @full
  Scenario Outline: Buyers should be able to find UK suppliers from "Clothing Footwear And Fashion Industry" -- @2.4 Industries 
    Given test authentication is done
    Given "Robert" visits the "Find a Supplier - Landing" page
    When "Robert" searches for companies using "salon" keyword in "Clothing Footwear And Fashion" sector
    Then "Robert" should be on the "Find a Supplier - search results" page
    And "Robert" should see search results filtered by "Clothing Footwear And Fashion" industry
    And "Robert" should see following sections
      | Sections                    |
      | Header                      |
      | Search form                 |
      | Filters                     |
      | Results                     |
      | Subscribe for email updates |
      | Footer                      |

  @allure.link:ED-4263 @search @invest_fix_2
  Scenario Outline: Buyers should be able to change their initial search criteria to find UK suppliers in "Food and drink Industry" -- @1.1 Industries 
    Given test authentication is done
    Given "Robert" searched for companies using "plants" keyword in "Agriculture horticulture and fisheries" sector
    Then "Robert" should be on the "Find a Supplier - search results" page
    And "Robert" should see search results filtered by "Agriculture horticulture and fisheries" industry
    When "Robert" removed previous "industries" selections
    And "Robert" fills out and submits "search form" with "captcha in dev mode" check turned "off"
      | field      | value          |
      | q          | food           |
      | industries | Food and drink |
    Then "Robert" should be on the "Find a Supplier - search results" page
    And "Robert" should see search results filtered by "Food and drink" industry

  @allure.link:ED-4263 @search @invest_fix_2
  Scenario Outline: Buyers should be able to change their initial search criteria to find UK suppliers in "Global sports infrastructure Industry" -- @1.2 Industries 
    Given test authentication is done
    Given "Robert" searched for companies using "digital" keyword in "Creative and media" sector
    Then "Robert" should be on the "Find a Supplier - search results" page
    And "Robert" should see search results filtered by "Creative and media" industry
    When "Robert" removed previous "industries" selections
    And "Robert" fills out and submits "search form" with "captcha in dev mode" check turned "off"
      | field      | value                        |
      | q          | arenas                       |
      | industries | Global sports infrastructure |
    Then "Robert" should be on the "Find a Supplier - search results" page
    And "Robert" should see search results filtered by "Global sports infrastructure" industry

  @allure.link:ED-4263 @search @invest_fix_2
  Scenario Outline: Buyers should be able to change their initial search criteria to find UK suppliers in "Clothing Footwear And Fashion Industry" -- @1.3 Industries 
    Given test authentication is done
    Given "Robert" searched for companies using "surgery" keyword in "Healthcare and medical" sector
    Then "Robert" should be on the "Find a Supplier - search results" page
    And "Robert" should see search results filtered by "Healthcare and medical" industry
    When "Robert" removed previous "industries" selections
    And "Robert" fills out and submits "search form" with "captcha in dev mode" check turned "off"
      | field      | value                         |
      | q          | salon                         |
      | industries | Clothing Footwear And Fashion |
    Then "Robert" should be on the "Find a Supplier - search results" page
    And "Robert" should see search results filtered by "Clothing Footwear And Fashion" industry

@international @invest @fas-subscribe @investment_atlas @no-sso-email-verification-required @allure.suite:International
Feature: FAS - Search

  Background:  

  @allure.link:TT-2194 @subscribe @dev-only @captcha
  Scenario: Buyers should be able to subscribe to receive email updates of the latest UK companies in randomly selected sector 
    Given test authentication is done
    Given "Robert" visited "Find a Supplier - Subscribe for email updates" page
    When "Robert" fills out and submits the form
    Then "Robert" should be on the "Find a Supplier - Thank you for registering" page
    And "Robert" should be signed up for email updates of the latest UK companies in selected industry

@international @header-footer @invest @allure.suite:International
Feature: INTL - Header-Footer

  Background:  

  @allure.link:CMS-158 @logo @header @footer
  Scenario Outline: Visitors should see "Great" logo in the page header and footer on "International - Landing" page -- @1.1  
    Given test authentication is done
    Given "Robert" visits the "International - Landing" page
    Then "Robert" should be on the "International - Landing" page
    And "Robert" should see correct "Great - header" logo
    And "Robert" should see correct "Great - footer" logo
    And "Robert" should see the correct favicon

  @allure.link:CMS-158 @logo @header @footer
  Scenario Outline: Visitors should see "Great" logo in the page header and footer on "International - Contact Us" page -- @1.2  
    Given test authentication is done
    Given "Robert" visits the "International - Contact Us" page
    Then "Robert" should be on the "International - Contact Us" page
    And "Robert" should see correct "EIG" logo
    And "Robert" should see correct "Great - footer" logo
    And "Robert" should see the correct favicon

@international @invest @investment_atlas @allure.link:ED-3190 @industries-page @no-sso-email-verification-required @allure.suite:International
Feature: INTL - Industries page

  Background:  

  @allure.link:ED-4253
  Scenario: Buyers should be able to view "International - Industries" page 
    Given test authentication is done
    Given "Annette Geissinger" visits the "International - Industries" page
    Then "Annette Geissinger" should see following sections
      | Sections   |
      | Header     |
      | Hero       |
      | Industries |
      | Contact us |
      | Footer     |

@international @invest @investment_atlas @allure.link:ED-3183 @allure.link:ED-4259 @industry-pages @no-sso-email-verification-required @allure.suite:International
Feature: INTL - Industry pages

  Background:  

  @allure.link:ED-4260 @full @dev-only
  Scenario Outline: Buyers should be able to see all expected page elements on "Carbon capture usage and storage" page -- @2.1 promoted industries 
    Given test authentication is done
    Given "Robert" visits the "International - Carbon capture usage and storage - industry" page
    Then "Robert" should see following sections
      | Sections                        |
      | Header                          |
      | Hero                            |
      | Opportunity highlights          |
      | Commercial maturity             |
      | Key uk assets                   |
      | R&d capability                  |
      | Business and government support |
      | Case studies                    |
      | Footer                          |

  @allure.link:ED-4260 @full @dev-only
  Scenario Outline: Buyers should be able to see all expected page elements on "Chemicals" page -- @2.2 promoted industries 
    Given test authentication is done
    Given "Robert" visits the "International - Chemicals - industry" page
    Then "Robert" should see following sections
      | Sections                        |
      | Header                          |
      | Hero                            |
      | Opportunity highlights          |
      | Commercial maturity             |
      | Key uk assets                   |
      | R&d capability                  |
      | Business and government support |
      | Case studies                    |
      | Footer                          |

  @allure.link:ED-4260 @full @dev-only
  Scenario Outline: Buyers should be able to see all expected page elements on "Clean Agritech" page -- @2.3 promoted industries 
    Given test authentication is done
    Given "Robert" visits the "International - Clean Agritech - industry" page
    Then "Robert" should see following sections
      | Sections                        |
      | Header                          |
      | Hero                            |
      | Opportunity highlights          |
      | Commercial maturity             |
      | Key uk assets                   |
      | R&d capability                  |
      | Business and government support |
      | Case studies                    |
      | Footer                          |

  @allure.link:ED-4260 @full @dev-only
  Scenario Outline: Buyers should be able to see all expected page elements on "Jet Zero and green ships" page -- @2.4 promoted industries 
    Given test authentication is done
    Given "Robert" visits the "International - Jet Zero and green ships - industry" page
    Then "Robert" should see following sections
      | Sections                        |
      | Header                          |
      | Hero                            |
      | Opportunity highlights          |
      | Commercial maturity             |
      | Key uk assets                   |
      | R&d capability                  |
      | Business and government support |
      | Case studies                    |
      | Footer                          |

  @allure.link:ED-4260 @full @dev-only
  Scenario Outline: Buyers should be able to see all expected page elements on "Zero emission vehicles" page -- @2.5 promoted industries 
    Given test authentication is done
    Given "Robert" visits the "International - Zero emission vehicles - industry" page
    Then "Robert" should see following sections
      | Sections                        |
      | Header                          |
      | Hero                            |
      | Opportunity highlights          |
      | Commercial maturity             |
      | Key uk assets                   |
      | R&d capability                  |
      | Business and government support |
      | Case studies                    |
      | Footer                          |

@international-landing-page @international @invest @allure.suite:International
Feature: INTL - Landing page

  Background:  

  @allure.link:ED-3114 @dev-only
  Scenario: Visitors should see "Buy from the UK, Invest in the UK, Study in the UK, Visit the UK" sections on the International page 
    Given test authentication is done
    Given "Robert" visits the "International - Landing" page
    Then "Robert" should see following sections
      | Sections              |
      | Header                |
      | Informative banner    |
      | Service cards         |
      | How DIT provides help |
      | Error reporting       |
      | Study or visit the UK |
      | Footer                |

  @allure.link:ED-3136 @dev-only @international_expected @external-service @Invest_-_landing
  Scenario Outline: Visitors should be able to go to "Invest - landing" page from the International page -- @1.1  
    Given test authentication is done
    Given "Robert" visits the "International - Landing" page
    When "Robert" decides to find out more about "Expand to the UK"
    Then "Robert" should be on the "Invest - landing" page

  @allure.link:ED-3136 @dev-only @international_expected @external-service @International_-_How_we_help_you_buy_from_the_UK
  Scenario Outline: Visitors should be able to go to "International - How we help you buy from the UK" page from the International page -- @1.2  
    Given test authentication is done
    Given "Robert" visits the "International - Landing" page
    When "Robert" decides to find out more about "Buy from the UK"
    Then "Robert" should be on the "International - How we help you buy from the UK" page

  @allure.link:ED-3136 @dev-only @international_expected @external-service @British_Council_-_Home
  Scenario Outline: Visitors should be able to go to "British Council - Home" page from the International page -- @1.3  
    Given test authentication is done
    Given "Robert" visits the "International - Landing" page
    When "Robert" decides to find out more about "Study in the UK"
    Then "Robert" should be on the "British Council - Home" page

  @allure.link:ED-3136 @dev-only @international_expected @external-service @Visit_Britain_-_Home
  Scenario Outline: Visitors should be able to go to "Visit Britain - Home" page from the International page -- @1.4  
    Given test authentication is done
    Given "Robert" visits the "International - Landing" page
    When "Robert" decides to find out more about "Visit the UK"
    Then "Robert" should be on the "Visit Britain - Home" page

@international @pixels_invest @allure.suite:International
Feature: INTL - Pixels

  Background:  

  @international
  Scenario Outline: Pixels should be present on "International - Landing" page -- @1.1 Various pages 
    Given test authentication is done
    Given "Robert" visits the "International - Landing" page
    Then "Robert" should be on the "International - Landing" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  @international
  Scenario Outline: Pixels should be present on "International - Industries" page -- @1.2 Various pages 
    Given test authentication is done
    Given "Robert" visits the "International - Industries" page
    Then "Robert" should be on the "International - Industries" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  @international
  Scenario Outline: Pixels should be present on "International - About the UK" page -- @1.3 Various pages 
    Given test authentication is done
    Given "Robert" visits the "International - About the UK" page
    Then "Robert" should be on the "International - About the UK" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  @international
  Scenario Outline: Pixels should be present on "International - About us" page -- @1.4 Various pages 
    Given test authentication is done
    Given "Robert" visits the "International - About us" page
    Then "Robert" should be on the "International - About us" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  @international
  Scenario Outline: Pixels should be present on "International - How we help you buy from the UK" page -- @1.5 Various pages 
    Given test authentication is done
    Given "Robert" visits the "International - How we help you buy from the UK" page
    Then "Robert" should be on the "International - How we help you buy from the UK" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  @international @dev-only
  Scenario Outline: Pixels should be present on "International - Aerospace - industry" page -- @2.1 Industry pages 
    Given test authentication is done
    Given "Robert" visits the "International - Aerospace - industry" page
    Then "Robert" should be on the "International - Aerospace - industry" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  @international @dev-only
  Scenario Outline: Pixels should be present on "International - Automotive - industry" page -- @2.2 Industry pages 
    Given test authentication is done
    Given "Robert" visits the "International - Automotive - industry" page
    Then "Robert" should be on the "International - Automotive - industry" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  @international @dev-only
  Scenario Outline: Pixels should be present on "International - Creative industries - industry" page -- @2.3 Industry pages 
    Given test authentication is done
    Given "Robert" visits the "International - Creative industries - industry" page
    Then "Robert" should be on the "International - Creative industries - industry" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  @international @dev-only
  Scenario Outline: Pixels should be present on "International - Education - industry" page -- @2.4 Industry pages 
    Given test authentication is done
    Given "Robert" visits the "International - Education - industry" page
    Then "Robert" should be on the "International - Education - industry" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  @international @dev-only
  Scenario Outline: Pixels should be present on "International - Engineering and manufacturing - industry" page -- @2.5 Industry pages 
    Given test authentication is done
    Given "Robert" visits the "International - Engineering and manufacturing - industry" page
    Then "Robert" should be on the "International - Engineering and manufacturing - industry" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  @international @dev-only
  Scenario Outline: Pixels should be present on "International - Financial services - industry" page -- @2.6 Industry pages 
    Given test authentication is done
    Given "Robert" visits the "International - Financial services - industry" page
    Then "Robert" should be on the "International - Financial services - industry" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  @international @dev-only
  Scenario Outline: Pixels should be present on "International - Healthcare and life sciences - industry" page -- @2.7 Industry pages 
    Given test authentication is done
    Given "Robert" visits the "International - Healthcare and life sciences - industry" page
    Then "Robert" should be on the "International - Healthcare and life sciences - industry" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  @international @dev-only
  Scenario Outline: Pixels should be present on "International - Legal services - industry" page -- @2.8 Industry pages 
    Given test authentication is done
    Given "Robert" visits the "International - Legal services - industry" page
    Then "Robert" should be on the "International - Legal services - industry" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  @international @dev-only
  Scenario Outline: Pixels should be present on "International - Space - industry" page -- @2.9 Industry pages 
    Given test authentication is done
    Given "Robert" visits the "International - Space - industry" page
    Then "Robert" should be on the "International - Space - industry" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  @international @dev-only
  Scenario Outline: Pixels should be present on "International - Technology - industry" page -- @2.10 Industry pages 
    Given test authentication is done
    Given "Robert" visits the "International - Technology - industry" page
    Then "Robert" should be on the "International - Technology - industry" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  @international @stage-only
  Scenario Outline: Pixels should be present on "International - Creative industries - industry" page -- @3.1 Industry pages 
    Given test authentication is done
    Given "Robert" visits the "International - Creative industries - industry" page
    Then "Robert" should be on the "International - Creative industries - industry" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  @international @stage-only
  Scenario Outline: Pixels should be present on "International - Energy - industry" page -- @3.2 Industry pages 
    Given test authentication is done
    Given "Robert" visits the "International - Energy - industry" page
    Then "Robert" should be on the "International - Energy - industry" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  @international @stage-only
  Scenario Outline: Pixels should be present on "International - Engineering and manufacturing - industry" page -- @3.3 Industry pages 
    Given test authentication is done
    Given "Robert" visits the "International - Engineering and manufacturing - industry" page
    Then "Robert" should be on the "International - Engineering and manufacturing - industry" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  @international @stage-only
  Scenario Outline: Pixels should be present on "International - Healthcare and life sciences - industry" page -- @3.4 Industry pages 
    Given test authentication is done
    Given "Robert" visits the "International - Healthcare and life sciences - industry" page
    Then "Robert" should be on the "International - Healthcare and life sciences - industry" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  @international @stage-only
  Scenario Outline: Pixels should be present on "International - Legal services - industry" page -- @3.5 Industry pages 
    Given test authentication is done
    Given "Robert" visits the "International - Legal services - industry" page
    Then "Robert" should be on the "International - Legal services - industry" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  @international @stage-only
  Scenario Outline: Pixels should be present on "International - Real estate - industry" page -- @3.6 Industry pages 
    Given test authentication is done
    Given "Robert" visits the "International - Real estate - industry" page
    Then "Robert" should be on the "International - Real estate - industry" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  @international @stage-only
  Scenario Outline: Pixels should be present on "International - Technology - industry" page -- @3.7 Industry pages 
    Given test authentication is done
    Given "Robert" visits the "International - Technology - industry" page
    Then "Robert" should be on the "International - Technology - industry" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

@international @invest @regional-pages @investment_atlas @allure.suite:International
Feature: International - Regional pages

  Background:  

  @regional-pages_1 @allure.link:CMS-215
  Scenario: Visitors should be able to see all expected sections on "International - Regions" page 
    Given test authentication is done
    Given "Robert" visits the "International - Regions" page
    Then "Robert" should see following sections
      | Sections     |
      | Header       |
      | Hero         |
      | Regions list |
      | The UK map   |
      | Contact us   |
      | Footer       |

  @regional-pages_2 @allure.link:CMS-215 @link @anchor
  Scenario Outline: Visitors should be able to find out more about "Scotland" using regular page links -- @1.1 Regions 
    Given test authentication is done
    Given "Robert" visits the "International - Regions" page
    When "Robert" decides to find out more about "Scotland"
    Then "Robert" should be on the "International - Scotland - region" page
    And "Robert" should see following sections
      | Sections                |
      | Header                  |
      | Hero                    |
      | Expanding your business |
      | Related opportunities   |
      | Strategic markets       |
      | Case study              |
      | Footer                  |
    And "Robert" should see content specific to "International - Scotland - region" page

  @regional-pages_2 @allure.link:CMS-215 @link @anchor
  Scenario Outline: Visitors should be able to find out more about "Northern Ireland" using regular page links -- @1.2 Regions 
    Given test authentication is done
    Given "Robert" visits the "International - Regions" page
    When "Robert" decides to find out more about "Northern Ireland"
    Then "Robert" should be on the "International - Northern Ireland - region" page
    And "Robert" should see following sections
      | Sections                |
      | Header                  |
      | Hero                    |
      | Expanding your business |
      | Related opportunities   |
      | Strategic markets       |
      | Case study              |
      | Footer                  |
    And "Robert" should see content specific to "International - Northern Ireland - region" page

  @regional-pages_2 @allure.link:CMS-215 @link @anchor
  Scenario Outline: Visitors should be able to find out more about "North of England" using regular page links -- @1.3 Regions 
    Given test authentication is done
    Given "Robert" visits the "International - Regions" page
    When "Robert" decides to find out more about "North of England"
    Then "Robert" should be on the "International - North of England - region" page
    And "Robert" should see following sections
      | Sections                |
      | Header                  |
      | Hero                    |
      | Expanding your business |
      | Related opportunities   |
      | Strategic markets       |
      | Case study              |
      | Footer                  |
    And "Robert" should see content specific to "International - North of England - region" page

  @regional-pages_2 @allure.link:CMS-215 @link @anchor
  Scenario Outline: Visitors should be able to find out more about "Wales" using regular page links -- @1.4 Regions 
    Given test authentication is done
    Given "Robert" visits the "International - Regions" page
    When "Robert" decides to find out more about "Wales"
    Then "Robert" should be on the "International - Wales - region" page
    And "Robert" should see following sections
      | Sections                |
      | Header                  |
      | Hero                    |
      | Expanding your business |
      | Related opportunities   |
      | Strategic markets       |
      | Case study              |
      | Footer                  |
    And "Robert" should see content specific to "International - Wales - region" page

  @regional-pages_2 @allure.link:CMS-215 @link @anchor
  Scenario Outline: Visitors should be able to find out more about "Midlands" using regular page links -- @1.5 Regions 
    Given test authentication is done
    Given "Robert" visits the "International - Regions" page
    When "Robert" decides to find out more about "Midlands"
    Then "Robert" should be on the "International - Midlands - region" page
    And "Robert" should see following sections
      | Sections                |
      | Header                  |
      | Hero                    |
      | Expanding your business |
      | Related opportunities   |
      | Strategic markets       |
      | Case study              |
      | Footer                  |
    And "Robert" should see content specific to "International - Midlands - region" page

  @regional-pages_2 @allure.link:CMS-215 @link @anchor
  Scenario Outline: Visitors should be able to find out more about "South of England" using regular page links -- @1.6 Regions 
    Given test authentication is done
    Given "Robert" visits the "International - Regions" page
    When "Robert" decides to find out more about "South of England"
    Then "Robert" should be on the "International - South of England - region" page
    And "Robert" should see following sections
      | Sections                |
      | Header                  |
      | Hero                    |
      | Expanding your business |
      | Related opportunities   |
      | Strategic markets       |
      | Case study              |
      | Footer                  |
    And "Robert" should see content specific to "International - South of England - region" page

  @regional-pages_3 @allure.link:CMS-215 @link @map @regional_map @skip-in-firefox
  Scenario Outline: Visitors should be able to find out more about "Scotland" using links on UK map -- @1.1 Regions 
    Given test authentication is done
    Given "Robert" visits the "International - Regions" page
    When "Robert" decides to use "Scotland - svg" link
    Then "Robert" should be on the "International - Scotland - region" page
    And "Robert" should see following sections
      | Sections                |
      | Header                  |
      | Hero                    |
      | Expanding your business |
      | Related opportunities   |
      | Strategic markets       |
      | Case study              |
      | Footer                  |
    And "Robert" should see content specific to "International - Scotland - region" page

  @regional-pages_3 @allure.link:CMS-215 @link @map @regional_map @skip-in-firefox
  Scenario Outline: Visitors should be able to find out more about "Northern Ireland" using links on UK map -- @1.2 Regions 
    Given test authentication is done
    Given "Robert" visits the "International - Regions" page
    When "Robert" decides to use "Northern Ireland - svg" link
    Then "Robert" should be on the "International - Northern Ireland - region" page
    And "Robert" should see following sections
      | Sections                |
      | Header                  |
      | Hero                    |
      | Expanding your business |
      | Related opportunities   |
      | Strategic markets       |
      | Case study              |
      | Footer                  |
    And "Robert" should see content specific to "International - Northern Ireland - region" page

  @regional-pages_3 @allure.link:CMS-215 @link @map @regional_map @skip-in-firefox
  Scenario Outline: Visitors should be able to find out more about "North of England" using links on UK map -- @1.3 Regions 
    Given test authentication is done
    Given "Robert" visits the "International - Regions" page
    When "Robert" decides to use "North of England - svg" link
    Then "Robert" should be on the "International - North of England - region" page
    And "Robert" should see following sections
      | Sections                |
      | Header                  |
      | Hero                    |
      | Expanding your business |
      | Related opportunities   |
      | Strategic markets       |
      | Case study              |
      | Footer                  |
    And "Robert" should see content specific to "International - North of England - region" page

  @regional-pages_3 @allure.link:CMS-215 @link @map @regional_map @skip-in-firefox
  Scenario Outline: Visitors should be able to find out more about "Wales" using links on UK map -- @1.4 Regions 
    Given test authentication is done
    Given "Robert" visits the "International - Regions" page
    When "Robert" decides to use "Wales - svg" link
    Then "Robert" should be on the "International - Wales - region" page
    And "Robert" should see following sections
      | Sections                |
      | Header                  |
      | Hero                    |
      | Expanding your business |
      | Related opportunities   |
      | Strategic markets       |
      | Case study              |
      | Footer                  |
    And "Robert" should see content specific to "International - Wales - region" page

  @regional-pages_3 @allure.link:CMS-215 @link @map @regional_map @skip-in-firefox
  Scenario Outline: Visitors should be able to find out more about "Midlands" using links on UK map -- @1.5 Regions 
    Given test authentication is done
    Given "Robert" visits the "International - Regions" page
    When "Robert" decides to use "Midlands - svg" link
    Then "Robert" should be on the "International - Midlands - region" page
    And "Robert" should see following sections
      | Sections                |
      | Header                  |
      | Hero                    |
      | Expanding your business |
      | Related opportunities   |
      | Strategic markets       |
      | Case study              |
      | Footer                  |
    And "Robert" should see content specific to "International - Midlands - region" page

  @regional-pages_3 @allure.link:CMS-215 @link @map @regional_map @skip-in-firefox
  Scenario Outline: Visitors should be able to find out more about "South of England" using links on UK map -- @1.6 Regions 
    Given test authentication is done
    Given "Robert" visits the "International - Regions" page
    When "Robert" decides to use "South of England - svg" link
    Then "Robert" should be on the "International - South of England - region" page
    And "Robert" should see following sections
      | Sections                |
      | Header                  |
      | Hero                    |
      | Expanding your business |
      | Related opportunities   |
      | Strategic markets       |
      | Case study              |
      | Footer                  |
    And "Robert" should see content specific to "International - South of England - region" page

@international @invest @international-page @contact-us @transition-period @allure.suite:International
Feature: INTL - Transition period - Contact us

  Background:  

  @allure.link:TT-617 @brexit @dev-only
  Scenario: International Visitors should see all expected page sections on "International Brexit help - Contact Us form" page 
    Given test authentication is done
    Given "Robert" visits the "International - Transition period enquiries - Contact Us" page
    Then "Robert" should see following sections
      | sections        |
      | header          |
      | heading         |
      | form            |
      | error reporting |
    And "Robert" should not see following section
      | section           |
      | language selector |
      | not translated    |

@investment_atlas @contact-us_invest @invest @allure.suite:Invest
Feature: Invest - Contact us and Leave feedback

  Background:  

  @allure.link:CMS-237 @contact-us @dev-only @captcha @header @footer
  Scenario: An email should be sent after visitor submits the contact-us form 
    Given test authentication is done
    Given "Robert" visits the "Invest - contact us" page
    When "Robert" fills out and submits the form
    Then "Robert" should be on the "Invest - Thank you for your message" page
    And an "email" notification entitled "Contact form user email subject" should be sent to "Robert"
    And an email notification about "Robert"'s enquiry should be send to "Invest mailbox"

  @allure.link:TT-758 @international @contact-us_24
  Scenario: International Enquirers should be able to see all expected contact options on the "International - What would you like to know more about?" page 
    Given test authentication is done
    Given "Robert" visits the "Domestic - Contact us" page
    When "Robert" says that his business is "Outside the UK"
    Then "Robert" should be on the "Domestic - What would you like to know more about? - International Contact us" page
    And "Robert" should see following form choices
      | radio elements              |
      | Expanding to the UK         |
      | Investing capital in the UK |
      | Find a UK business partner  |
      | The transition period       |
      | Other                       |

  @allure.link:TT-758 @international @contact-us_25 @failed
  Scenario Outline: International Enquirers should be able to get to the "Invest - Contact us" form for "Expanding to the UK" -- @1.1  
    Given test authentication is done
    Given "Robert" got to the "Domestic - What would you like to know more about? - International Contact us" page via "Outside the UK"
    When "Robert" chooses "Expanding to the UK" option
    Then "Robert" should be on the "Invest - Contact us" page

  @allure.link:TT-758 @international_invest_contactus @contact-us_24
  Scenario: International Enquirers should be able to see all expected contact options on the "International - What would you like to know more about?" page 
    Given test authentication is done
    Given "Robert" visits the "Domestic - Contact us" page
    When "Robert" says that his business is "Outside the UK"
    Then "Robert" should be on the "Domestic - What would you like to know more about? - International Contact us" page
    And "Robert" should see following form choices
      | radio elements              |
      | Expanding to the UK         |
      | Investing capital in the UK |
      | Find a UK business partner  |
      | The transition period       |
      | Other                       |

@invest @invest_gtm @pixels @allure.suite:Invest
Feature: Invest - Google Tag Manager

  Background:  

  @allure.link:TT-1500 @bug @allure.issue:CMS-1634 @fixed
  Scenario Outline: GTM properties should be properly set on "Invest - Landing" page -- @1.1 Listing pages 
    Given test authentication is done
    When "Robert" goes to the "Invest - Landing" page
    Then Google Tag Manager properties should be set to proper values
      | businessUnit | loginStatus | siteLanguage | siteSection | siteSubsection | userId |
      | Invest       | False       | en-gb        | HomePage    | Empty string   | None   |

  @allure.link:TT-1500 @bug @allure.issue:CMS-1634 @fixed
  Scenario Outline: GTM properties should be properly set on "Invest - Contact us" page -- @1.2 Listing pages 
    Given test authentication is done
    When "Robert" goes to the "Invest - Contact us" page
    Then Google Tag Manager properties should be set to proper values
      | businessUnit | loginStatus | siteLanguage | siteSection | siteSubsection | userId |
      | Invest       | False       | en-gb        | Contact     | Empty string   | None   |

  @allure.link:TT-1500 @bug @allure.issue:CMS-1634 @fixed
  Scenario Outline: GTM properties should be properly set on "Invest - How to set up in the UK" page -- @1.3 Listing pages 
    Given test authentication is done
    When "Robert" goes to the "Invest - How to set up in the UK" page
    Then Google Tag Manager properties should be set to proper values
      | businessUnit | loginStatus | siteLanguage | siteSection | siteSubsection | userId |
      | Invest       | False       | en-gb        | Guide       | ListingPage    | None   |

  @allure.link:TT-1500 @dev-only
  Scenario Outline: GTM properties should be properly set on "Invest - Lightweight - HPO" page -- @2.1 High-potential opportunities in Dev 
    Given test authentication is done
    When "Robert" goes to the "Invest - Lightweight - HPO" page
    Then Google Tag Manager properties should be set to proper values
      | businessUnit | loginStatus | siteLanguage | siteSection                | siteSubsection | userId |
      | Invest       | False       | en-gb        | HighPotentialOpportunities | DetailPage     | None   |

  @allure.link:TT-1500 @dev-only
  Scenario Outline: GTM properties should be properly set on "Invest - Rail - HPO" page -- @2.2 High-potential opportunities in Dev 
    Given test authentication is done
    When "Robert" goes to the "Invest - Rail - HPO" page
    Then Google Tag Manager properties should be set to proper values
      | businessUnit | loginStatus | siteLanguage | siteSection                | siteSubsection | userId |
      | Invest       | False       | en-gb        | HighPotentialOpportunities | DetailPage     | None   |

  @allure.link:TT-1500 @stage-only
  Scenario Outline: GTM properties should be properly set on "Invest - Lightweight  - HPO" page -- @3.1 High-potential opportunities in Staging 
    Given test authentication is done
    When "Robert" goes to the "Invest - Lightweight  - HPO" page
    Then Google Tag Manager properties should be set to proper values
      | businessUnit | loginStatus | siteLanguage | siteSection                | siteSubsection | userId |
      | Invest       | False       | en-gb        | HighPotentialOpportunities | DetailPage     | None   |

  @allure.link:TT-1500 @stage-only
  Scenario Outline: GTM properties should be properly set on "Invest - Rail - HPO" page -- @3.2 High-potential opportunities in Staging 
    Given test authentication is done
    When "Robert" goes to the "Invest - Rail - HPO" page
    Then Google Tag Manager properties should be set to proper values
      | businessUnit | loginStatus | siteLanguage | siteSection                | siteSubsection | userId |
      | Invest       | False       | en-gb        | HighPotentialOpportunities | DetailPage     | None   |

@invest @header-footer-invest @allure.suite:Invest
Feature: Invest - Header-Footer

  Background:  

  @invest_2 @allure.link:CMS-158 @logo @header @footer
  Scenario Outline: Visitors should see correct logos in the page header and footer on "Landing" page -- @1.1  
    Given test authentication is done
    Given "Robert" visits the "Invest - Landing" page
    Then "Robert" should be on the "Invest - Landing" page
    And "Robert" should see correct "Invest in Great - header" logo
    And "Robert" should see correct "Great - footer" logo
    And "Robert" should see the correct favicon

  @invest_2 @allure.link:CMS-158 @logo @header @footer
  Scenario Outline: Visitors should see correct logos in the page header and footer on "Contact Us" page -- @1.2  
    Given test authentication is done
    Given "Robert" visits the "Invest - Contact Us" page
    Then "Robert" should be on the "Invest - Contact Us" page
    And "Robert" should see correct "Invest in Great - header" logo
    And "Robert" should see correct "Great - footer" logo
    And "Robert" should see the correct favicon

  @invest_2 @allure.link:CMS-158 @logo @header @footer
  Scenario Outline: Visitors should see correct logos in the page header and footer on "How we can help" page -- @1.3  
    Given test authentication is done
    Given "Robert" visits the "Invest - How we can help" page
    Then "Robert" should be on the "Invest - How we can help" page
    And "Robert" should see correct "Invest in Great - header" logo
    And "Robert" should see correct "Great - footer" logo
    And "Robert" should see the correct favicon

  @invest_2 @allure.link:CMS-158 @logo @header @footer
  Scenario Outline: Visitors should see correct logos in the page header and footer on "Access finance in the UK - guide" page -- @1.4  
    Given test authentication is done
    Given "Robert" visits the "Invest - Access finance in the UK - guide" page
    Then "Robert" should be on the "Invest - Access finance in the UK - guide" page
    And "Robert" should see correct "Invest in Great - header" logo
    And "Robert" should see correct "Great - footer" logo
    And "Robert" should see the correct favicon

  @invest_2 @allure.link:CMS-158 @logo @header @footer @full @dev-only
  Scenario Outline: Visitors should see correct logos in the page header and footer on "Establish a UK business base - guide" page -- @2.1 UK setup guides 
    Given test authentication is done
    Given "Robert" visits the "Invest - Establish a UK business base - guide" page
    Then "Robert" should be on the "Invest - Establish a UK business base - guide" page
    And "Robert" should see correct "Invest in Great - header" logo
    And "Robert" should see correct "Great - footer" logo
    And "Robert" should see the correct favicon

  @invest_3 @stage-only @allure.link:CMS-158 @logo @header @footer
  Scenario Outline: Visitors should see correct logos in the page header and footer on "Lightweight" page -- @1.1  
    Given test authentication is done
    Given "Robert" visits the "Invest - Lightweight - HPO" page
    Then "Robert" should be on the "Invest - Lightweight - HPO" page
    And "Robert" should see correct "Great - header" logo
    And "Robert" should see correct "Great - footer" logo
    And "Robert" should see the correct favicon

  @invest_3 @stage-only @allure.link:CMS-158 @logo @header @footer
  Scenario Outline: Visitors should see correct logos in the page header and footer on "Rail" page -- @1.2  
    Given test authentication is done
    Given "Robert" visits the "Invest - Rail - HPO" page
    Then "Robert" should be on the "Invest - Rail - HPO" page
    And "Robert" should see correct "Great - header" logo
    And "Robert" should see correct "Great - footer" logo
    And "Robert" should see the correct favicon

  @invest_4 @allure.link:CMS-158 @header @footer @landing-page
  Scenario Outline: Visitors should be able to find out more about "Overview" and get to "Invest - landing" page -- @1.1  
    Given test authentication is done
    Given "Robert" visits the "Invest - landing" page
    When "Robert" decides to find out more about "Overview"
    Then "Robert" should be on the "Invest - landing" page

  @invest_4 @allure.link:CMS-158 @header @footer @landing-page
  Scenario Outline: Visitors should be able to find out more about "How to expand to the UK" and get to "Invest - How to set up in the UK" page -- @1.2  
    Given test authentication is done
    Given "Robert" visits the "Invest - landing" page
    When "Robert" decides to find out more about "How to expand to the UK"
    Then "Robert" should be on the "Invest - How to set up in the UK" page

  @invest_4 @allure.link:CMS-158 @header @footer @landing-page
  Scenario Outline: Visitors should be able to find out more about "Find a UK specialist" and get to "ISD - Landing" page -- @1.3  
    Given test authentication is done
    Given "Robert" visits the "Invest - landing" page
    When "Robert" decides to find out more about "Find a UK specialist"
    Then "Robert" should be on the "ISD - Landing" page

  @invest_4 @allure.link:CMS-158 @header @footer @landing-page
  Scenario Outline: Visitors should be able to find out more about "How we help" and get to "Invest - How we help you expand" page -- @1.4  
    Given test authentication is done
    Given "Robert" visits the "Invest - landing" page
    When "Robert" decides to find out more about "How we help"
    Then "Robert" should be on the "Invest - How we help you expand" page

  @invest_4 @allure.link:CMS-158 @header @footer @landing-page
  Scenario Outline: Visitors should be able to find out more about "Contact us" and get to "Invest - Contact us" page -- @1.5  
    Given test authentication is done
    Given "Robert" visits the "Invest - landing" page
    When "Robert" decides to find out more about "Contact us"
    Then "Robert" should be on the "Invest - Contact us" page

  @invest_5 @allure.link:CMS-158 @logo @header @footer
  Scenario Outline: Visitors should be able to get to the Invest landing page from "Landing" page by using UK Government logo in the page header -- @1.1  
    Given test authentication is done
    Given "Robert" visits the "Invest - Landing" page
    When "Robert" decides to click on "Invest in Great logo"
    Then "Robert" should be on the "International - Landing" page

  @invest_5 @allure.link:CMS-158 @logo @header @footer
  Scenario Outline: Visitors should be able to get to the Invest landing page from "How to set up in the UK" page by using UK Government logo in the page header -- @1.2  
    Given test authentication is done
    Given "Robert" visits the "Invest - How to set up in the UK" page
    When "Robert" decides to click on "Invest in Great logo"
    Then "Robert" should be on the "International - Landing" page

  @invest_5 @allure.link:CMS-158 @logo @header @footer
  Scenario Outline: Visitors should be able to get to the Invest landing page from "Contact Us" page by using UK Government logo in the page header -- @1.3  
    Given test authentication is done
    Given "Robert" visits the "Invest - Contact Us" page
    When "Robert" decides to click on "Invest in Great logo"
    Then "Robert" should be on the "International - Landing" page

  @invest_5 @allure.link:CMS-158 @logo @header @footer @dev-only
  Scenario Outline: Visitors should be able to get to the Invest landing page from "Access finance in the UK - guide" page by using UK Government logo in the page header -- @2.1 UK setup guides 
    Given test authentication is done
    Given "Robert" visits the "Invest - Access finance in the UK - guide" page
    When "Robert" decides to click on "Invest in Great logo"
    Then "Robert" should be on the "International - Landing" page

  @invest_5 @allure.link:CMS-158 @logo @header @footer @dev-only
  Scenario Outline: Visitors should be able to get to the Invest landing page from "Establish a UK business base - guide" page by using UK Government logo in the page header -- @2.2 UK setup guides 
    Given test authentication is done
    Given "Robert" visits the "Invest - Establish a UK business base - guide" page
    When "Robert" decides to click on "Invest in Great logo"
    Then "Robert" should be on the "International - Landing" page

  @invest_5 @allure.link:CMS-158 @logo @header @footer @dev-only
  Scenario Outline: Visitors should be able to get to the Invest landing page from "Register a company in the UK - guide" page by using UK Government logo in the page header -- @2.3 UK setup guides 
    Given test authentication is done
    Given "Robert" visits the "Invest - Register a company in the UK - guide" page
    When "Robert" decides to click on "Invest in Great logo"
    Then "Robert" should be on the "International - Landing" page

  @invest_5 @allure.link:CMS-158 @logo @header @footer @dev-only
  Scenario Outline: Visitors should be able to get to the Invest landing page from "UK infrastructure - guide" page by using UK Government logo in the page header -- @2.4 UK setup guides 
    Given test authentication is done
    Given "Robert" visits the "Invest - UK infrastructure - guide" page
    When "Robert" decides to click on "Invest in Great logo"
    Then "Robert" should be on the "International - Landing" page

  @invest_5 @allure.link:CMS-158 @logo @header @footer @dev-only
  Scenario Outline: Visitors should be able to get to the Invest landing page from "UK innovation - guide" page by using UK Government logo in the page header -- @2.5 UK setup guides 
    Given test authentication is done
    Given "Robert" visits the "Invest - UK innovation - guide" page
    When "Robert" decides to click on "Invest in Great logo"
    Then "Robert" should be on the "International - Landing" page

  @invest_5 @allure.link:CMS-158 @logo @header @footer @dev-only
  Scenario Outline: Visitors should be able to get to the Invest landing page from "UK talent and labour - guide" page by using UK Government logo in the page header -- @2.6 UK setup guides 
    Given test authentication is done
    Given "Robert" visits the "Invest - UK talent and labour - guide" page
    When "Robert" decides to click on "Invest in Great logo"
    Then "Robert" should be on the "International - Landing" page

  @invest_5 @allure.link:CMS-158 @logo @header @footer @stage-only
  Scenario Outline: Visitors should be able to get to the Invest landing page from "Access finance in the UK (Staging) - guide" page by using UK Government logo in the page header -- @3.1 Legacy UK setup guides 
    Given test authentication is done
    Given "Robert" visits the "Invest - Access finance in the UK (Staging) - guide" page
    When "Robert" decides to click on "Invest in Great logo"
    Then "Robert" should be on the "International - Landing" page

  @invest_5 @allure.link:CMS-158 @logo @header @footer @stage-only
  Scenario Outline: Visitors should be able to get to the Invest landing page from "Open a UK business bank account (Staging) - guide" page by using UK Government logo in the page header -- @3.2 Legacy UK setup guides 
    Given test authentication is done
    Given "Robert" visits the "Invest - Open a UK business bank account (Staging) - guide" page
    When "Robert" decides to click on "Invest in Great logo"
    Then "Robert" should be on the "International - Landing" page

  @invest_5 @allure.link:CMS-158 @logo @header @footer @stage-only
  Scenario Outline: Visitors should be able to get to the Invest landing page from "UK tax and incentives (Staging) - guide" page by using UK Government logo in the page header -- @3.3 Legacy UK setup guides 
    Given test authentication is done
    Given "Robert" visits the "Invest - UK tax and incentives (Staging) - guide" page
    When "Robert" decides to click on "Invest in Great logo"
    Then "Robert" should be on the "International - Landing" page

  @invest_5 @allure.link:CMS-158 @logo @header @footer @uat-only
  Scenario Outline: Visitors should be able to get to the Invest landing page from "Access finance in the UK - guide" page by using UK Government logo in the page header -- @4.1 UK setup guides 
    Given test authentication is done
    Given "Robert" visits the "Invest - Access finance in the UK - guide" page
    When "Robert" decides to click on "Invest in Great logo"
    Then "Robert" should be on the "International - Landing" page

  @invest_5 @allure.link:CMS-158 @logo @header @footer @uat-only
  Scenario Outline: Visitors should be able to get to the Invest landing page from "Brexit webinars for EU businesses - guide" page by using UK Government logo in the page header -- @4.2 UK setup guides 
    Given test authentication is done
    Given "Robert" visits the "Invest - Brexit webinars for EU businesses - guide" page
    When "Robert" decides to click on "Invest in Great logo"
    Then "Robert" should be on the "International - Landing" page

  @invest_5 @allure.link:CMS-158 @logo @header @footer @uat-only
  Scenario Outline: Visitors should be able to get to the Invest landing page from "Establish a UK business base - guide" page by using UK Government logo in the page header -- @4.3 UK setup guides 
    Given test authentication is done
    Given "Robert" visits the "Invest - Establish a UK business base - guide" page
    When "Robert" decides to click on "Invest in Great logo"
    Then "Robert" should be on the "International - Landing" page

  @invest_5 @allure.link:CMS-158 @logo @header @footer @uat-only
  Scenario Outline: Visitors should be able to get to the Invest landing page from "Get support to move your tech business to the UK - guide" page by using UK Government logo in the page header -- @4.4 UK setup guides 
    Given test authentication is done
    Given "Robert" visits the "Invest - Get support to move your tech business to the UK - guide" page
    When "Robert" decides to click on "Invest in Great logo"
    Then "Robert" should be on the "International - Landing" page

  @invest_5 @allure.link:CMS-158 @logo @header @footer @uat-only
  Scenario Outline: Visitors should be able to get to the Invest landing page from "Hire skilled workers for your UK operations - guide" page by using UK Government logo in the page header -- @4.5 UK setup guides 
    Given test authentication is done
    Given "Robert" visits the "Invest - Hire skilled workers for your UK operations - guide" page
    When "Robert" decides to click on "Invest in Great logo"
    Then "Robert" should be on the "International - Landing" page

  @invest_5 @allure.link:CMS-158 @logo @header @footer @uat-only
  Scenario Outline: Visitors should be able to get to the Invest landing page from "Open a UK business bank account - guide" page by using UK Government logo in the page header -- @4.6 UK setup guides 
    Given test authentication is done
    Given "Robert" visits the "Invest - Open a UK business bank account - guide" page
    When "Robert" decides to click on "Invest in Great logo"
    Then "Robert" should be on the "International - Landing" page

  @invest_5 @allure.link:CMS-158 @logo @header @footer @uat-only
  Scenario Outline: Visitors should be able to get to the Invest landing page from "Register a company in the UK - guide" page by using UK Government logo in the page header -- @4.7 UK setup guides 
    Given test authentication is done
    Given "Robert" visits the "Invest - Register a company in the UK - guide" page
    When "Robert" decides to click on "Invest in Great logo"
    Then "Robert" should be on the "International - Landing" page

  @invest_5 @allure.link:CMS-158 @logo @header @footer @uat-only
  Scenario Outline: Visitors should be able to get to the Invest landing page from "UK tax and incentives - guide" page by using UK Government logo in the page header -- @4.8 UK setup guides 
    Given test authentication is done
    Given "Robert" visits the "Invest - UK tax and incentives - guide" page
    When "Robert" decides to click on "Invest in Great logo"
    Then "Robert" should be on the "International - Landing" page

  @invest_5 @allure.link:CMS-158 @logo @header @footer @uat-only
  Scenario Outline: Visitors should be able to get to the Invest landing page from "UK visas and migration - guide" page by using UK Government logo in the page header -- @4.9 UK setup guides 
    Given test authentication is done
    Given "Robert" visits the "Invest - UK visas and migration - guide" page
    When "Robert" decides to click on "Invest in Great logo"
    Then "Robert" should be on the "International - Landing" page

@invest @hpo @stage-only @allure.suite:Invest
Feature: Invest - High Potential Opportunities

  Background:  

  @hpo_1 @allure.link:TT-442
  Scenario Outline: Investors should be able to view "HPO - Chemicals in the humber" page -- @1.1 HPO pages 
    Given test authentication is done
    Given "Annette Geissinger" visits the "Invest - Chemicals in the humber - HPO" page
    Then "Annette Geissinger" should see following sections
      | Sections            |
      | Header              |
      | Hero                |
      | Contact us          |
      | Other opportunities |
      | Investment contact  |
      | Success stories     |
      | Location            |
      | Growth prospects    |
      | Sector and market   |
      | Footer              |
      | Get in touch        |
    And "Annette Geissinger" should not see following section
      | section |

  @hpo_1 @allure.link:TT-442
  Scenario Outline: Investors should be able to view "HPO - Lightweight" page -- @1.2 HPO pages 
    Given test authentication is done
    Given "Annette Geissinger" visits the "Invest - Lightweight - HPO" page
    Then "Annette Geissinger" should see following sections
      | Sections            |
      | Header              |
      | Hero                |
      | Contact us          |
      | Other opportunities |
      | Investment contact  |
      | Success stories     |
      | Location            |
      | Growth prospects    |
      | Sector and market   |
      | Footer              |
      | Get in touch        |
    And "Annette Geissinger" should not see following section
      | section |

  @hpo_1 @allure.link:TT-442
  Scenario Outline: Investors should be able to view "HPO - Rail" page -- @1.3 HPO pages 
    Given test authentication is done
    Given "Annette Geissinger" visits the "Invest - Rail - HPO" page
    Then "Annette Geissinger" should see following sections
      | Sections            |
      | Header              |
      | Hero                |
      | Contact us          |
      | Other opportunities |
      | Investment contact  |
      | Success stories     |
      | Location            |
      | Growth prospects    |
      | Sector and market   |
      | Footer              |
      | Get in touch        |
    And "Annette Geissinger" should not see following section
      | section |

  @hpo_1 @allure.link:TT-442
  Scenario Outline: Investors should be able to view "HPO - Carbon fibre in tees valley" page -- @1.4 HPO pages 
    Given test authentication is done
    Given "Annette Geissinger" visits the "Invest - Carbon fibre in tees valley - HPO" page
    Then "Annette Geissinger" should see following sections
      | Sections            |
      | Header              |
      | Hero                |
      | Contact us          |
      | Other opportunities |
      | Investment contact  |
      | Success stories     |
      | Location            |
      | Growth prospects    |
      | Sector and market   |
      | Footer              |
      | Get in touch        |
    And "Annette Geissinger" should not see following section
      | section |

  @hpo_1 @allure.link:TT-442
  Scenario Outline: Investors should be able to view "HPO - Immersive technology" page -- @1.5 HPO pages 
    Given test authentication is done
    Given "Annette Geissinger" visits the "Invest - Immersive technology - HPO" page
    Then "Annette Geissinger" should see following sections
      | Sections            |
      | Header              |
      | Hero                |
      | Contact us          |
      | Other opportunities |
      | Investment contact  |
      | Success stories     |
      | Location            |
      | Growth prospects    |
      | Sector and market   |
      | Footer              |
      | Get in touch        |
    And "Annette Geissinger" should not see following section
      | section |

  @hpo_2 @allure.link:TT-442
  Scenario Outline: Investors should be able to view "HPO - Plant based protein products" page -- @1.1 HPO pages 
    Given test authentication is done
    Given "Annette Geissinger" visits the "Invest - Plant based protein products - HPO" page
    Then "Annette Geissinger" should see following sections
      | Sections            |
      | Header              |
      | Hero                |
      | Contact us          |
      | Other opportunities |
      | Investment contact  |
      | Success stories     |
      | Location            |
      | Growth prospects    |
      | Sector and market   |
      | Footer              |
    And "Annette Geissinger" should not see following section
      | section     |
      | Breadcrumbs |

  @hpo_3 @allure.link:TT-442 @contact-us
  Scenario Outline: Investors should be able to reach "Contact us" page from "HPO - Hydrogen" page -- @1.1 HPO pages 
    Given test authentication is done
    Given "Annette Geissinger" visits the "Invest - Hydrogen - HPO" page
    When "Annette Geissinger" decides to "Investment lead get in touch"
    Then "Annette Geissinger" should be on the "Invest - HPO Contact us" page
    And "Annette Geissinger" should see following sections
      | sections        |
      | Form            |
      | Error reporting |

  @hpo_3 @allure.link:TT-442 @contact-us @full
  Scenario Outline: Investors should be able to reach "Contact us" page from "HPO - Lightweight" page -- @2.1 HPO pages 
    Given test authentication is done
    Given "Annette Geissinger" visits the "Invest - Lightweight - HPO" page
    When "Annette Geissinger" decides to "Investment lead get in touch"
    Then "Annette Geissinger" should be on the "Invest - HPO Contact us" page
    And "Annette Geissinger" should see following sections
      | sections        |
      | Form            |
      | Error reporting |

  @hpo_3 @allure.link:TT-442 @contact-us @full
  Scenario Outline: Investors should be able to reach "Contact us" page from "HPO - Rail" page -- @2.2 HPO pages 
    Given test authentication is done
    Given "Annette Geissinger" visits the "Invest - Rail - HPO" page
    When "Annette Geissinger" decides to "Investment lead get in touch"
    Then "Annette Geissinger" should be on the "Invest - HPO Contact us" page
    And "Annette Geissinger" should see following sections
      | sections        |
      | Form            |
      | Error reporting |

  @hpo_4 @allure.link:TT-442 @related-opportunities
  Scenario Outline: Investors should be able to view "Other investment opportunities" from "HPO - Amids" page -- @1.1 HPO pages 
    Given test authentication is done
    Given "Annette Geissinger" visits the "Invest - Amids - HPO" page
    When "Annette Geissinger" decides to use "first opportunity" link
    Then "Annette Geissinger" should be on the "Invest - Hydrogen - HPO" page

  @hpo_4 @allure.link:TT-442 @related-opportunities
  Scenario Outline: Investors should be able to view "Other investment opportunities" from "HPO - Carbon fibre in tees valley" page -- @1.2 HPO pages 
    Given test authentication is done
    Given "Annette Geissinger" visits the "Invest - Carbon fibre in tees valley - HPO" page
    When "Annette Geissinger" decides to use "second opportunity" link
    Then "Annette Geissinger" should be on the "Invest - Plant based protein products - HPO" page

  @hpo_4 @allure.link:TT-442 @related-opportunities
  Scenario Outline: Investors should be able to view "Other investment opportunities" from "HPO - Chemicals in the humber" page -- @1.3 HPO pages 
    Given test authentication is done
    Given "Annette Geissinger" visits the "Invest - Chemicals in the humber - HPO" page
    When "Annette Geissinger" decides to use "third opportunity" link
    Then "Annette Geissinger" should be on the "Invest - Plant based protein products - HPO" page

  @hpo_4 @allure.link:TT-442 @related-opportunities
  Scenario Outline: Investors should be able to view "Other investment opportunities" from "HPO - Controlled environment agriculture" page -- @1.4 HPO pages 
    Given test authentication is done
    Given "Annette Geissinger" visits the "Invest - Controlled environment agriculture - HPO" page
    When "Annette Geissinger" decides to use "fourth opportunity" link
    Then "Annette Geissinger" should be on the "Invest - Rail - HPO" page

  @hpo_4 @allure.link:TT-442 @related-opportunities
  Scenario Outline: Investors should be able to view "Other investment opportunities" from "HPO - Heat networks" page -- @1.5 HPO pages 
    Given test authentication is done
    Given "Annette Geissinger" visits the "Invest - Heat networks - HPO" page
    When "Annette Geissinger" decides to use "fifth opportunity" link
    Then "Annette Geissinger" should be on the "Invest - Chemicals in the humber - HPO" page

  @full @allure.issue:TT-879 @allure.link:TT-443 @allure.issue:TT-1509 @dev-only @hpo_5 @captcha @contact-us
  Scenario Outline: Investors should be able to contact us via "Rail" HPO page -- @1.1 HPO pages 
    Given test authentication is done
    Given "Annette Geissinger" visits the "Invest - Rail - Contact us" page
    When "Annette Geissinger" fills out and submits the form

@invest @hpo_pdfs @pdf @stage-only @allure.suite:Invest
Feature: Invest - HPO PDFs sent after

  Background:  

  @allure.link:TT-444 @dev-only @captcha
  Scenario Outline: Check PDFs listed on "Thank you for your enquiry" page for "High productivity food production" HPO -- @1.1  
    Given test authentication is done
    Given "Peter Alder" got in touch with us via "Invest - High productivity food production - Contact us" page
      | field       | value     |
      | Lightweight | unchecked |
      | Rail        | unchecked |
    And "Peter Alder" is on the "Invest - Thank you for your enquiry - Contact us" page
    When "Peter Alder" downloads all visible PDFs
    Then "Peter Alder" should see correct details in every downloaded PDF
      | telephone number = +44(0) 207 000 9012    |
      | email address = enquiries@invest-trade.uk |
    And there should not be any dead links in every downloaded PDF

  @allure.link:TT-444 @dev-only @captcha
  Scenario Outline: Check PDFs listed on "Thank you for your enquiry" page for "Lightweight" HPO -- @1.1  
    Given test authentication is done
    Given "Peter Alder" got in touch with us via "Invest - Lightweight - Contact us" page
      | field       | value     |
      | Lightweight | checked   |
      | Rail        | unchecked |
    And "Peter Alder" is on the "Invest - Thank you for your enquiry - Contact us" page
    When "Peter Alder" downloads all visible PDFs
    Then "Peter Alder" should see correct details in every downloaded PDF
      | telephone number = +44(0) 207 000 9012    |
      | email address = enquiries@ukti.gsi.gov.uk |
    And there should not be any dead links in every downloaded PDF

  @allure.link:TT-444 @dev-only @captcha
  Scenario Outline: Check PDFs listed on "Thank you for your enquiry" page for "Rail" HPO -- @1.1  
    Given test authentication is done
    Given "Peter Alder" got in touch with us via "Invest - Rail - Contact us" page
      | field       | value     |
      | Lightweight | unchecked |
      | Rail        | checked   |
    And "Peter Alder" is on the "Invest - Thank you for your enquiry - Contact us" page
    When "Peter Alder" downloads all visible PDFs
    Then "Peter Alder" should see correct details in every downloaded PDF
      | telephone number = +44(0) 207 000 9012    |
      | email address = enquiries@invest-trade.uk |
    And there should not be any dead links in every downloaded PDF

@invest @fas-landing-page @no-sso-email-verification-required @allure.suite:Invest
Feature: Invest - landing page

  Background:  

  @allure.link:CMS-157 @invest_11
  Scenario: Visitors should be able to view "Invest - Landing" page 
    Given test authentication is done
    Given "Robert" visits the "International - landing" page
    Then "Robert" should see following sections
      | Sections     |
      | Header       |
      | Hero         |
      | Content      |
      | Get in touch |
      | Footer       |

  @invest_New_1
  Scenario Outline: Overseas businesses should be able to learn about "<selected>" and land on the expected service -- @1.1  
    Given test authentication is done
    Given "Robert" visits the "International - landing" page
    When "Robert" decides to click on "Get started"
    Then "Robert" should be on the "Invest - landing" page

  @invest_New_1
  Scenario Outline: Overseas businesses should be able to learn about "<selected>" and land on the expected service -- @1.2  
    Given test authentication is done
    Given "Robert" visits the "International - landing" page
    When "Robert" decides to click on "Buy from the UK"
    Then "Robert" should be on the "International - Fas" page

  @invest_New_1
  Scenario Outline: Overseas businesses should be able to learn about "<selected>" and land on the expected service -- @1.3  
    Given test authentication is done
    Given "Robert" visits the "International - landing" page
    When "Robert" decides to click on "Invest in the UK"
    Then "Robert" should be on the "Invest  - Home" page

  @invest_New_2
  Scenario: Overseas businesses should be able to click on why invest in the uk 
    Given test authentication is done
    Given "Robert" visits the "International - landing" page
    When "Robert" decides to click on element "Logo" on page "Invest - landing"
    And "Robert" decides to find out more about "<service>"

  @invest_New_3
  Scenario: Overseas businesses should be able to click on why invest in the uk 
    Given test authentication is done
    Given "Robert" visits the "International - landing" page
    When "Robert" decides to click on element "Get started" on page "International - landing"
    And "Robert" decides to find out more about "<service>"

@pixels @invest_pixels @allure.suite:Invest
Feature: Invest - Pixels

  Background:  

  Scenario Outline: Pixels should be present on "Invest - Landing" page -- @1.1 Various pages 
    Given test authentication is done
    Given "Robert" visits the "Invest - Landing" page
    Then "Robert" should be on the "Invest - Landing" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  Scenario Outline: Pixels should be present on "Invest - Contact Us" page -- @1.2 Various pages 
    Given test authentication is done
    Given "Robert" visits the "Invest - Contact Us" page
    Then "Robert" should be on the "Invest - Contact Us" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  Scenario Outline: Pixels should be present on "Invest - How to set up in the UK" page -- @1.3 Various pages 
    Given test authentication is done
    Given "Robert" visits the "Invest - How to set up in the UK" page
    Then "Robert" should be on the "Invest - How to set up in the UK" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  @stage-only
  Scenario Outline: Pixels should be present on "Invest - Lightweight - HPO" page -- @2.1 HPO pages 
    Given test authentication is done
    Given "Robert" visits the "Invest - Lightweight - HPO" page
    Then "Robert" should be on the "Invest - Lightweight - HPO" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  @stage-only
  Scenario Outline: Pixels should be present on "Invest - Rail - HPO" page -- @2.2 HPO pages 
    Given test authentication is done
    Given "Robert" visits the "Invest - Rail - HPO" page
    Then "Robert" should be on the "Invest - Rail - HPO" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  @dev-only
  Scenario Outline: Pixels should be present on "Invest - Establish a UK business base -guide" page -- @3.1 UK Setup Guides 
    Given test authentication is done
    Given "Robert" visits the "Invest - Establish a UK business base -guide" page
    Then "Robert" should be on the "Invest - Establish a UK business base -guide" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  @dev-only
  Scenario Outline: Pixels should be present on "Invest - Get support to move your tech business to the UK - guide" page -- @3.2 UK Setup Guides 
    Given test authentication is done
    Given "Robert" visits the "Invest - Get support to move your tech business to the UK - guide" page
    Then "Robert" should be on the "Invest - Get support to move your tech business to the UK - guide" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  @dev-only
  Scenario Outline: Pixels should be present on "Invest - Register a company in the UK - guide" page -- @3.3 UK Setup Guides 
    Given test authentication is done
    Given "Robert" visits the "Invest - Register a company in the UK - guide" page
    Then "Robert" should be on the "Invest - Register a company in the UK - guide" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  @dev-only
  Scenario Outline: Pixels should be present on "Invest - Open a UK business bank account - guide" page -- @3.4 UK Setup Guides 
    Given test authentication is done
    Given "Robert" visits the "Invest - Open a UK business bank account - guide" page
    Then "Robert" should be on the "Invest - Open a UK business bank account - guide" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  @dev-only
  Scenario Outline: Pixels should be present on "Invest - Access finance in the UK - guide" page -- @3.5 UK Setup Guides 
    Given test authentication is done
    Given "Robert" visits the "Invest - Access finance in the UK - guide" page
    Then "Robert" should be on the "Invest - Access finance in the UK - guide" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  @dev-only
  Scenario Outline: Pixels should be present on "Invest - Research and development support in the UK - guide" page -- @3.6 UK Setup Guides 
    Given test authentication is done
    Given "Robert" visits the "Invest - Research and development support in the UK - guide" page
    Then "Robert" should be on the "Invest - Research and development support in the UK - guide" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  @dev-only
  Scenario Outline: Pixels should be present on "Invest - UK visas and migration - guide" page -- @3.7 UK Setup Guides 
    Given test authentication is done
    Given "Robert" visits the "Invest - UK visas and migration - guide" page
    Then "Robert" should be on the "Invest - UK visas and migration - guide" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  @dev-only
  Scenario Outline: Pixels should be present on "Invest - Hire skilled workers for your UK operations - guide" page -- @3.8 UK Setup Guides 
    Given test authentication is done
    Given "Robert" visits the "Invest - Hire skilled workers for your UK operations - guide" page
    Then "Robert" should be on the "Invest - Hire skilled workers for your UK operations - guide" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

  @dev-only
  Scenario Outline: Pixels should be present on "Invest - UK tax and incentives - guide" page -- @3.9 UK Setup Guides 
    Given test authentication is done
    Given "Robert" visits the "Invest - UK tax and incentives - guide" page
    Then "Robert" should be on the "Invest - UK tax and incentives - guide" page
    And following web statistics analysis or tracking elements should be present
      | Google Tag Manager             |
      | Google Tag Manager - no script |
      | UTM Cookie Domain              |
    And following web statistics analysis or tracking elements should NOT be present
      | LinkedIn tracking pixel |
      | Facebook tracking pixel |

@isd @invest @investment_atlas @allure.suite:ISD
Feature: ISD - Landing

  Background:  

  Scenario: Users should see all expected elements on "Investment Support Directory - Landing" page 
    Given test authentication is done
    When "Robert" goes to the "ISD - Landing" page
    Then "Robert" should see following sections
      | Sections          |
      | Search form       |
      | Breadcrumbs       |
      | Benefits          |
      | Search categories |
      | Error reporting   |
      | Footer            |

  @search
  Scenario: User comes through the content page - it means that the directory is pre-filtered for the matching content page (industry) 
    Given test authentication is done
    Given "Robert" visits the "ISD - Landing" page
    When "Robert" searches for companies using "food" keyword
    Then "Robert" should be on the "ISD - Search results" page
    And "Robert" should see following sections
      | Sections        |
      | Breadcrumbs     |
      | Results summary |
      | Filters         |
      | Search Results  |
      | Error reporting |
      | Footer          |

@Great_Magna_Tests @lessons-page @allure.suite:Great_Magna_Lessons @Choose-the-right-funding
Feature: GreatMagna - Lessons Page

  Background:  

  @allure.link:XOT-595 @Great-Magna-Lessons
  Scenario: User should be able to view Lesson pages read time on  "Choose the right funding" page 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Learn to export"
    And "Robert" decides to click on section "Funding finance and getting paid" on page "LearnToExport - Learn Categories"
    And "Robert" decides to click on section "Choose the right funding" on page "LearnToExport - Funding finance and getting paid"
    And "Robert" should be able to see "read tTop Backpage "LearnLearnToExport - Choose the right funding
    And "Robert" decides to click on section "Top Back" on page "LearnToExport - Choose the right funding"
    And "Robert" should be able to see "read time" on "Choose the right funding"

  @allure.link:XOT-596 @Great-Magna-Lessons_crfaco
  Scenario: User should be able to view the Lesson page "Choose the right funding"and click Yes and back to check the progress bar on the Dashboard page. 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Learn to export"
    And "Robert" decides to click on section "Funding finance and getting paid" on page "LearnToExport - Learn Categories"
    And "Robert" decides to click on section "Choose the right funding" on page "LearnToExport - Funding finance and getting paid"
    And "Robert" decides to click checkbox Yes on "LearnToExport - Choose the right funding"
    And "Robert" decides to click on section "Bottom Back" on page "LearnToExport - Choose the right funding"
    And "Robert" should be able to see progress bar for section "Identify opportunities" on "LearnToExport - Identify opportunities" page
    And "Robert" decides to click on section "Top Back" on page "LearnToExport - Identify opportunities"
    And "Robert" should be able to see progress bar for section "Identify opportunities" on "LearnToExport - Learn Categories" page

@Great_Magna_Tests @lessons-page @allure.suite:Great_Magna_Lessons
Feature: GreatMagna - Lessons Page

  Background:  

  @allure.link:XOT-244 @Great-Magna-Lessons-video
  Scenario: User should be able to view Lesson page "Choose the right route to market" and watch video 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Learn to export"
    And "Robert" decides to click on section "Prepare to sell" on page "LearnToExport - Learn Categories"
    And "Robert" decides to click on section "Choose the right route to market" on page "LearnToExport - Prepare to sell"
    And "Robert" should be on the "LearnToExport - Choose the right route to market" page
    And "Robert" decides to watch "32" seconds of the promotional video
    And "Robert" decides to click checkbox Yes and click continue on "LearnToExport - Choose the right route to market"
    And "Robert" decides to click on section "Top Back" on page "LearnToExport - Choose the right route to market"

  @allure.link:XOT-245 @Great-Magna-Lessons-videotranscript
  Scenario: User should be able to view Lesson page "Choose the right route to market" and click video transcript 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Learn to export"
    And "Robert" decides to click on section "Prepare to sell" on page "LearnToExport - Learn Categories"
    And "Robert" decides to click on section "Choose the right route to market" on page "LearnToExport - Prepare to sell"
    And "Robert" decides to click on element "view transcript" on page "LearnToExport - Choose the right route to market"

  @allure.link:XOT-246 @Great-Magna-Lessons
  Scenario: User should be able to view Lesson pages for topic "Choose the right route to market" and click view all lessons 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Learn to export"
    And "Robert" decides to click on section "Prepare to sell" on page "LearnToExport - Learn Categories"
    And "Robert" decides to click on section "Choose the right route to market" on page "LearnToExport - Prepare to sell"

@lessons-page @allure.suite:Great_Magna_Lessons
Feature: GreatMagna - Lessons Page

  Background:  

  @allure.link:XOT-501 @Great-Magna-Lessons
  Scenario: User should be able to view lesson pages for topic "Choose which incoterms are right for you" and click continue 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Learn to export"
    And "Robert" decides to click on section "Regulations licensing and logistics" on page "LearnToExport - Learn Categories"
    And "Robert" decides to click on section "Choose which incoterms are right for you" on page "LearnToExport - Regulations licensing and logistics"
    And "Robert" decides to click checkbox Yes and click continue on "LearnToExport - Choose which incoterms are right for you"

  @allure.link:XOT-502 @Great-Magna-Lessons
  Scenario: User should be able to view Lesson pages for topic "Choose which incoterms are right for you" and click bottom back 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Learn to export"
    And "Robert" decides to click on section "Regulations licensing and logistics" on page "LearnToExport - Learn Categories"
    And "Robert" decides to click on section "Choose which incoterms are right for you" on page "LearnToExport - Regulations licensing and logistics"
    And "Robert" decides to click checkbox Yes and click continue on "LearnToExport - Choose which incoterms are right for you"
    And "Robert" decides to click on section "Bottom Back" on page "LearnToExport - Choose which incoterms are right for you"

  @allure.link:XOT-503 @Great-Magna-Lessons
  Scenario: User should be able to view Lesson pages for topic "Choose which incoterms are right for you" and click top back 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Learn to export"
    And "Robert" decides to click on section "Regulations licensing and logistics" on page "LearnToExport - Learn Categories"
    And "Robert" decides to click on section "Choose which incoterms are right for you" on page "LearnToExport - Regulations licensing and logistics"
    And "Robert" decides to click checkbox Yes and click continue on "LearnToExport - Choose which incoterms are right for you"
    And "Robert" decides to click on section "Top Back" on page "LearnToExport - Choose which incoterms are right for you"

  @allure.link:XOT-504 @Great-Magna-Lessons
  Scenario: User should be able to view Lesson pages for topic "Choose which incoterms are right for you" and click view all lessons 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Learn to export"
    And "Robert" decides to click on section "Regulations licensing and logistics" on page "LearnToExport - Learn Categories"
    And "Robert" decides to click on section "Choose which incoterms are right for you" on page "LearnToExport - Regulations licensing and logistics"

@lessons-page @allure.suite:Great_Magna_Lessons
Feature: GreatMagna - Lessons Page

  Background:  

  @allure.link:XOT-631 @Great-Magna-Lessons
  Scenario: User should be able to view lesson pages for topic "Decide when to get paid"" and click continue 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Learn to export"
    And "Robert" decides to click on section "Funding finance and getting paid" on page "LearnToExport - Learn Categories"
    And "Robert" decides to click on section "Decide when to get paid" on page "LearnToExport - Funding finance and getting paid"
    And "Robert" decides to click checkbox Yes and click continue on "LearnToExport - Decide when to get paid"

  @allure.link:XOT-632 @Great-Magna-Lessons
  Scenario: User should be able to view Lesson pages for topic "Decide when to get paid" and click bottom back 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Learn to export"
    And "Robert" decides to click on section "Funding finance and getting paid" on page "LearnToExport - Learn Categories"
    And "Robert" decides to click on section "Decide when to get paid" on page "LearnToExport - Funding finance and getting paid"
    And "Robert" decides to click checkbox Yes and click continue on "LearnToExport - Decide when to get paid"
    And "Robert" decides to click on section "Bottom Back" on page "LearnToExport - Decide when to get paid"

  @allure.link:XOT-633 @Great-Magna-Lessons
  Scenario: User should be able to view Lesson pages for topic "Decide when to get paid" and click top back 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Learn to export"
    And "Robert" decides to click on section "Funding finance and getting paid" on page "LearnToExport - Learn Categories"
    And "Robert" decides to click on section "Decide when to get paid" on page "LearnToExport - Funding finance and getting paid"
    And "Robert" decides to click checkbox Yes and click continue on "LearnToExport - Decide when to get paid"
    And "Robert" decides to click on section "Top Back" on page "LearnToExport - Decide when to get paid"

  @allure.link:XOT-634 @Great-Magna-Lessons
  Scenario: User should be able to view Lesson pages for topic "Decide when to get paid" and click view all lessons 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Learn to export"
    And "Robert" decides to click on section "Funding finance and getting paid" on page "LearnToExport - Learn Categories"
    And "Robert" decides to click on section "Decide when to get paid" on page "LearnToExport - Funding finance and getting paid"

@lessons-page @allure.suite:Great_Magna_Lessons
Feature: GreatMagna - Lessons Page

  Background:  

  @allure.link:XOT-571 @Great-Magna-Lessons
  Scenario: User should be able to view lesson pages for topic "Using licensing" and click continue 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Learn to export"
    And "Robert" decides to click on section "Prepare to sell" on page "LearnToExport - Learn Categories"
    And "Robert" decides to click on section "Using licensing" on page "LearnToExport - Prepare to sell"
    And "Robert" decides to click checkbox Yes and click continue on "LearnToExport - Using licensing"

  @allure.link:XOT-572 @Great-Magna-Lessons
  Scenario: User should be able to view Lesson pages for topic "Using licensing" and click bottom back 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Learn to export"
    And "Robert" decides to click on section "Prepare to sell" on page "LearnToExport - Learn Categories"
    And "Robert" decides to click on section "Using licensing" on page "LearnToExport - Prepare to sell"
    And "Robert" decides to click checkbox Yes and click continue on "LearnToExport - Using licensing"
    And "Robert" decides to click on section "Bottom Back" on page "LearnToExport - Using licensing"

  @allure.link:XOT-573 @Great-Magna-Lessons
  Scenario: User should be able to view Lesson pages for topic "Decide whether to use licensing" and click top back 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Learn to export"
    And "Robert" decides to click on section "Prepare to sell" on page "LearnToExport - Learn Categories"
    And "Robert" decides to click on section "Using licensing" on page "LearnToExport - Prepare to sell"
    And "Robert" decides to click checkbox Yes and click continue on "LearnToExport - Using licensing"
    And "Robert" decides to click on section "Top Back" on page "LearnToExport - Using licensing"

@Great_Magna_Tests @lessons-page @allure.suite:Great_Magna_Lessons
Feature: GreatMagna - Lessons Page

  Background:  

  @allure.link:XOT-101 @Great-Magna-Lessons
  Scenario: User should be able to view lesson pages for topic "How lessons can help" and click continue 
    Given test authentication is done
    Given "Robert" visits the "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    When "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Learn to export"
    And "Robert" decides to click on section "Get Started" on page "LearnToExport - Learn Categories"
    And "Robert" decides to click on section "How lessons can help" on page "LearnToExport - Get Started"
    And "Robert" decides to click checkbox Yes and click continue on "LearnToExport - How lessons can help"

  @allure.link:XOT-102 @Great-Magna-Lessons
  Scenario: User should be able to view Lesson pages for topic "How lessons can help" and click back 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    When "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Learn to export"
    And "Robert" decides to click on section "Get Started" on page "LearnToExport - Learn Categories"
    And "Robert" decides to click on section "How lessons can help" on page "LearnToExport - Get Started"
    And "Robert" decides to click on section "Bottom Back" on page "LearnToExport - How lessons can help"

  @allure.link:XOT-103 @Great-Magna-Lessons
  Scenario: User should be able to view Lesson pages for topic "How lessons can help" and click back 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Learn to export"
    And "Robert" decides to click on section "Get Started" on page "LearnToExport - Learn Categories"
    And "Robert" decides to click on section "How lessons can help" on page "LearnToExport - Get Started"
    And "Robert" decides to click on section "Top Back" on page "LearnToExport - How lessons can help"

  @allure.link:XOT-104 @Great-Magna-Lessons @get_started_6
  Scenario: User should be able to view Lesson page "What youll find in each lesson" and click continue 70 times 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Learn to export"
    And "Robert" decides to click on section "Get Started" on page "LearnToExport - Learn Categories"
    And "Robert" decides to click on section "What youll find in each lesson" on page "LearnToExport - Get Started"
    And "Robert" decides to click continue for maximum "70" times from page "LearnToExport - What youll find in each lesson" until it reaches "managing-exchange-rates"

@Great_Magna_Tests @lessons-page @allure.suite:Great_Magna_Lessons
Feature: GreatMagna - Lessons Page

  Background:  

  @allure.link:XOT-112 @Great-Magna-Lessons-progress-bar-test_2
  Scenario: User should be able to view Lesson page "Choosing the right export opportunities" and click continue and back to check the progress bar on lessons and module and lesson categories section 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Learn to export"
    Then "Robert" decides to click on section "Identify opportunities" on page "LearnToExport - Learn Categories"
    And "Robert" decides to click on section "Choosing the right export opportunities" on page "LearnToExport - Identify opportunities"
    And "Robert" decides to click checkbox Yes on "LearnToExport - Choosing the right export opportunities"
    And "Robert" decides to click on section "Bottom Back" on page "LearnToExport - Choosing the right export opportunities"
    And "Robert" should be able to see progress bar for section "Identify opportunities" on "LearnToExport - Identify opportunities" page
    And "Robert" decides to click on section "Top Back" on page "LearnToExport - Identify opportunities"
    And "Robert" should be able to see progress bar for section "Identify opportunities" on "LearnToExport - Learn Categories" page

@Great_Magna_Tests @lessons-page-1 @allure.suite:Great_Magna_Lessons
Feature: GreatMagna - Lessons Page

  Background:  

  @allure.link:XOT-134 @Great-Magna-Lessons-progress-bar-test_3
  Scenario: User should be able to view Lesson page "In market research" and click Yes lesson complete and click back to check the progress bar on Topics , module and lessons categories section. 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Learn to export"
    Then "Robert" decides to click on section "Identify opportunities" on page "LearnToExport - Learn Categories"
    And "Robert" decides to click on section "In market research" on page "LearnToExport - Identify opportunities"
    And "Robert" decides to click checkbox Yes on "LearnToExport - In market research"
    And "Robert" decides to click on section "Bottom Back" on page "LearnToExport - In market research"
    And "Robert" should be able to see progress bar for section "Identify opportunities" on "LearnToExport - Identify opportunities" page
    And "Robert" decides to click on section "Top Back" on page "LearnToExport - Identify opportunities"
    And "Robert" should be able to see progress bar for section "Identify opportunities" on "LearnToExport - Learn Categories" page

@lessons-landing-page @allure.suite:Great_Magna_Lessons_Landing
Feature: GreatMagna - Lessons Page

  Background:  

  @learn_to_export @learn_categories_landing
  Scenario: Any Exporter should be able to get to a list of Advice articles from the home page using link in "<specific>" section 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Learn to export"
    And "Robert" should see following sections
      | sections         |
      | Header           |
      | Export academy   |
      | Learn categories |
      | Footer           |

  @learn_to_export @get_started_landing
  Scenario: Any Exporter should be able to get to a list of Advice articles from the home page using link in "<specific>" section 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Learn to export"
    And "Robert" decides to click on section "Get Started" on page "LearnToExport - Learn Categories"
    And "Robert" should see following sections
      | sections             |
      | Header               |
      | Learn to export home |
      | Topic Title          |
      | Lessons              |
      | Footer               |

  @learn_to_export @identify_opportunities_landing
  Scenario: Any Exporter should be able to get to a list of Advice articles from the home page using link in "<specific>" section 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Learn to export"
    And "Robert" decides to click on section "Identify opportunities" on page "LearnToExport - Learn Categories"
    And "Robert" should see following sections
      | sections             |
      | Header               |
      | Learn to export home |
      | Topic Title          |
      | Lessons              |
      | Footer               |

  @learn_to_export @prepare_to_sell_landing
  Scenario: Any Exporter should be able to get to a list of Advice articles from the home page using link in "<specific>" section 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Learn to export"
    And "Robert" decides to click on section "Prepare to sell" on page "LearnToExport - Learn Categories"
    And "Robert" should see following sections
      | sections             |
      | Header               |
      | Learn to export home |
      | Topic Title          |
      | Lessons              |
      | Footer               |

  @learn_to_export @regulations_licensing_and_logistics_landing
  Scenario: Any Exporter should be able to get to a list of Advice articles from the home page using link in "<specific>" section 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Learn to export"
    And "Robert" decides to click on section "Regulations licensing and logistics" on page "LearnToExport - Learn Categories"
    And "Robert" should see following sections
      | sections             |
      | Header               |
      | Learn to export home |
      | Topic Title          |
      | Lessons              |
      | Footer               |

  @learn_to_export @funding_finance_and_getting_paid_landing
  Scenario: Any Exporter should be able to get to a list of Advice articles from the home page using link in "<specific>" section 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Learn to export"
    And "Robert" decides to click on section "Funding finance and getting paid" on page "LearnToExport - Learn Categories"
    And "Robert" should see following sections
      | sections             |
      | Header               |
      | Learn to export home |
      | Topic Title          |
      | Lessons              |
      | Footer               |

@Great_Magna_Tests @lessons-page @allure.suite:Great_Magna_Lessons
Feature: GreatMagna - Lessons Page

  Background:  

@Great_Magna_Tests @lessons-page-1 @allure.suite:Great_Magna_Lessons
Feature: GreatMagna - Lessons Page

  Background:  

@Great_Magna_Tests @lessons-page @allure.suite:Great_Magna_Lessons
Feature: GreatMagna - Lessons Page

  Background:  

@lessons-page_ff @allure.suite:Great_Magna_Lessons
Feature: GreatMagna - Lessons Page

  Background:  

  @allure.link:XOT-561 @Great-Magna-Lessons_ff_1
  Scenario: User should be able to view lesson pages for topic "Using Freight forwarders" and click continue 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Learn to export"
    And "Robert" decides to click on section "Regulations licensing and logistics" on page "LearnToExport - Learn Categories"
    And "Robert" decides to click on section "Using freight forwarders" on page "LearnToExport - Regulations licensing and logistics"
    And "Robert" decides to click on "Open case study" on page "LearnToExport - Regulations around supplying a service"
    And "Robert" decides to click checkbox Yes and click continue on "LearnToExport - Using freight forwarders"

  @allure.link:XOT-562 @Great-Magna-Lessons_ff_2
  Scenario: User should be able to view Lesson pages for topic "Using freight forwarders" and click bottom back 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Learn to export"
    And "Robert" decides to click on section "Regulations licensing and logistics" on page "LearnToExport - Learn Categories"
    And "Robert" decides to click on section "Using freight forwarders" on page "LearnToExport - Regulations licensing and logistics"
    And "Robert" decides to click checkbox Yes and click continue on "LearnToExport - Using freight forwarders"
    And "Robert" decides to click on section "Bottom Back" on page "LearnToExport - Using freight forwarders"

  @allure.link:XOT-563 @Great-Magna-Lessons_ff_3
  Scenario: User should be able to view Lesson pages for topic "Using freight forwarders" and click top back 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Learn to export"
    And "Robert" decides to click on section "Regulations licensing and logistics" on page "LearnToExport - Learn Categories"
    And "Robert" decides to click on section "Using freight forwarders" on page "LearnToExport - Regulations licensing and logistics"
    And "Robert" decides to click checkbox Yes and click continue on "LearnToExport - Using freight forwarders"
    And "Robert" decides to click on section "Top Back" on page "LearnToExport - Using freight forwarders"

  @allure.link:XOT-564 @Great-Magna-Lessons
  Scenario: User should be able to view Lesson pages for topic "Using freight forwarders" and click view all lessons 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Learn to export"
    And "Robert" decides to click on section "Regulations licensing and logistics" on page "LearnToExport - Learn Categories"
    And "Robert" decides to click on section "Using freight forwarders" on page "LearnToExport - Regulations licensing and logistics"

@gtm_isd @invest @pixels @allure.suite:PIR
Feature: PIR - Google Tag Manager

  Background:  

  @allure.link:TT-1500
  Scenario Outline: GTM properties should be properly set on "PIR - Landing" page -- @1.1 Listing pages 
    Given test authentication is done
    When "Robert" goes to the "PIR - Landing" page
    Then Google Tag Manager properties should be set to proper values
      | businessUnit | loginStatus | siteLanguage | siteSection | siteSubsection | userId |
      | Invest       | False       | en-gb        | PerfectFit  | FormPage       | None   |

@domestic @allure.link:TT-1033 @allure.link:TT-1094 @enrol @new-registration @allure.suite:Profile
Feature: Profile - CH enrolment flows

  Background:  

  @allure.link:TT-1115
  Scenario: Users should be presented with the Enrolment Steps prior to starting the registration process 
    Given test authentication is done
    Given "Natalia" visits the "Profile - Create an account" page
    When "Natalia" decides to "start"
    Then "Natalia" should be on the "Profile - Select your business type" page
    And "Natalia" should see following sections
      | sections               |
      | Breadcrumbs            |
      | Form                   |
      | Enrolment progress bar |
    And "Natalia" should see following form choices
      | radio elements                        |
      | LTD, PLC or Royal Charter             |
      | Sole trader or other type of business |
      | UK taxpayer                           |
      | Overseas Company                      |

  @allure.link:TT-1117 @ltd-plc-royal
  Scenario Outline: "LTD, PLC or Royal Charter" representative should be asked to enter their email and set a password after selecting their business type -- @1.1  
    Given test authentication is done
    Given "Natalia" visits the "Profile - Enter your email address and set a password (LTD, PLC or Royal Charter)" page
    Then "Natalia" should see following sections
      | sections               |
      | Breadcrumbs            |
      | Registration form      |
      | Enrolment progress bar |

  @dev-only @allure.link:TT-1120 @ltd-plc-royal
  Scenario Outline: "LTD, PLC or Royal Charter" representative should receive an email with confirmation code -- @1.1  
    Given test authentication is done
    Given "Natalia" visits the "Profile - Enter your email address and set a password (LTD, PLC or Royal Charter)" page
    When "Natalia" fills out and submits the form
    Then "Natalia" should be on the "Profile - Enter your confirmation code (LTD, PLC or Royal Charter)" page
    And "Natalia" should see following sections
      | sections                     |
      | Confirmation code message    |
      | Confirmation code form       |
      | An option to resend the code |
      | Enrolment progress bar       |
    And "Natalia" should receive email confirmation code

  @dev-only @allure.link:TT-2176 @allure.link:TT-2193 @password @ltd-plc-royal
  Scenario Outline: "LTD, PLC or Royal Charter" representative shouldn't be able to use a password that doesn't meet requirements otherwise their going to see "This password contains letters only" -- @1.1  
    Given test authentication is done
    Given "Natalia" visits the "Profile - Enter your email address and set a password (LTD, PLC or Royal Charter)" page
    When "Natalia" fills out and submits the form
      | field            | value   |
      | password         | letters |
      | confirm password | letters |
    Then "Natalia" should be on the "Profile - Enter your email address and set a password (LTD, PLC or Royal Charter)" page
    And "Natalia" should see "This password contains letters only" on the page

  @dev-only @allure.link:TT-2176 @allure.link:TT-2193 @password @ltd-plc-royal
  Scenario Outline: "LTD, PLC or Royal Charter" representative shouldn't be able to use a password that doesn't meet requirements otherwise their going to see "This password contains letters only" -- @1.2  
    Given test authentication is done
    Given "Natalia" visits the "Profile - Enter your email address and set a password (LTD, PLC or Royal Charter)" page
    When "Natalia" fills out and submits the form
      | field            | value      |
      | password         | abcdefghij |
      | confirm password | abcdefghij |
    Then "Natalia" should be on the "Profile - Enter your email address and set a password (LTD, PLC or Royal Charter)" page
    And "Natalia" should see "This password contains letters only" on the page

  @dev-only @allure.link:TT-2176 @allure.link:TT-2193 @password @ltd-plc-royal
  Scenario Outline: "LTD, PLC or Royal Charter" representative shouldn't be able to use a password that doesn't meet requirements otherwise their going to see "This password contains letters only" -- @1.3  
    Given test authentication is done
    Given "Natalia" visits the "Profile - Enter your email address and set a password (LTD, PLC or Royal Charter)" page
    When "Natalia" fills out and submits the form
      | field            | value       |
      | password         | abcdefghijk |
      | confirm password | abcdefghijk |
    Then "Natalia" should be on the "Profile - Enter your email address and set a password (LTD, PLC or Royal Charter)" page
    And "Natalia" should see "This password contains letters only" on the page

  @dev-only @allure.link:TT-2176 @allure.link:TT-2193 @password @ltd-plc-royal
  Scenario Outline: "LTD, PLC or Royal Charter" representative shouldn't be able to use a password that doesn't meet requirements otherwise their going to see "This password is entirely numeric" -- @1.4  
    Given test authentication is done
    Given "Natalia" visits the "Profile - Enter your email address and set a password (LTD, PLC or Royal Charter)" page
    When "Natalia" fills out and submits the form
      | field            | value      |
      | password         | 0123456789 |
      | confirm password | 0123456789 |
    Then "Natalia" should be on the "Profile - Enter your email address and set a password (LTD, PLC or Royal Charter)" page
    And "Natalia" should see "This password is entirely numeric" on the page

  @dev-only @allure.link:TT-2176 @allure.link:TT-2193 @password @ltd-plc-royal
  Scenario Outline: "LTD, PLC or Royal Charter" representative shouldn't be able to use a password that doesn't meet requirements otherwise their going to see "Passwords don't match" -- @1.5  
    Given test authentication is done
    Given "Natalia" visits the "Profile - Enter your email address and set a password (LTD, PLC or Royal Charter)" page
    When "Natalia" fills out and submits the form
      | field            | value       |
      | password         | password    |
      | confirm password | don't match |
    Then "Natalia" should be on the "Profile - Enter your email address and set a password (LTD, PLC or Royal Charter)" page
    And "Natalia" should see "Passwords don't match" on the page

  @dev-only @allure.link:TT-2176 @allure.link:TT-2193 @password @ltd-plc-royal
  Scenario Outline: "LTD, PLC or Royal Charter" representative shouldn't be able to use a password that doesn't meet requirements otherwise their going to see "This field is required" -- @1.6  
    Given test authentication is done
    Given "Natalia" visits the "Profile - Enter your email address and set a password (LTD, PLC or Royal Charter)" page
    When "Natalia" fills out and submits the form
      | field            | value    |
      | password         | password |
      | confirm password | empty    |
    Then "Natalia" should be on the "Profile - Enter your email address and set a password (LTD, PLC or Royal Charter)" page
    And "Natalia" should see "This field is required" on the page

  @dev-only @allure.link:TT-2176 @allure.link:TT-2193 @password @ltd-plc-royal
  Scenario Outline: "LTD, PLC or Royal Charter" representative shouldn't be able to use a password that doesn't meet requirements otherwise their going to see "This field is required" -- @1.7  
    Given test authentication is done
    Given "Natalia" visits the "Profile - Enter your email address and set a password (LTD, PLC or Royal Charter)" page
    When "Natalia" fills out and submits the form
      | field            | value |
      | password         | empty |
      | confirm password | empty |
    Then "Natalia" should be on the "Profile - Enter your email address and set a password (LTD, PLC or Royal Charter)" page
    And "Natalia" should see "This field is required" on the page

  @dev-only @allure.link:TT-2176 @allure.link:TT-2193 @password @ltd-plc-royal
  Scenario Outline: "LTD, PLC or Royal Charter" representative shouldn't be able to use a password that doesn't meet requirements otherwise their going to see "This password contains the word 'password'" -- @1.8  
    Given test authentication is done
    Given "Natalia" visits the "Profile - Enter your email address and set a password (LTD, PLC or Royal Charter)" page
    When "Natalia" fills out and submits the form
      | field            | value    |
      | password         | password |
      | confirm password | password |
    Then "Natalia" should be on the "Profile - Enter your email address and set a password (LTD, PLC or Royal Charter)" page
    And "Natalia" should see "This password contains the word 'password'" on the page

  @dev-only @allure.link:TT-2176 @allure.link:TT-2193 @password @ltd-plc-royal
  Scenario Outline: "LTD, PLC or Royal Charter" representative shouldn't be able to use a password that doesn't meet requirements otherwise their going to see "This password is too short. It must contain at least 10 characters" -- @1.9  
    Given test authentication is done
    Given "Natalia" visits the "Profile - Enter your email address and set a password (LTD, PLC or Royal Charter)" page
    When "Natalia" fills out and submits the form
      | field            | value     |
      | password         | 123 short |
      | confirm password | 123 short |
    Then "Natalia" should be on the "Profile - Enter your email address and set a password (LTD, PLC or Royal Charter)" page
    And "Natalia" should see "This password is too short. It must contain at least 10 characters" on the page

  @dev-only @allure.link:TT-2176 @allure.link:TT-2193 @password @ltd-plc-royal
  Scenario Outline: "LTD, PLC or Royal Charter" representative shouldn't be able to use a password that doesn't meet requirements otherwise their going to see "This field is required" -- @1.10  
    Given test authentication is done
    Given "Natalia" visits the "Profile - Enter your email address and set a password (LTD, PLC or Royal Charter)" page
    When "Natalia" fills out and submits the form
      | field            | value    |
      | password         | empty    |
      | confirm password | password |
    Then "Natalia" should be on the "Profile - Enter your email address and set a password (LTD, PLC or Royal Charter)" page
    And "Natalia" should see "This field is required" on the page

  @bug @allure.issue:TT-2192 @fixed @dev-only @ltd-plc-royal
  Scenario Outline: "LTD, PLC or Royal Charter" representative should be able to use spaces in password -- @1.1 examples affected by bug TT-2192 
    Given test authentication is done
    Given "Natalia" visits the "Profile - Enter your email address and set a password (LTD, PLC or Royal Charter)" page
    When "Natalia" fills out and submits the form
      | field            | value       |
      | password         | a b c d e f |
      | confirm password | a b c d e f |
    Then "Natalia" should be on the "Profile - Enter your confirmation code (LTD, PLC or Royal Charter)" page

  @bug @allure.issue:TT-2192 @fixed @dev-only @ltd-plc-royal
  Scenario Outline: "LTD, PLC or Royal Charter" representative should be able to use spaces in password -- @1.2 examples affected by bug TT-2192 
    Given test authentication is done
    Given "Natalia" visits the "Profile - Enter your email address and set a password (LTD, PLC or Royal Charter)" page
    When "Natalia" fills out and submits the form
      | field            | value       |
      | password         | 1 2 3 4 5 6 |
      | confirm password | 1 2 3 4 5 6 |
    Then "Natalia" should be on the "Profile - Enter your confirmation code (LTD, PLC or Royal Charter)" page

  @dev-only @allure.link:TT-1121 @ltd-plc-royal @failed
  Scenario Outline: A representative of a "LTD, PLC or Royal Charter" company should be asked to enter their business details after providing email confirmation code -- @1.1  
    Given test authentication is done
    Given "Natalia" has received the email confirmation code by opting to register as "LTD, PLC or Royal Charter"
    And "Natalia" is on the "Profile - Enter your confirmation code (LTD, PLC or Royal Charter)" page
    When "Natalia" fills out and submits the form
    Then "Natalia" should be on the "Profile - Enter your business details (LTD, PLC or Royal Charter)" page
    And "Natalia" should see following sections
      | sections                    |
      | Enter your business details |
      | Enrolment progress bar      |

  @dev-only @allure.link:TT-1123 @ltd-plc-royal @failed
  Scenario Outline: A representative of a "LTD, PLC or Royal Charter" company should be asked to enter their details after providing business details -- @1.1  
    Given test authentication is done
    Given "Natalia" has received the email confirmation code by opting to register as "LTD, PLC or Royal Charter"
    And "Natalia" is on the "Profile - Enter your confirmation code (LTD, PLC or Royal Charter)" page
    When "Natalia" fills out and submits the form
    Then "Natalia" should be on the "Profile - Enter your business details (LTD, PLC or Royal Charter)" page
    When "Natalia" fills out and submits the form (and go 1 page back on error)
    Then "Natalia" should be on the "Profile - Enter your business details [step 2] (LTD, PLC or Royal Charter)" page
    When "Natalia" fills out and submits the form
    Then "Natalia" should be on the "Profile - Enter your details (LTD, PLC or Royal Charter)" page
    And "Natalia" should see following sections
      | sections                |
      | Enter your details form |
      | Enrolment progress bar  |

  @dev-only @allure.link:TT-1124 @ltd-plc-royal @failed
  Scenario Outline: A representative of a "LTD, PLC or Royal Charter" company should be told when account is created and the are the next possible steps -- @1.1  
    Given test authentication is done
    Given "Natalia" has received the email confirmation code by opting to register as "LTD, PLC or Royal Charter"
    And "Natalia" is on the "Profile - Enter your confirmation code (LTD, PLC or Royal Charter)" page
    When "Natalia" fills out and submits the form
    Then "Natalia" should be on the "Profile - Enter your business details (LTD, PLC or Royal Charter)" page
    When "Natalia" fills out and submits the form (and go 1 page back on error)
    Then "Natalia" should be on the "Profile - Enter your business details [step 2] (LTD, PLC or Royal Charter)" page
    When "Natalia" fills out and submits the form
    Then "Natalia" should be on the "Profile - Enter your details (LTD, PLC or Royal Charter)" page
    When "Natalia" fills out and submits the form
    Then "Natalia" should be on the "Profile - Account created (LTD, PLC or Royal Charter)" page
    And "Natalia" should see following sections
      | sections                   |
      | Confirmation email message |
      | Next steps                 |

  @dev-only @allure.link:TT-1126 @allure.link:TT-1031 @ltd-plc-royal
  Scenario: Companies House company enrolment creates a business profile 
    Given test authentication is done
    Given "Natalia" has created a great.gov.uk account for a "LTD, PLC or Royal Charter"
    When "Natalia" goes to the "Profile - Edit Company Profile" page
    Then "Natalia" should be on the "Profile - Edit Company Profile" page

  @dev-only @verification-code @ltd-plc-royal @failed
  Scenario: Users should be able to resend email verification code 
    Given test authentication is done
    Given "Natalia" has received the email confirmation code by opting to register as "LTD, PLC or Royal Charter"
    And "Natalia" is on the "Profile - Enter your confirmation code (LTD, PLC or Royal Charter)" page
    When "Natalia" decides to use "Resend my code" link
    Then "Natalia" should be on the "Domestic - I have not received a verification code - Dedicated Support Content" page
    When "Natalia" decides to use "Resend my code" link
    Then "Natalia" should be on the "Profile - Resend your verification code" page
    When "Natalia" fills out and submits the form
    Then "Natalia" should be on the "Profile - Re-enter your confirmation code" page
    And "Natalia" should receive email with a new confirmation code
    When "Natalia" fills out and submits the form
    Then "Natalia" should be on the "Profile - Enter your business details (LTD, PLC or Royal Charter)" page

  @dev-only @allure.link:TT-1125 @allure.link:TT-1017 @ltd-plc-royal @failed
  Scenario Outline: When CH record doesn't include business' address the business representative should be referred to a contact page -- @1.1  
    Given test authentication is done
    Given "Natalia" has received the email confirmation code by opting to register as "LTD, PLC or Royal Charter"
    And "Natalia" filled out and submitted the form
    And "Natalia" got to the "Profile - Enter your business details (LTD, PLC or Royal Charter)" page
    When "Natalia" decides to use "I cannot find my business name" link
    And "Natalia" decides to "contact us"
    Then "Natalia" should be on the "Domestic - Short contact form (Tell us how we can help)" page

  @dev-only @legacy-sso-registration @allure.link:TT-1127 @allure.link:TT-1035 @ltd-plc-royal @sole-trader-other-business @uk-taxpayer @failed
  Scenario Outline: User representing "LTD, PLC or Royal Charter" should be notified by email when there is an account already registered to their email address (legacy SSO registration) -- @1.1  
    Given test authentication is done
    Given "Natalia" has a verified standalone SSO/great.gov.uk account
    And "Natalia" decided to create a great.gov.uk account as "LTD, PLC or Royal Charter"
    When "Natalia" fills out and submits the form
    Then "Natalia" should be on the "Profile - Enter your confirmation code (LTD, PLC or Royal Charter)" page
    And "Natalia" should receive "Sign in to great.gov.uk services" email containing "There is an account already registered to this email address" message

  @dev-only @legacy-sso-registration @allure.link:TT-1127 @allure.link:TT-1035 @ltd-plc-royal @sole-trader-other-business @uk-taxpayer @failed
  Scenario Outline: User representing "Sole trader or other type of business" should be notified by email when there is an account already registered to their email address (legacy SSO registration) -- @1.2  
    Given test authentication is done
    Given "Natalia" has a verified standalone SSO/great.gov.uk account
    And "Natalia" decided to create a great.gov.uk account as "Sole trader or other type of business"
    When "Natalia" fills out and submits the form
    Then "Natalia" should be on the "Profile - Enter your confirmation code (Sole trader or other type of business)" page
    And "Natalia" should receive "Sign in to great.gov.uk services" email containing "There is an account already registered to this email address" message

  @dev-only @legacy-sso-registration @allure.link:TT-1127 @allure.link:TT-1035 @ltd-plc-royal @sole-trader-other-business @uk-taxpayer @failed
  Scenario Outline: User representing "UK taxpayer" should be notified by email when there is an account already registered to their email address (legacy SSO registration) -- @1.3  
    Given test authentication is done
    Given "Natalia" has a verified standalone SSO/great.gov.uk account
    And "Natalia" decided to create a great.gov.uk account as "UK taxpayer"
    When "Natalia" fills out and submits the form
    Then "Natalia" should be on the "Profile - Enter your confirmation code (UK taxpayer)" page
    And "Natalia" should receive "Sign in to great.gov.uk services" email containing "There is an account already registered to this email address" message

  @dev-only @allure.link:TT-1127 @allure.link:TT-1035 @ltd-plc-royal @sole-trader-other-business @uk-taxpayer @failed
  Scenario Outline: User representing "LTD, PLC or Royal Charter" should be notified by email when there is an account already registered to their email address -- @1.1  
    Given test authentication is done
    Given "Natalia" has received the email confirmation code by opting to register as "LTD, PLC or Royal Charter"
    And "Natalia" quickly signed out
    And "Natalia" went to the "Profile - Enter your email address and set a password (LTD, PLC or Royal Charter)" page
    When "Natalia" fills out and submits the form
    Then "Natalia" should be on the "Profile - Enter your confirmation code (LTD, PLC or Royal Charter)" page
    And "Natalia" should receive "Sign in to great.gov.uk services" email containing "There is an account already registered to this email address" message

  @dev-only @allure.link:TT-1127 @allure.link:TT-1035 @ltd-plc-royal @sole-trader-other-business @uk-taxpayer @failed
  Scenario Outline: User representing "Sole trader or other type of business" should be notified by email when there is an account already registered to their email address -- @1.2  
    Given test authentication is done
    Given "Natalia" has received the email confirmation code by opting to register as "Sole trader or other type of business"
    And "Natalia" quickly signed out
    And "Natalia" went to the "Profile - Enter your email address and set a password (Sole trader or other type of business)" page
    When "Natalia" fills out and submits the form
    Then "Natalia" should be on the "Profile - Enter your confirmation code (Sole trader or other type of business)" page
    And "Natalia" should receive "Sign in to great.gov.uk services" email containing "There is an account already registered to this email address" message

  @dev-only @allure.link:TT-1127 @allure.link:TT-1035 @ltd-plc-royal @sole-trader-other-business @uk-taxpayer @failed
  Scenario Outline: User representing "UK taxpayer" should be notified by email when there is an account already registered to their email address -- @1.3  
    Given test authentication is done
    Given "Natalia" has received the email confirmation code by opting to register as "UK taxpayer"
    And "Natalia" quickly signed out
    And "Natalia" went to the "Profile - Enter your email address and set a password (UK taxpayer)" page
    When "Natalia" fills out and submits the form
    Then "Natalia" should be on the "Profile - Enter your confirmation code (UK taxpayer)" page
    And "Natalia" should receive "Sign in to great.gov.uk services" email containing "There is an account already registered to this email address" message

  @captcha @dev-only @allure.link:TT-1128 @allure.link:TT-1036 @ltd-plc-royal
  Scenario: A logged-in user representing "LTD, PLC or Royal Charter" company should not be able to access SSO Sign in or Create an account pages 
    Given test authentication is done
    Given "Natalia" has created a great.gov.uk account for a "LTD, PLC or Royal Charter"
    When "Natalia" goes to the "SSO - Sign in" page
    Then "Natalia" should be on the "Profile - About" page
    When "Natalia" goes to the "Profile - Create an account" page
    Then "Natalia" should be on the "Profile - Edit Company Profile" page

  @dev-only @allure.link:TT-1129 @allure.link:TT-1036 @ltd-plc-royal @sole-trader-other-business @failed
  Scenario Outline: Handle invalid user state - already logged in - skip ahead to page where they enter business details for "LTD, PLC or Royal Charter" -- @1.1  
    Given test authentication is done
    Given "Natalia" has a verified standalone SSO/great.gov.uk account
    And "Natalia" is signed in
    When "Natalia" goes to the "Profile - Create an account" page
    And "Natalia" decides to "start"
    Then "Natalia" should be on the "Profile - Select your business type" page
    When "Natalia" chooses "LTD, PLC or Royal Charter" option
    Then "Natalia" should be on the "Profile - Enter your business details (LTD, PLC or Royal Charter)" page

  @dev-only @allure.link:TT-1129 @allure.link:TT-1036 @ltd-plc-royal @sole-trader-other-business @failed
  Scenario Outline: Handle invalid user state - already logged in - skip ahead to page where they enter business details for "Sole trader or other type of business" -- @1.2  
    Given test authentication is done
    Given "Natalia" has a verified standalone SSO/great.gov.uk account
    And "Natalia" is signed in
    When "Natalia" goes to the "Profile - Create an account" page
    And "Natalia" decides to "start"
    Then "Natalia" should be on the "Profile - Select your business type" page
    When "Natalia" chooses "Sole trader or other type of business" option
    Then "Natalia" should be on the "Profile - Enter your business details (Sole trader or other type of business)" page

  @dev-only @allure.link:TT-1130 @allure.link:TT-1037 @ltd-plc-royal @sole-trader-other-business @failed
  Scenario Outline: Log user in on verification submit, not on account creation for "LTD, PLC or Royal Charter" -- @1.1  
    Given test authentication is done
    Given "Natalia" has received the email confirmation code by opting to register as "LTD, PLC or Royal Charter"
    And "Natalia" is on the "Profile - Enter your confirmation code (LTD, PLC or Royal Charter)" page
    When "Natalia" fills out and submits the form
    Then "Natalia" should be on the "Profile - Enter your business details (LTD, PLC or Royal Charter)" page
    And "Natalia" should see that she can "Sign out"

  @dev-only @allure.link:TT-1130 @allure.link:TT-1037 @ltd-plc-royal @sole-trader-other-business @failed
  Scenario Outline: Log user in on verification submit, not on account creation for "Sole trader or other type of business" -- @1.2  
    Given test authentication is done
    Given "Natalia" has received the email confirmation code by opting to register as "Sole trader or other type of business"
    And "Natalia" is on the "Profile - Enter your confirmation code (Sole trader or other type of business)" page
    When "Natalia" fills out and submits the form
    Then "Natalia" should be on the "Profile - Enter your business details (Sole trader or other type of business)" page
    And "Natalia" should see that she can "Sign out"

  @bug @allure.issue:TT-1281 @fixed @captcha @dev-only @ltd-plc-royal @sole-trader-other-business @uk-taxpayer
  Scenario Outline: Newly registered users should see "UK business registered in Companies House" business type on their "Profile - Business profile" page -- @1.1 business types 
    Given test authentication is done
    Given "Natalia" has created a great.gov.uk account for a "LTD, PLC or Royal Charter"
    When "Natalia" goes to the "Profile - Edit Company Profile" page
    Then "Natalia" should see "UK business registered in Companies House" on the page

  @bug @allure.issue:TT-1281 @fixed @captcha @dev-only @ltd-plc-royal @sole-trader-other-business @uk-taxpayer
  Scenario Outline: Newly registered users should see "UK business not registered in Companies House" business type on their "Profile - Business profile" page -- @1.2 business types 
    Given test authentication is done
    Given "Natalia" has created a great.gov.uk account for a "Sole trader or other type of business"
    When "Natalia" goes to the "Profile - Edit Company Profile" page
    Then "Natalia" should see "UK business not registered in Companies House" on the page

  @bug @allure.issue:TT-1281 @fixed @captcha @dev-only @ltd-plc-royal @sole-trader-other-business @uk-taxpayer
  Scenario Outline: Newly registered users should see "Get a business profile" business type on their "Profile - Business profile" page -- @1.3 business types 
    Given test authentication is done
    Given "Natalia" has created a great.gov.uk account for a "UK taxpayer"
    When "Natalia" goes to the "Profile - Edit Company Profile" page
    Then "Natalia" should see "Get a business profile" on the page

@domestic @allure.link:TT-1033 @allure.link:TT-1094 @enrol @new-registration @allure.suite:Profile
Feature: Profile - Non-CH enrolment flows

  Background:  

  @allure.link:TT-1118 @sole-trader-other-business
  Scenario: "Sole trader" representative should be asked to specify the type of their business before being asked to enter their email and set a password 
    Given test authentication is done
    Given "Natalia" visits the "Profile - Select your business type" page
    When "Natalia" chooses "Sole trader or other type of business" option
    Then "Natalia" should be on the "Profile - Enter your email address and set a password (Sole trader or other type of business)" page
    And "Natalia" should see following sections
      | sections               |
      | Registration form      |
      | Enrolment progress bar |

  @allure.link:TT-1119 @uk-taxpayer
  Scenario: UK taxpayers can create an SSO account 
    Given test authentication is done
    Given "Mirko" visits the "Profile - Select your business type" page
    When "Mirko" chooses "UK taxpayer" option
    Then "Mirko" should be on the "Profile - Enter your email address and set a password (UK taxpayer)" page
    And "Mirko" should see following sections
      | sections               |
      | Registration form      |
      | Enrolment progress bar |

  @allure.link:TT-1119 @foreign-business
  Scenario: Only UK business can create a great.gov.uk account 
    Given test authentication is done
    Given "Mirko" visits the "Profile - Select your business type" page
    When "Mirko" chooses "Overseas company" option
    Then "Mirko" should be on the "Profile - You cannot create an account" page
    And "Mirko" should see following sections
      | sections    |
      | Explanation |

  @foreign-business
  Scenario: Foreing business representative should be able to come back to our International site after learning that they can't create an account 
    Given test authentication is done
    Given "Mirko" visits the "Profile - You cannot create an account" page
    When "Mirko" decides to "visit our site for international businesses"
    Then "Mirko" should be on the "International - landing" page

  @dev-only @allure.link:TT-1120 @sole-trader-other-business @tax-payer
  Scenario Outline: "Sole trader or other type of business" representative should receive an email with confirmation code -- @1.1  
    Given test authentication is done
    Given "Natalia" visits the "Profile - Enter your email address and set a password (Sole trader or other type of business)" page
    When "Natalia" fills out and submits the form
    Then "Natalia" should be on the "Profile - Enter your confirmation code (Sole trader or other type of business)" page
    And "Natalia" should see following sections
      | sections                     |
      | Confirmation code message    |
      | Confirmation code form       |
      | An option to resend the code |
      | Enrolment progress bar       |
    And "Natalia" should receive email confirmation code

  @dev-only @allure.link:TT-1120 @sole-trader-other-business @tax-payer
  Scenario Outline: "UK taxpayer" representative should receive an email with confirmation code -- @1.2  
    Given test authentication is done
    Given "Natalia" visits the "Profile - Enter your email address and set a password (UK taxpayer)" page
    When "Natalia" fills out and submits the form
    Then "Natalia" should be on the "Profile - Enter your confirmation code (UK taxpayer)" page
    And "Natalia" should see following sections
      | sections                     |
      | Confirmation code message    |
      | Confirmation code form       |
      | An option to resend the code |
      | Enrolment progress bar       |
    And "Natalia" should receive email confirmation code

  @dev-only @allure.link:TT-2176 @allure.link:TT-2193 @password @sole-trader-other-business @tax-payer
  Scenario Outline: "Sole trader or other type of business" representative shouldn't be able to use a password ("letters" & "letters") that doesn't meet requirements otherwise their going to see "This password contains letters only" -- @1.1  
    Given test authentication is done
    Given "Natalia" visits the "Profile - Enter your email address and set a password (Sole trader or other type of business)" page
    When "Natalia" fills out and submits the form
      | field            | value   |
      | password         | letters |
      | confirm password | letters |
    Then "Natalia" should be on the "Profile - Enter your email address and set a password (Sole trader or other type of business)" page
    And "Natalia" should see "This password contains letters only" on the page

  @dev-only @allure.link:TT-2176 @allure.link:TT-2193 @password @sole-trader-other-business @tax-payer
  Scenario Outline: "Sole trader or other type of business" representative shouldn't be able to use a password ("abcdefghij" & "abcdefghij") that doesn't meet requirements otherwise their going to see "This password contains letters only" -- @1.2  
    Given test authentication is done
    Given "Natalia" visits the "Profile - Enter your email address and set a password (Sole trader or other type of business)" page
    When "Natalia" fills out and submits the form
      | field            | value      |
      | password         | abcdefghij |
      | confirm password | abcdefghij |
    Then "Natalia" should be on the "Profile - Enter your email address and set a password (Sole trader or other type of business)" page
    And "Natalia" should see "This password contains letters only" on the page

  @dev-only @allure.link:TT-2176 @allure.link:TT-2193 @password @sole-trader-other-business @tax-payer
  Scenario Outline: "Sole trader or other type of business" representative shouldn't be able to use a password ("abcdefghijk" & "abcdefghijk") that doesn't meet requirements otherwise their going to see "This password contains letters only" -- @1.3  
    Given test authentication is done
    Given "Natalia" visits the "Profile - Enter your email address and set a password (Sole trader or other type of business)" page
    When "Natalia" fills out and submits the form
      | field            | value       |
      | password         | abcdefghijk |
      | confirm password | abcdefghijk |
    Then "Natalia" should be on the "Profile - Enter your email address and set a password (Sole trader or other type of business)" page
    And "Natalia" should see "This password contains letters only" on the page

  @dev-only @allure.link:TT-2176 @allure.link:TT-2193 @password @sole-trader-other-business @tax-payer
  Scenario Outline: "Sole trader or other type of business" representative shouldn't be able to use a password ("0123456789" & "0123456789") that doesn't meet requirements otherwise their going to see "This password is entirely numeric" -- @1.4  
    Given test authentication is done
    Given "Natalia" visits the "Profile - Enter your email address and set a password (Sole trader or other type of business)" page
    When "Natalia" fills out and submits the form
      | field            | value      |
      | password         | 0123456789 |
      | confirm password | 0123456789 |
    Then "Natalia" should be on the "Profile - Enter your email address and set a password (Sole trader or other type of business)" page
    And "Natalia" should see "This password is entirely numeric" on the page

  @dev-only @allure.link:TT-2176 @allure.link:TT-2193 @password @sole-trader-other-business @tax-payer
  Scenario Outline: "Sole trader or other type of business" representative shouldn't be able to use a password ("password" & "don't match") that doesn't meet requirements otherwise their going to see "Passwords don't match" -- @1.5  
    Given test authentication is done
    Given "Natalia" visits the "Profile - Enter your email address and set a password (Sole trader or other type of business)" page
    When "Natalia" fills out and submits the form
      | field            | value       |
      | password         | password    |
      | confirm password | don't match |
    Then "Natalia" should be on the "Profile - Enter your email address and set a password (Sole trader or other type of business)" page
    And "Natalia" should see "Passwords don't match" on the page

  @dev-only @allure.link:TT-2176 @allure.link:TT-2193 @password @sole-trader-other-business @tax-payer
  Scenario Outline: "Sole trader or other type of business" representative shouldn't be able to use a password ("password" & "empty") that doesn't meet requirements otherwise their going to see "This field is required" -- @1.6  
    Given test authentication is done
    Given "Natalia" visits the "Profile - Enter your email address and set a password (Sole trader or other type of business)" page
    When "Natalia" fills out and submits the form
      | field            | value    |
      | password         | password |
      | confirm password | empty    |
    Then "Natalia" should be on the "Profile - Enter your email address and set a password (Sole trader or other type of business)" page
    And "Natalia" should see "This field is required" on the page

  @dev-only @allure.link:TT-2176 @allure.link:TT-2193 @password @sole-trader-other-business @tax-payer
  Scenario Outline: "Sole trader or other type of business" representative shouldn't be able to use a password ("empty" & "empty") that doesn't meet requirements otherwise their going to see "This field is required" -- @1.7  
    Given test authentication is done
    Given "Natalia" visits the "Profile - Enter your email address and set a password (Sole trader or other type of business)" page
    When "Natalia" fills out and submits the form
      | field            | value |
      | password         | empty |
      | confirm password | empty |
    Then "Natalia" should be on the "Profile - Enter your email address and set a password (Sole trader or other type of business)" page
    And "Natalia" should see "This field is required" on the page

  @dev-only @allure.link:TT-2176 @allure.link:TT-2193 @password @sole-trader-other-business @tax-payer
  Scenario Outline: "Sole trader or other type of business" representative shouldn't be able to use a password ("empty" & "password") that doesn't meet requirements otherwise their going to see "This field is required" -- @1.8  
    Given test authentication is done
    Given "Natalia" visits the "Profile - Enter your email address and set a password (Sole trader or other type of business)" page
    When "Natalia" fills out and submits the form
      | field            | value    |
      | password         | empty    |
      | confirm password | password |
    Then "Natalia" should be on the "Profile - Enter your email address and set a password (Sole trader or other type of business)" page
    And "Natalia" should see "This field is required" on the page

  @dev-only @allure.link:TT-2176 @allure.link:TT-2193 @password @sole-trader-other-business @tax-payer
  Scenario Outline: "Sole trader or other type of business" representative shouldn't be able to use a password ("password" & "password") that doesn't meet requirements otherwise their going to see "This password contains the word 'password'" -- @1.9  
    Given test authentication is done
    Given "Natalia" visits the "Profile - Enter your email address and set a password (Sole trader or other type of business)" page
    When "Natalia" fills out and submits the form
      | field            | value    |
      | password         | password |
      | confirm password | password |
    Then "Natalia" should be on the "Profile - Enter your email address and set a password (Sole trader or other type of business)" page
    And "Natalia" should see "This password contains the word 'password'" on the page

  @dev-only @allure.link:TT-2176 @allure.link:TT-2193 @password @sole-trader-other-business @tax-payer
  Scenario Outline: "Sole trader or other type of business" representative shouldn't be able to use a password ("123 short" & "123 short") that doesn't meet requirements otherwise their going to see "This password is too short. It must contain at least 10 characters" -- @1.10  
    Given test authentication is done
    Given "Natalia" visits the "Profile - Enter your email address and set a password (Sole trader or other type of business)" page
    When "Natalia" fills out and submits the form
      | field            | value     |
      | password         | 123 short |
      | confirm password | 123 short |
    Then "Natalia" should be on the "Profile - Enter your email address and set a password (Sole trader or other type of business)" page
    And "Natalia" should see "This password is too short. It must contain at least 10 characters" on the page

  @dev-only @allure.link:TT-2176 @allure.link:TT-2193 @password @sole-trader-other-business @tax-payer
  Scenario Outline: "UK taxpayer" representative shouldn't be able to use a password ("letters" & "letters") that doesn't meet requirements otherwise their going to see "This password contains letters only" -- @1.11  
    Given test authentication is done
    Given "Natalia" visits the "Profile - Enter your email address and set a password (UK taxpayer)" page
    When "Natalia" fills out and submits the form
      | field            | value   |
      | password         | letters |
      | confirm password | letters |
    Then "Natalia" should be on the "Profile - Enter your email address and set a password (UK taxpayer)" page
    And "Natalia" should see "This password contains letters only" on the page

  @dev-only @allure.link:TT-2176 @allure.link:TT-2193 @password @sole-trader-other-business @tax-payer
  Scenario Outline: "UK taxpayer" representative shouldn't be able to use a password ("abcdefghij" & "abcdefghij") that doesn't meet requirements otherwise their going to see "This password contains letters only" -- @1.12  
    Given test authentication is done
    Given "Natalia" visits the "Profile - Enter your email address and set a password (UK taxpayer)" page
    When "Natalia" fills out and submits the form
      | field            | value      |
      | password         | abcdefghij |
      | confirm password | abcdefghij |
    Then "Natalia" should be on the "Profile - Enter your email address and set a password (UK taxpayer)" page
    And "Natalia" should see "This password contains letters only" on the page

  @dev-only @allure.link:TT-2176 @allure.link:TT-2193 @password @sole-trader-other-business @tax-payer
  Scenario Outline: "UK taxpayer" representative shouldn't be able to use a password ("abcdefghijk" & "abcdefghijk") that doesn't meet requirements otherwise their going to see "This password contains letters only" -- @1.13  
    Given test authentication is done
    Given "Natalia" visits the "Profile - Enter your email address and set a password (UK taxpayer)" page
    When "Natalia" fills out and submits the form
      | field            | value       |
      | password         | abcdefghijk |
      | confirm password | abcdefghijk |
    Then "Natalia" should be on the "Profile - Enter your email address and set a password (UK taxpayer)" page
    And "Natalia" should see "This password contains letters only" on the page

  @dev-only @allure.link:TT-2176 @allure.link:TT-2193 @password @sole-trader-other-business @tax-payer
  Scenario Outline: "UK taxpayer" representative shouldn't be able to use a password ("0123456789" & "0123456789") that doesn't meet requirements otherwise their going to see "This password is entirely numeric" -- @1.14  
    Given test authentication is done
    Given "Natalia" visits the "Profile - Enter your email address and set a password (UK taxpayer)" page
    When "Natalia" fills out and submits the form
      | field            | value      |
      | password         | 0123456789 |
      | confirm password | 0123456789 |
    Then "Natalia" should be on the "Profile - Enter your email address and set a password (UK taxpayer)" page
    And "Natalia" should see "This password is entirely numeric" on the page

  @dev-only @allure.link:TT-2176 @allure.link:TT-2193 @password @sole-trader-other-business @tax-payer
  Scenario Outline: "UK taxpayer" representative shouldn't be able to use a password ("password" & "don't match") that doesn't meet requirements otherwise their going to see "Passwords don't match" -- @1.15  
    Given test authentication is done
    Given "Natalia" visits the "Profile - Enter your email address and set a password (UK taxpayer)" page
    When "Natalia" fills out and submits the form
      | field            | value       |
      | password         | password    |
      | confirm password | don't match |
    Then "Natalia" should be on the "Profile - Enter your email address and set a password (UK taxpayer)" page
    And "Natalia" should see "Passwords don't match" on the page

  @dev-only @allure.link:TT-2176 @allure.link:TT-2193 @password @sole-trader-other-business @tax-payer
  Scenario Outline: "UK taxpayer" representative shouldn't be able to use a password ("password" & "empty") that doesn't meet requirements otherwise their going to see "This field is required" -- @1.16  
    Given test authentication is done
    Given "Natalia" visits the "Profile - Enter your email address and set a password (UK taxpayer)" page
    When "Natalia" fills out and submits the form
      | field            | value    |
      | password         | password |
      | confirm password | empty    |
    Then "Natalia" should be on the "Profile - Enter your email address and set a password (UK taxpayer)" page
    And "Natalia" should see "This field is required" on the page

  @dev-only @allure.link:TT-2176 @allure.link:TT-2193 @password @sole-trader-other-business @tax-payer
  Scenario Outline: "UK taxpayer" representative shouldn't be able to use a password ("empty" & "empty") that doesn't meet requirements otherwise their going to see "This field is required" -- @1.17  
    Given test authentication is done
    Given "Natalia" visits the "Profile - Enter your email address and set a password (UK taxpayer)" page
    When "Natalia" fills out and submits the form
      | field            | value |
      | password         | empty |
      | confirm password | empty |
    Then "Natalia" should be on the "Profile - Enter your email address and set a password (UK taxpayer)" page
    And "Natalia" should see "This field is required" on the page

  @dev-only @allure.link:TT-2176 @allure.link:TT-2193 @password @sole-trader-other-business @tax-payer
  Scenario Outline: "UK taxpayer" representative shouldn't be able to use a password ("empty" & "password") that doesn't meet requirements otherwise their going to see "This field is required" -- @1.18  
    Given test authentication is done
    Given "Natalia" visits the "Profile - Enter your email address and set a password (UK taxpayer)" page
    When "Natalia" fills out and submits the form
      | field            | value    |
      | password         | empty    |
      | confirm password | password |
    Then "Natalia" should be on the "Profile - Enter your email address and set a password (UK taxpayer)" page
    And "Natalia" should see "This field is required" on the page

  @dev-only @allure.link:TT-2176 @allure.link:TT-2193 @password @sole-trader-other-business @tax-payer
  Scenario Outline: "UK taxpayer" representative shouldn't be able to use a password ("password" & "password") that doesn't meet requirements otherwise their going to see "This password contains the word 'password'" -- @1.19  
    Given test authentication is done
    Given "Natalia" visits the "Profile - Enter your email address and set a password (UK taxpayer)" page
    When "Natalia" fills out and submits the form
      | field            | value    |
      | password         | password |
      | confirm password | password |
    Then "Natalia" should be on the "Profile - Enter your email address and set a password (UK taxpayer)" page
    And "Natalia" should see "This password contains the word 'password'" on the page

  @dev-only @allure.link:TT-2176 @allure.link:TT-2193 @password @sole-trader-other-business @tax-payer
  Scenario Outline: "UK taxpayer" representative shouldn't be able to use a password ("123 short" & "123 short") that doesn't meet requirements otherwise their going to see "This password is too short. It must contain at least 10 characters" -- @1.20  
    Given test authentication is done
    Given "Natalia" visits the "Profile - Enter your email address and set a password (UK taxpayer)" page
    When "Natalia" fills out and submits the form
      | field            | value     |
      | password         | 123 short |
      | confirm password | 123 short |
    Then "Natalia" should be on the "Profile - Enter your email address and set a password (UK taxpayer)" page
    And "Natalia" should see "This password is too short. It must contain at least 10 characters" on the page

  @bug @allure.issue:TT-2192 @fixed @dev-only @sole-trader-other-business @tax-payer
  Scenario Outline: "Sole trader or other type of business" representative should be able to use spaces in password -- @1.1 examples affected by bug 
    Given test authentication is done
    Given "Natalia" visits the "Profile - Enter your email address and set a password (Sole trader or other type of business)" page
    When "Natalia" fills out and submits the form
      | field            | value       |
      | password         | a b c d e f |
      | confirm password | a b c d e f |
    Then "Natalia" should be on the "Profile - Enter your confirmation code (Sole trader or other type of business)" page

  @bug @allure.issue:TT-2192 @fixed @dev-only @sole-trader-other-business @tax-payer
  Scenario Outline: "UK taxpayer" representative should be able to use spaces in password -- @1.2 examples affected by bug 
    Given test authentication is done
    Given "Natalia" visits the "Profile - Enter your email address and set a password (UK taxpayer)" page
    When "Natalia" fills out and submits the form
      | field            | value       |
      | password         | 1 2 3 4 5 6 |
      | confirm password | 1 2 3 4 5 6 |
    Then "Natalia" should be on the "Profile - Enter your confirmation code (UK taxpayer)" page

  @dev-only @allure.link:TT-1121 @sole-trader-other-business @failed
  Scenario Outline: A representative of a "Sole trader or other type of business" company should be asked to enter their business details after providing email confirmation code -- @1.1  
    Given test authentication is done
    Given "Natalia" has received the email confirmation code by opting to register as "Sole trader or other type of business"
    And "Natalia" is on the "Profile - Enter your confirmation code (Sole trader or other type of business)" page
    When "Natalia" fills out and submits the form
    Then "Natalia" should be on the "Profile - Enter your business details (Sole trader or other type of business)" page
    And "Natalia" should see following sections
      | sections                    |
      | Your business type          |
      | Enter your business details |
      | Enrolment progress bar      |

  @dev-only @allure.link:TT-1122 @uk-taxpayer @failed
  Scenario: A UK taxpayers wanting to register should be asked to enter their details after providing email confirmation code 
    Given test authentication is done
    Given "Natalia" has received the email confirmation code by opting to register as "UK taxpayer"
    And "Natalia" is on the "Profile - Enter your confirmation code (UK taxpayer)" page
    When "Natalia" fills out and submits the form
    Then "Natalia" should be on the "Profile - Enter your details (UK taxpayer)" page
    And "Natalia" should see following sections
      | sections               |
      | Your business type     |
      | Enter your details     |
      | Enrolment progress bar |

  @dev-only @allure.link:TT-1123 @sole-trader-other-business @failed
  Scenario Outline: A representative of a "Sole trader or other type of business" company should be asked to enter their details after providing business details -- @1.1  
    Given test authentication is done
    Given "Natalia" has received the email confirmation code by opting to register as "Sole trader or other type of business"
    And "Natalia" is on the "Profile - Enter your confirmation code (Sole trader or other type of business)" page
    When "Natalia" fills out and submits the form
    Then "Natalia" should be on the "Profile - Enter your business details (Sole trader or other type of business)" page
    And "Natalia" should see following sections
      | sections                    |
      | Your business type          |
      | Enter your business details |
      | Enrolment progress bar      |

  @captcha @dev-only @allure.link:TT-1128 @allure.link:TT-1036 @sole-trader-other-business
  Scenario: A logged-in user representing "Sole trader or other type of business" should not be able to access SSO Sign in or Create an account pages 
    Given test authentication is done
    Given "Natalia" has created a great.gov.uk account for a "Sole trader or other type of business"
    When "Natalia" goes to the "SSO - Sign in" page
    Then "Natalia" should be on the "Profile - About" page
    When "Natalia" goes to the "Profile - Create an account" page
    Then "Natalia" should be on the "Profile - Edit Company Profile" page

  @captcha @dev-only @allure.link:TT-1128 @allure.link:TT-1036 @uk-taxpayer
  Scenario: A logged-in user representing "UK taxpayer" should not be able to access SSO Sign in or Create an account pages 
    Given test authentication is done
    Given "Natalia" has created a great.gov.uk account for a "UK taxpayer"
    When "Natalia" goes to the "SSO - Sign in" page
    Then "Natalia" should be on the "Profile - About" page
    When "Natalia" goes to the "Profile - Create an account" page
    Then "Natalia" should be on the "Profile - Create an account" page

  @allure.link:TT-1560 @uk-taxpayer
  Scenario: New registration for an individual who starts journey in Business profiles 
    Given test authentication is done
    Given "Mirko" visited the "Find a Buyer - Home" page
    And "Mirko" decided to "Start now"
    And "Mirko" got to the "SSO - Sign in" page
    And "Mirko" decided to "Create account"
    And "Mirko" got to the "Profile - Create an account" page
    And "Mirko" decided to "start"
    And "Mirko" got to the "Profile - Select your business type" page
    When "Mirko" chooses "UK taxpayer" option
    Then "Mirko" should be on the "Profile - Start as Individual" page
    And "Mirko" should see following sections
      | sections    |
      | Breadcrumbs |
      | Explanation |
      | Links       |

@domestic @allure.suite:SOO
Feature: SOO - Apply via DIT

  Background:  

  @allure.link:XOT-689 @exopps @captcha @dev-only @soo-long-domestic_1 @account-support @read-only
  Scenario Outline: Anonymous Enquirers should be redirected to SSO login page -- @1.1 products and countries 
    Given test authentication is done
    Given "Robert" found a marketplace in "Australia" to sell "Clothing and accessories"
    When "Robert" decides to "Apply now"
    Then "Robert" should be on the "SSO - Sign in" page

  @allure.link:XOT-740 @exopps @captcha @dev-only @soo-long-domestic_2 @account-support @failed
  Scenario Outline: Logged in Domestic "Selling Online Overseas" Enquirers should be able to get the Enquiry page -- @1.1 products and countries 
    Given test authentication is done
    Given "Robert" has created a great.gov.uk account for a "UK taxpayer"
    And "Robert" found a marketplace in "Australia" to sell "Clothing and accessories"
    When "Robert" decides to "Apply now"
    Then "Robert" should be on the "Domestic - Contact details (SOO)" page
    And "Robert" should see following fields populated with values provided on other forms
      | form                                                                       | fields |
      | Profile - Enter your email address and set a password (UK taxpayer) - form | email  |

  @allure.link:XOT-689 @allure.link:XOT-741 @failed @exopps @captcha @dev-only @soo-long-domestic_3 @account-support
  Scenario Outline: Enquirers representing a "LTD, PLC or Royal Charter" organisation should see SOO contact form pre-populated with their details -- @1.1 products and countries 
    Given test authentication is done
    Given "Robert" has created a great.gov.uk account for a "LTD, PLC or Royal Charter"
    And "Robert" found a marketplace in "Australia" to sell "Clothing and accessories"
    When "Robert" decides to "Apply now"
    Then "Robert" should be on the "Domestic - Contact details (SOO)" page
    And "Robert" should see following fields populated with values provided on other forms
      | form                                                                              | fields                |
      | Profile - Enter your email address and set a password (LTD, PLC or Royal Charter) | email                 |
      | Profile - Enter your details (LTD, PLC or Royal Charter)                          | first name, last name |
    When "Robert" fills out and submits the form
    Then "Robert" should be on the "Domestic - About your business (SOO)" page
    And "Robert" should see following fields populated with values provided on other forms
      | form                                           | fields                                                 |
      | Profile - Enter your business details [step 2] | company name, company number, company website, address |
    When "Robert" fills out and submits the form
    Then "Robert" should be on the "Domestic - About your products (SOO)" page
    When "Robert" fills out and submits the form
    Then "Robert" should be on the "Domestic - Your experience (SOO)" page
    When "Robert" fills out and submits the form
    Then "Robert" should be on the "Domestic - Thank you for your enquiry (SOO)" page
    Then a "zendesk" notification entitled "great.gov.uk Selling Online Overseas contact form" should be sent to "Robert"

@domestic @allure.suite:SOO
Feature: SOO - Search for marketplace

  Background:  

  @allure.link:XOT-631 @allure.link:XOT-689 @exopps @soo-long-domestic_4 @account-support @read-only
  Scenario Outline: Visitors should be able to search for marketplaces to sell "Clothing and accessories" in "Australia" -- @1.1 products and countries 
    Given test authentication is done
    Given "Robert" visits the "Selling Online Overseas - Home" page
    When "Robert" searches for marketplaces in "Australia" to sell "Clothing and accessories"
    Then "Robert" should be on the "Selling Online Overseas - Search results" page
    And "Robert" should see marketplaces which operate globally or in "Australia"

  @allure.link:XOT-631 @allure.link:XOT-689 @exopps @soo-long-domestic_4 @account-support @read-only
  Scenario Outline: Visitors should be able to search for marketplaces to sell "Home and lifestyle" in "Poland" -- @1.2 products and countries 
    Given test authentication is done
    Given "Robert" visits the "Selling Online Overseas - Search results" page
    When "Robert" searches for marketplaces in "Poland" to sell "Home and lifestyle"
    Then "Robert" should be on the "Selling Online Overseas - Search results" page
    And "Robert" should see marketplaces which operate globally or in "Poland"

  @allure.link:XOT-689 @failed @exopps @soo-long-domestic_5 @account-support @read-only
  Scenario Outline: Domestic "Selling Online Overseas" Enquirers should be able to view marketplace page -- @1.1 products and countries 
    Given test authentication is done
    Given "Robert" searches for marketplaces in "Australia" to sell "Clothing and accessories"
    When "Robert" randomly selects a marketplace
    Then "Robert" should be on the "Selling Online Overseas - Marketplace" page
    Then "Robert" should see following sections
      | Sections            |
      | Header              |
      | Breadcrumbs         |
      | Logo                |
      | Apply now - sidebar |
      | Market details      |
      | Back                |
      | Error reporting     |
      | Footer              |

  @allure.link:XOT-689 @failed @exopps @soo-long-domestic_5 @account-support @read-only
  Scenario Outline: Domestic "Selling Online Overseas" Enquirers should be able to view marketplace page -- @1.2 products and countries 
    Given test authentication is done
    Given "Robert" searches for marketplaces in "China" to sell "Sports and leisure"
    When "Robert" randomly selects a marketplace
    Then "Robert" should be on the "Selling Online Overseas - Marketplace" page
    Then "Robert" should see following sections
      | Sections            |
      | Header              |
      | Breadcrumbs         |
      | Logo                |
      | Apply now - sidebar |
      | Market details      |
      | Back                |
      | Error reporting     |
      | Footer              |

@domestic @sso @allure.suite:SSO
Feature: SSO - Sign in

  Background:  

  @allure.issue:TT-1778
  Scenario: Visitors should see all expected page elements on "SSO - Sign in" 
    Given test authentication is done
    When "Robert" goes to the "SSO - Sign in" page
    Then "Robert" should see following sections
      | Sections                      |
      | Header                        |
      | SSO links - logged out        |
      | Breadcrumbs                   |
      | Form                          |
      | Create a great.gov.uk account |
      | Footer                        |

  @allure.issue:TT-1778
  Scenario: Visitors should see all expected page elements on "SSO - Registration" page 
    Given test authentication is done
    When "Robert" goes to the "SSO - Registration" page
    Then "Robert" should see following sections
      | Sections               |
      | Header                 |
      | SSO links - logged out |
      | Breadcrumbs            |
      | Form                   |
      | Footer                 |

  @allure.issue:TT-1778
  Scenario: Visitors should see all expected page elements on "Profile - Sign in" 
    Given test authentication is done
    Given "Robert" visits the "SSO - Sign in" page
    When "Robert" decides to "Create account"
    Then "Robert" should be on the "Profile - Create an account" page
    And "Robert" should see following sections
      | Sections               |
      | Header                 |
      | Breadcrumbs            |
      | Enrolment progress bar |
      | Footer                 |

@Great_Magna_Tests @where-to-export-page @allure.suite:Great_Magna_Export_Plan
Feature: GreatMagna - Where To Export Page

  Background:  

  @allure.link:XOT-1021 @Great_Magna_Export_Plan @wte_1
  Scenario: User should be able to "Add product" 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Where To Export"
    And "Robert" decides to enter product name "Coffee" on page "WhereToExport - Compare Countries"
    And "Robert" decides to click on select and save random product options on the "WhereToExport - Compare Countries" Page

  @allure.link:XOT-1022 @Great_Magna_Export_Plan_add_place
  Scenario: User should be able to "Add a place" 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+999@gmail.com", password "!@£$%^&*()" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Where To Export"
    And "Robert" decides to enter maximum "10" country names with display "5" tabs on page "WhereToExport - Compare Countries"
      | CountryName | CountryPlaceNumber |
      | India       | 1                  |
      | Nigeria     | 2                  |
      | Indonesia   | 3                  |
      | Israel      | 4                  |
      | Bangladesh  | 5                  |
      | Spain       | 6                  |
      | Argentina   | 7                  |
      | Venezuela   | 8                  |
      | Germany     | 9                  |
      | Italy       | 10                 |

  @allure.link:XOT-1035 @Great_Magna_Export_Plan_WTE_Link
  Scenario: User should be able to click on Learn to export button and View your export plan button 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Where To Export"
    And "Robert" decides to enter maximum "10" country names with display "5" tabs on page "WhereToExport - Compare Countries"
      | CountryName | CountryPlaceNumber |
      | Senegal     | 1                  |
      | Seychelles  | 2                  |
    And "Robert" decides to click on "Learn to Export"
    And "Robert" should be on the "LearnToExport - Learn Categories" Page
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    And "Robert" decides to click on "Where To Export"
    And "Robert" decides to click on "View Your Export Plan"

  @allure.link:XOT-1035 @Great_Magna_Export_Plan_WTE_Link_1
  Scenario: User should be able to click on Learn to export button and View your export plan button 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Where To Export"
    And "Robert" decides to enter maximum "10" country names with display "5" tabs on page "WhereToExport - Compare Countries"
      | CountryName | CountryPlaceNumber |
      | Senegal     | 1                  |
    And "Robert" decides to click on element "UN Comtrade" on page "WhereToExport - Compare Countries"
    And "Robert" decides to click on element "World Bank" on page "WhereToExport - Compare Countries"
    And "Robert" decides to click on element "Transparency International" on page "WhereToExport - Compare Countries"
    And "Robert" decides to click on element "World Bank" on page "WhereToExport - Compare Countries"

  @allure.link:XOT-1113 @Great_Magna_Export_Plan_wte_next_lessons
  Scenario: User should be able to click on where to export and select learn to export 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Where to Export"
    And "Robert" should be on the "WhereToExport - Compare Countries" Page
    And "Robert" decides to click on "Learn to export in next steps"
    And "Robert" should be on the "LearnToExport - Learn Categories" Page

  @allure.link:XOT-1113 @Great_Magna_Export_Plan_wte_next_exportplan
  Scenario: User should be able to click on where to export and select view your export plan 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Where to Export"
    And "Robert" should be on the "WhereToExport - Compare Countries" Page
    And "Robert" decides to click on "view your export plan in next steps"
    And "Robert" should be on the "Build An Export Plan - Export Plan" Page

  @allure.link:XOT-1115 @Great_Magna_Export_Plan_wte_next_exportplan
  Scenario: User should be able to click on favourites on the country and check whether it is added to personalisation bar 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Where To Export"
    And "Robert" decides to enter maximum "10" country names with display "5" tabs on page "WhereToExport - Compare Countries"
      | CountryName | CountryPlaceNumber |
      | Albania     | 1                  |
      | Andorra     | 2                  |
      | Austria     | 3                  |
      | Belgium     | 4                  |
    And "Robert" decides to click on "favourites"

  @allure.link:XOT-1115 @Great_Magna_Export_Plan_wte_next_exportplan
  Scenario: User should be able to click on favourites on the country and check whether it is added to personalisation bar 
    Given test authentication is done
    Given "Robert" visited "GreatMagna - Login" page
    When "Robert" decides to enter email address "santoshtesting10008+888@gmail.com", password "Testing@123!" and click Login
    And "Robert" should be on the "GreatMagna - Dashboard" Page
    Then "Robert" decides to click on "Where To Export"
    And "Robert" decides to enter maximum "10" country names with display "5" tabs on page "WhereToExport - Compare Countries"
      | CountryName | CountryPlaceNumber |
      | Albania     | 1                  |
    And "Robert" decides to click on "Add another product" on page "WhereToExport - Compare Countries"

